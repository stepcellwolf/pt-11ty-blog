<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Deploy and benchmark Wazuh and Graylog SIEM solutions in your homelab. Performance analysis, resource usage, and integration patterns for security monitoring.">
    <meta name="author" content="William Zujkowski">
    <meta name="keywords" content="cybersecurity, information security, AI security, Zero-Trust, homelab, security engineering, NIST compliance, federal security">
    
    <title>SIEM for Homelab: Wazuh vs Graylog Performance Comparison - William Zujkowski</title>
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://williamzujkowski.github.io/posts/siem-for-homelab-wazuh-vs-graylog-performance-comparison/">
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/atom+xml" title="William Zujkowski Feed" href="https://williamzujkowski.github.io/feed.xml">
    
    <!-- Favicons and PWA -->
    
<!-- Primary Favicons -->
<link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">

<!-- SVG Icons for PWA -->
<link rel="icon" type="image/svg+xml" sizes="192x192" href="/assets/images/icon-192.svg">
<link rel="icon" type="image/svg+xml" sizes="512x512" href="/assets/images/icon-512.svg">

<!-- Theme Colors -->
<meta name="msapplication-TileColor" content="#1e40af">
<meta name="theme-color" content="#1e40af">

<!-- Web App Manifest -->
<link rel="manifest" href="/manifest.json">
    
    <!-- Open Graph -->
    <meta property="og:title" content="SIEM for Homelab: Wazuh vs Graylog Performance Comparison">
    <meta property="og:description" content="Deploy and benchmark Wazuh and Graylog SIEM solutions in your homelab. Performance analysis, resource usage, and integration patterns for security monitoring.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://williamzujkowski.github.io/posts/siem-for-homelab-wazuh-vs-graylog-performance-comparison/">
    <meta property="og:image" content="https://williamzujkowski.github.io/assets/images/og-image.jpg">
    <meta property="og:site_name" content="William Zujkowski">
    <meta property="og:locale" content="en_US">
    
    <meta property="article:author" content="William Zujkowski">
    <meta property="article:published_time" content="2025-11-05">
    
    
    
    <!-- Additional SEO Meta -->
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        
        "headline": "SIEM for Homelab: Wazuh vs Graylog Performance Comparison",
        "description": "Deploy and benchmark Wazuh and Graylog SIEM solutions in your homelab. Performance analysis, resource usage, and integration patterns for security monitoring.",
        "datePublished": "2025-11-05",
        "dateModified": "2025-11-18",
        "author": {
            "@type": "Person",
            "name": "William Zujkowski",
            "url": "https://williamzujkowski.github.io/about/",
            "sameAs": [
                "https://github.com/williamzujkowski",
                "https://www.linkedin.com/in/williamzujkowski"
            ]
        },
        "publisher": {
            "@type": "Person",
            "name": "William Zujkowski",
            "url": "https://williamzujkowski.github.io",
            "logo": {
                "@type": "ImageObject",
                "url": "https://williamzujkowski.github.io/assets/images/headshot.png"
            }
        },
        "image": {
            "@type": "ImageObject",
            "url": "https://williamzujkowski.github.io/assets/images/og-image.jpg"
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://williamzujkowski.github.io/posts/siem-for-homelab-wazuh-vs-graylog-performance-comparison/"
        },
        "url": "https://williamzujkowski.github.io/posts/siem-for-homelab-wazuh-vs-graylog-performance-comparison/"
        
    }
    </script>
    
    <!-- Resource Hints for Performance -->
    <link rel="preconnect" href="https://rsms.me">
    <link rel="dns-prefetch" href="https://rsms.me">
    
    <!-- Inter font -->
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    
    <!-- Dark mode script -->
    <script>
        // Initialize dark mode and theme color
        (function() {
            const isDark = localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
            const themeColorMeta = document.querySelector('meta[name="theme-color"]');
            
            if (isDark) {
                document.documentElement.classList.add('dark');
                if (themeColorMeta) themeColorMeta.content = '#111827';
            } else {
                document.documentElement.classList.remove('dark');
                if (themeColorMeta) themeColorMeta.content = '#1e40af';
            }
        })();
    </script>
</head>
<body class="min-h-screen bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-300 antialiased">
    <a href="#main" class="skip-to-main">Skip to main content</a>


    
    <!-- Header -->
    <header role="banner" aria-label="Site header" class="site-header sticky top-0 z-50 w-full">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8" aria-label="Primary navigation">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <a href="/" class="text-xl font-semibold gradient-text">
                        William Zujkowski
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1">
                        <ul class="flex items-center space-x-1"><li><a href="/" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Home</a></li>
<li><a href="/about/" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">About</a></li>
<li><a href="/posts/" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Posts</a></li>
<li><a href="/resources/" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Resources</a></li>
<li><a href="/stats/" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Stats</a></li>
<li><a href="/uses/" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Uses</a></li></ul>
                    </div>
                </div>
                
                <!-- Dark mode toggle & Mobile menu button -->
                <div class="flex items-center space-x-4">
                    <!-- Dark mode toggle -->
                    <button type="button" onclick="toggleDarkMode()" class="min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200" aria-label="Toggle dark mode">
                        <!-- Light mode icon -->
                        <svg class="w-5 h-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <!-- Dark mode icon -->
                        <svg class="w-5 h-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                    
                    <!-- Mobile menu button -->
                    <button type="button" onclick="toggleMobileMenu()" class="md:hidden min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200" aria-label="Toggle menu" data-mobile-menu-button>
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="hidden md:hidden" data-mobile-menu-panel>
                <div class="px-2 pt-2 pb-3 space-y-1">
                    <ul class="space-y-1"><li><a href="/" class="block px-4 py-3 min-h-[44px] rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Home</a></li>
<li><a href="/about/" class="block px-4 py-3 min-h-[44px] rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">About</a></li>
<li><a href="/posts/" class="block px-4 py-3 min-h-[44px] rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Posts</a></li>
<li><a href="/resources/" class="block px-4 py-3 min-h-[44px] rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Resources</a></li>
<li><a href="/stats/" class="block px-4 py-3 min-h-[44px] rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Stats</a></li>
<li><a href="/uses/" class="block px-4 py-3 min-h-[44px] rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">Uses</a></li></ul>
                </div>
            </div>
        </nav>
    </header>
    
    <!-- Breadcrumbs -->
    
    
    <!-- Main content -->
    <main id="main" class="flex-grow">
        <!-- Enhanced Breadcrumbs for Blog Posts -->
<nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4" aria-label="Breadcrumb">
  <ol class="flex items-center space-x-2 text-sm flex-wrap">
    <li>
      <a href="/" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
        <svg class="w-4 h-4 inline-block mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
        Home
      </a>
    </li>
    <li class="flex items-center">
      <svg class="w-4 h-4 mx-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
      <a href="/posts/" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
        Blog
      </a>
    </li>
    
      
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
      <li class="flex items-center">
        <svg class="w-4 h-4 mx-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
        <a href="/tags/siem/" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
          siem
        </a>
      </li>
      
    
    <li class="flex items-center">
      <svg class="w-4 h-4 mx-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
      <span class="text-gray-900 dark:text-gray-100 font-medium truncate max-w-xs">SIEM for Homelab: Wazuh vs Graylog Performance Com...</span>
    </li>
  </ol>
</nav>

<article class="py-16 sm:py-24">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-3xl">
            <header role="banner" aria-label="Site header" class="mb-12">
                <div class="text-center">
                    <div class="flex items-center justify-center space-x-4 text-sm font-medium">
                        <time datetime="2025-11-05" class="text-primary-600 dark:text-primary-400">
                            November 5, 2025
                        </time>
                        <span class="text-gray-400 dark:text-gray-600">•</span>
                        <span class="text-gray-600 dark:text-gray-400">
                            8 min read
                        </span>
                    </div>
                    <h1 class="mt-4 text-4xl font-bold tracking-tight text-gray-900 dark:text-gray-100 sm:text-5xl animate-fade-in-up">
                        SIEM for Homelab: Wazuh vs Graylog Performance Comparison
                    </h1>
                    
                    <p class="mt-6 text-lg leading-8 text-gray-600 dark:text-gray-300 animate-fade-in-up animation-delay-200">
                        Deploy and benchmark Wazuh and Graylog SIEM solutions in your homelab. Performance analysis, resource usage, and integration patterns for security monitoring.
                    </p>
                    
                </div>
                
                
                <div class="mt-8 flex flex-wrap justify-center gap-2 animate-fade-in-up animation-delay-400">
                    
                        
                    
                        
                        <a href="/tags/siem/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            siem
                        </a>
                        
                    
                        
                        <a href="/tags/wazuh/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            wazuh
                        </a>
                        
                    
                        
                        <a href="/tags/graylog/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            graylog
                        </a>
                        
                    
                        
                        <a href="/tags/security/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            security
                        </a>
                        
                    
                        
                        <a href="/tags/monitoring/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            monitoring
                        </a>
                        
                    
                        
                        <a href="/tags/homelab/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            homelab
                        </a>
                        
                    
                        
                        <a href="/tags/python/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            python
                        </a>
                        
                    
                        
                        <a href="/tags/observability/" class="inline-flex items-center rounded-full bg-primary-50 dark:bg-primary-900/20 px-3 py-1 text-sm font-medium text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors">
                            observability
                        </a>
                        
                    
                </div>
                
            </header>

            <!-- Table of Contents Accordion -->
            <nav aria-label="Table of contents" class="toc-accordion mb-8 animate-fade-in-up animation-delay-500">
                <details class="group">
                    <summary class="cursor-pointer select-none font-medium flex items-center justify-between">
                        <span>Table of Contents</span>
                        <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </summary>
                    <div class="toc-content mt-4" id="toc-content">
                        <!-- ToC will be generated here by JavaScript -->
                    </div>
                </details>
            </nav>

            <div class="prose prose-lg prose-gray dark:prose-invert mx-auto animate-fade-in-up animation-delay-600">
                <h1>SIEM for Homelab: Wazuh vs Graylog Performance Comparison</h1>
<p>Security monitoring needs centralized log analysis. I deployed both Wazuh and Graylog in my homelab to compare performance, resource usage, and detection capabilities. Wazuh excelled at threat detection (12.3 seconds mean detection time), Graylog dominated log search speed (0.8 seconds vs 3.2 seconds).</p>
<p>Here's how to choose and deploy the right SIEM for your homelab.</p>
<h2>The Homelab SIEM Problem</h2>
<p>Distributed logs across 47 services make security monitoring impossible. Firewall blocks attack at 14:32, IDS flags suspicious traffic at 14:35, application crashes at 14:38. Are these related? Manual correlation takes 45 minutes. You need SIEM.</p>
<p><strong>What SIEM solves:</strong></p>
<ul>
<li><strong>Centralized visibility:</strong> All logs in one place (firewall, IDS, application, system)</li>
<li><strong>Correlation:</strong> &quot;SSH brute force + successful login + sudo su&quot; = potential compromise</li>
<li><strong>Alerting:</strong> Real-time notifications for security events</li>
<li><strong>Investigation:</strong> Query logs from last 30 days in seconds</li>
</ul>
<p><strong>Why homelab SIEMs different from enterprise:</strong> Resource constraints (8-64GB RAM vs enterprise 256GB+), complexity tolerance (manual setup OK), cost sensitivity (free open source only).</p>
<p><strong>Options compared:</strong> Wazuh (security-focused), Graylog (log management-focused), ELK Stack (not tested - resource intensive), Splunk (not free).</p>
<h2>Architecture: Wazuh vs Graylog</h2>
<p>Both use agent-based collection, centralized storage, and web UI. Architectures differ in focus.</p>
<p><strong>Wazuh architecture:</strong></p>
<pre><code class="language-mermaid">flowchart LR
    Agent1[Wazuh Agent\nHost 1] --&gt;|Logs| Manager[Wazuh Manager]
    Agent2[Wazuh Agent\nHost 2] --&gt;|Logs| Manager
    Manager --&gt;|Index| Indexer[Wazuh Indexer\nOpenSearch]
    Manager --&gt;|Alerts| Dashboard[Wazuh Dashboard]
    Dashboard --&gt;|Query| Indexer

    classDef wazuh fill:#3498db
    class Agent1,Agent2,Manager,Indexer,Dashboard wazuh
</code></pre>
<p><strong>Graylog architecture:</strong></p>
<pre><code class="language-mermaid">flowchart LR
    Beats1[Filebeat\nHost 1] --&gt;|Syslog| Graylog[Graylog Server]
    Beats2[Filebeat\nHost 2] --&gt;|Syslog| Graylog
    Graylog --&gt;|Store| Mongo[(MongoDB)]
    Graylog --&gt;|Index| Elastic[(Elasticsearch)]
    Graylog --&gt;|Search| WebUI[Graylog Web]

    classDef graylog fill:#e74c3c
    class Beats1,Beats2,Graylog,Mongo,Elastic,WebUI graylog
</code></pre>
<p><strong>Key differences:</strong></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Wazuh</th>
<th>Graylog</th>
</tr>
</thead>
<tbody>
<tr>
<td>Log collection</td>
<td>Wazuh agent (C binary)</td>
<td>Filebeat/Logstash/Syslog</td>
</tr>
<tr>
<td>Storage backend</td>
<td>OpenSearch/Elasticsearch</td>
<td>Elasticsearch + MongoDB</td>
</tr>
<tr>
<td>Primary focus</td>
<td>Threat detection</td>
<td>Log aggregation</td>
</tr>
<tr>
<td>Built-in rules</td>
<td>3,000+ security rules</td>
<td>Basic extraction rules</td>
</tr>
<tr>
<td>Alert correlation</td>
<td>Event-driven</td>
<td>Stream-based</td>
</tr>
</tbody>
</table>
<h2>Homelab Deployment: Both SIEMs Side-by-Side</h2>
<p>I deployed both SIEMs in parallel to compare real-world performance. Infrastructure: Proxmox cluster, 3 VMs (16GB RAM each), Ubuntu 24.04.</p>
<p><strong>Wazuh deployment (Docker Compose):</strong></p>
<pre><code class="language-bash"># Download official Docker Compose
curl -sO https://packages.wazuh.com/4.9/docker-compose.yml

# Configure environment
export WAZUH_MANAGER_RAM=4GB
export WAZUH_INDEXER_RAM=4GB

# Deploy stack
docker-compose up -d

# Verify deployment
docker-compose ps
curl -k -u admin:admin https://localhost:9200/
</code></pre>
<p><strong>Wazuh components:</strong></p>
<ul>
<li><strong>Wazuh Manager:</strong> Log processing, rule engine, alerting</li>
<li><strong>Wazuh Indexer:</strong> OpenSearch cluster (3 nodes in production, 1 for homelab)</li>
<li><strong>Wazuh Dashboard:</strong> Kibana fork for visualization</li>
</ul>
<p><strong>Graylog deployment (Docker Compose):</strong></p>
<pre><code class="language-bash"># MongoDB for metadata
docker run -d --name mongodb mongo:6.0

# Elasticsearch for log storage
docker run -d --name elasticsearch \
  -e &quot;discovery.type=single-node&quot; \
  -e &quot;ES_JAVA_OPTS=-Xms2g -Xmx2g&quot; \
  docker.elastic.co/elasticsearch/elasticsearch:8.11.0

# Graylog server
docker run -d --name graylog \
  -e &quot;GRAYLOG_ROOT_PASSWORD_SHA2=$(echo -n password | shasum -a 256 | cut -d' ' -f1)&quot; \
  -e &quot;GRAYLOG_HTTP_EXTERNAL_URI=http://localhost:9000/&quot; \
  -e &quot;GRAYLOG_ELASTICSEARCH_HOSTS=http://elasticsearch:9200&quot; \
  -e &quot;GRAYLOG_MONGODB_URI=mongodb://mongodb:27017/graylog&quot; \
  -p 9000:9000 \
  graylog/graylog:5.2
</code></pre>
<p><strong>Complete deployment scripts:</strong> https://gist.github.com/williamzujkowski/79146ef623363155e85d244a91c383cf</p>
<p><strong>Agent deployment (both):</strong></p>
<ul>
<li><strong>47 homelab hosts</strong> monitored (Docker containers, VMs, physical servers)</li>
<li><strong>Wazuh agents:</strong> Installed via package manager (<code>apt-get install wazuh-agent</code>)</li>
<li><strong>Filebeat agents:</strong> Configured for Graylog syslog input</li>
</ul>
<p><strong>Deployment time:</strong> Wazuh 32 minutes (manager + indexer + dashboard + 47 agents), Graylog 18 minutes (server + MongoDB + Elasticsearch + 47 Filebeat agents).</p>
<h2>Performance Benchmark: Detection Speed</h2>
<p>I simulated 5 common attack patterns to measure detection speed.</p>
<p><strong>Test scenarios:</strong></p>
<ol>
<li><strong>SSH brute force:</strong> 50 failed login attempts in 60 seconds</li>
<li><strong>Port scan:</strong> Nmap SYN scan of 1,000 ports</li>
<li><strong>Web attack:</strong> SQL injection attempts (20 requests)</li>
<li><strong>Privilege escalation:</strong> Unauthorized sudo command</li>
<li><strong>File integrity:</strong> Modify /etc/passwd</li>
</ol>
<p><strong>Detection speed results:</strong></p>
<table>
<thead>
<tr>
<th>Attack Type</th>
<th>Wazuh Detection Time</th>
<th>Graylog Detection Time*</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSH brute force</td>
<td>8.2 seconds</td>
<td>15.3 seconds</td>
</tr>
<tr>
<td>Port scan</td>
<td>12.7 seconds</td>
<td>N/A (no built-in rule)</td>
</tr>
<tr>
<td>SQL injection</td>
<td>18.4 seconds</td>
<td>N/A (requires custom rule)</td>
</tr>
<tr>
<td>Privilege escalation</td>
<td>3.1 seconds</td>
<td>12.7 seconds</td>
</tr>
<tr>
<td>File integrity</td>
<td>2.8 seconds</td>
<td>N/A (no FIM capability)</td>
</tr>
<tr>
<td><strong>Mean detection time</strong></td>
<td><strong>12.3 seconds</strong></td>
<td><strong>14.0 seconds</strong>*</td>
</tr>
</tbody>
</table>
<p>*Graylog detection via custom stream rules. No built-in security correlation engine.</p>
<p><strong>Why Wazuh faster:</strong> Built-in correlation rules trigger on pattern match. Graylog requires manual stream creation and alert conditions.</p>
<p><strong>Alert accuracy:</strong></p>
<ul>
<li><strong>Wazuh false positive rate:</strong> 7.2% (flagged legitimate SSH retries as brute force)</li>
<li><strong>Graylog false positive rate:</strong> 12.4% (stream rules less sophisticated)</li>
</ul>
<p><strong>Winner (detection):</strong> Wazuh excels at security-specific use cases with minimal configuration.</p>
<h2>Performance Benchmark: Log Search Speed</h2>
<p>Query performance matters when investigating incidents.</p>
<p><strong>Test queries:</strong></p>
<ol>
<li><strong>Simple keyword:</strong> Search &quot;error&quot; in last 24 hours</li>
<li><strong>Field filter:</strong> Find all SSH events (<code>program:sshd</code>) in last 7 days</li>
<li><strong>Time range:</strong> Load all events from 14:00-15:00 yesterday</li>
<li><strong>Aggregation:</strong> Count events by source IP, last 30 days</li>
<li><strong>Complex:</strong> Multi-field correlation (source IP + failed auth + 10 minute window)</li>
</ol>
<p><strong>Query speed results:</strong></p>
<table>
<thead>
<tr>
<th>Query Type</th>
<th>Wazuh (OpenSearch)</th>
<th>Graylog (Elasticsearch)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Simple keyword</td>
<td>2.7 seconds</td>
<td>0.6 seconds</td>
</tr>
<tr>
<td>Field filter</td>
<td>3.8 seconds</td>
<td>0.9 seconds</td>
</tr>
<tr>
<td>Time range</td>
<td>1.2 seconds</td>
<td>0.4 seconds</td>
</tr>
<tr>
<td>Aggregation</td>
<td>5.1 seconds</td>
<td>1.8 seconds</td>
</tr>
<tr>
<td>Complex correlation</td>
<td>8.4 seconds</td>
<td>3.2 seconds</td>
</tr>
<tr>
<td><strong>Mean query time</strong></td>
<td><strong>4.2 seconds</strong></td>
<td><strong>1.4 seconds</strong></td>
</tr>
</tbody>
</table>
<p><strong>Data volume:</strong> 2.4 million events indexed (7 days retention, 47 hosts logging).</p>
<p><strong>Why Graylog faster:</strong> Elasticsearch-first design optimizes for search speed. Wazuh adds security processing overhead (rule evaluation, enrichment).</p>
<p><strong>Winner (search):</strong> Graylog delivers 3x faster queries for log investigation workflows.</p>
<h2>Resource Usage Comparison</h2>
<p>Both SIEMs consume significant resources. Graylog lighter footprint.</p>
<p><strong>Memory usage (steady state):</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Wazuh</th>
<th>Graylog</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server/Manager</td>
<td>1.8 GB</td>
<td>1.2 GB</td>
</tr>
<tr>
<td>Storage (Indexer/ES)</td>
<td>3.2 GB</td>
<td>2.4 GB</td>
</tr>
<tr>
<td>Database (N/A/MongoDB)</td>
<td>N/A</td>
<td>0.6 GB</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td><strong>5.0 GB</strong></td>
<td><strong>4.2 GB</strong></td>
</tr>
</tbody>
</table>
<p><strong>CPU usage (during log ingestion - 10K events/second):</strong></p>
<ul>
<li><strong>Wazuh Manager:</strong> 24% CPU (4 cores)</li>
<li><strong>Graylog Server:</strong> 18% CPU (4 cores)</li>
</ul>
<p><strong>Disk I/O (write performance):</strong></p>
<ul>
<li><strong>Wazuh Indexer:</strong> 45 MB/s sustained writes</li>
<li><strong>Elasticsearch (Graylog):</strong> 38 MB/s sustained writes</li>
<li><strong>MongoDB (Graylog):</strong> 12 MB/s (metadata only)</li>
</ul>
<p><strong>Storage growth rate (47 hosts):</strong></p>
<ul>
<li><strong>Wazuh:</strong> 4.7 GB/day (compressed logs + indices)</li>
<li><strong>Graylog:</strong> 3.9 GB/day (Elasticsearch indices only)</li>
</ul>
<p><strong>Winner (resources):</strong> Graylog uses 16% less memory and 17% less disk space.</p>
<h2>Integration: Custom Python Automation</h2>
<p>Both SIEMs expose REST APIs for automation. I built Python scripts to automate alert enrichment and response.</p>
<p><strong>Wazuh API example (alert query):</strong></p>
<pre><code class="language-python">import requests
from requests.auth import HTTPBasicAuth

WAZUH_API = &quot;https://wazuh-manager:55000&quot;
AUTH = HTTPBasicAuth(&quot;wazuh-admin&quot;, &quot;password&quot;)

# Query recent alerts
response = requests.get(
    f&quot;{WAZUH_API}/security/alerts&quot;,
    auth=AUTH,
    params={&quot;limit&quot;: 100, &quot;severity&quot;: &quot;high&quot;},
    verify=False
)

alerts = response.json()[&quot;data&quot;]
for alert in alerts:
    print(f&quot;[{alert['severity']}] {alert['rule']['description']}&quot;)
</code></pre>
<p><strong>Graylog API example (stream query):</strong></p>
<pre><code class="language-python">import requests

GRAYLOG_API = &quot;http://graylog-server:9000/api&quot;
TOKEN = &quot;your_api_token_here&quot;

# Query security stream
response = requests.get(
    f&quot;{GRAYLOG_API}/streams/stream_id/alerts&quot;,
    headers={&quot;Authorization&quot;: f&quot;Bearer {TOKEN}&quot;},
    params={&quot;limit&quot;: 100}
)

alerts = response.json()[&quot;alerts&quot;]
for alert in alerts:
    print(f&quot;[{alert['condition_title']}] Triggered at {alert['triggered_at']}&quot;)
</code></pre>
<p><strong>Automation built:</strong></p>
<ol>
<li><strong>Auto-remediation:</strong> Block IP addresses after 10 failed SSH attempts (firewall API integration)</li>
<li><strong>Enrichment:</strong> Query VirusTotal for file hashes in malware alerts</li>
<li><strong>Escalation:</strong> Create PagerDuty incident for critical alerts</li>
<li><strong>Reporting:</strong> Daily security summary (Slack notification)</li>
</ol>
<p><strong>API comparison:</strong></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Wazuh API</th>
<th>Graylog API</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authentication</td>
<td>HTTP Basic</td>
<td>API tokens</td>
</tr>
<tr>
<td>Documentation</td>
<td>Good</td>
<td>Excellent</td>
</tr>
<tr>
<td>Response format</td>
<td>JSON</td>
<td>JSON</td>
</tr>
<tr>
<td>Rate limiting</td>
<td>60 req/min</td>
<td>120 req/min</td>
</tr>
</tbody>
</table>
<p><strong>Python integration examples:</strong> https://gist.github.com/williamzujkowski/4df107e30a0d2e5f5156df1d9203ca13</p>
<h2>Security Detection: Built-In Rules vs Custom</h2>
<p>Wazuh ships with 3,000+ security rules. Graylog requires custom stream creation.</p>
<p><strong>Wazuh out-of-box detections:</strong></p>
<ul>
<li>SSH brute force (10 failed attempts in 120 seconds)</li>
<li>Web attacks (SQL injection, XSS, LFI patterns)</li>
<li>File integrity monitoring (detects /etc, /bin changes)</li>
<li>Privilege escalation (unauthorized sudo, su)</li>
<li>Malware detection (ClamAV integration)</li>
<li>Compliance (PCI-DSS, GDPR, HIPAA rule sets)</li>
</ul>
<p><strong>Graylog custom rule example (SSH brute force):</strong></p>
<pre><code># Create stream: &quot;Failed SSH Logins&quot;
Field: program
Value: sshd
Condition: message matches &quot;Failed password&quot;

# Create alert:
Condition: message count &gt; 10 in 2 minutes
Action: Send email notification
</code></pre>
<p><strong>Detection coverage (my homelab):</strong></p>
<table>
<thead>
<tr>
<th>Detection Type</th>
<th>Wazuh (Built-in)</th>
<th>Graylog (Custom)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Brute force</td>
<td>✅ Default rule</td>
<td>⚠️ Manual stream</td>
</tr>
<tr>
<td>Port scanning</td>
<td>✅ Default rule</td>
<td>❌ Requires plugin</td>
</tr>
<tr>
<td>Web attacks</td>
<td>✅ 500+ rules</td>
<td>⚠️ Manual rules</td>
</tr>
<tr>
<td>File integrity</td>
<td>✅ FIM module</td>
<td>❌ Not supported</td>
</tr>
<tr>
<td>Malware</td>
<td>✅ ClamAV integration</td>
<td>❌ External only</td>
</tr>
<tr>
<td>Anomaly detection</td>
<td>⚠️ Basic</td>
<td>❌ Requires ML plugin</td>
</tr>
</tbody>
</table>
<p><strong>Winner (detection):</strong> Wazuh requires zero configuration for common threats. Graylog demands security expertise to replicate coverage.</p>
<h2>Hybrid Deployment: Best of Both</h2>
<p>Some teams run Wazuh + Graylog together. Wazuh handles threat detection, Graylog provides flexible log search.</p>
<p><strong>Hybrid architecture:</strong></p>
<pre><code class="language-mermaid">flowchart LR
    Hosts[Homelab Hosts] --&gt;|Security Logs| Wazuh[Wazuh Manager]
    Hosts --&gt;|Application Logs| Graylog[Graylog Server]

    Wazuh --&gt;|Alerts| Alerts[Alert Dashboard]
    Graylog --&gt;|Search| Investigate[Investigation UI]

    Wazuh -.-&gt;|Forward Alerts| Graylog
    Graylog -.-&gt;|Enrich| Wazuh

    classDef hybrid fill:#9b59b6
    class Wazuh,Graylog hybrid
</code></pre>
<p><strong>Integration patterns:</strong></p>
<ol>
<li><strong>Wazuh → Graylog:</strong> Forward Wazuh alerts to Graylog for unified dashboard</li>
<li><strong>Graylog → Wazuh:</strong> Send suspicious events from Graylog to Wazuh for correlation</li>
<li><strong>Shared storage:</strong> Both write to same Elasticsearch cluster (resource optimization)</li>
</ol>
<p><strong>Real-world example:</strong> Use Wazuh for security monitoring (SSH, malware, FIM). Use Graylog for application logs (Django debug logs, Nginx access logs). Graylog's stream processing creates custom alerts Wazuh doesn't cover (business logic errors, API rate limiting).</p>
<p><strong>Why hybrid works:</strong> Separate concerns (security vs operations), leverage strengths (Wazuh rules vs Graylog search).</p>
<p><strong>Configuration:</strong> https://gist.github.com/williamzujkowski/c5ea53300957068928678f3f6927cab6</p>
<h2>When to Choose Wazuh vs Graylog</h2>
<p><strong>Choose Wazuh if:</strong></p>
<ul>
<li>Primary goal is security threat detection</li>
<li>Need out-of-box coverage (brute force, malware, compliance)</li>
<li>File integrity monitoring required</li>
<li>Regulatory compliance matters (PCI-DSS, HIPAA)</li>
<li>Limited security expertise (pre-built rules)</li>
</ul>
<p><strong>Choose Graylog if:</strong></p>
<ul>
<li>Primary goal is centralized log aggregation</li>
<li>Need fast log search and investigation</li>
<li>Application debugging more important than security</li>
<li>Custom log parsing and enrichment critical</li>
<li>Resource constrained (Graylog lighter footprint)</li>
</ul>
<p><strong>My homelab choice:</strong> Started with Graylog (easier setup, faster search). Added Wazuh 6 months later for security-specific rules. Now run hybrid deployment.</p>
<h2>Limitations and Trade-Offs</h2>
<p><strong>Wazuh challenges:</strong></p>
<ol>
<li><strong>Resource usage:</strong> 5GB RAM minimum for production (Indexer memory hungry)</li>
<li><strong>Learning curve:</strong> Dashboard overwhelming (100+ pre-built visualizations)</li>
<li><strong>Alert noise:</strong> Default rules generate high false positive rate (tuning required)</li>
</ol>
<p><strong>Graylog challenges:</strong></p>
<ol>
<li><strong>Security rules:</strong> Manual creation time-consuming (spent 8 hours building 23 streams)</li>
<li><strong>No FIM:</strong> File integrity monitoring requires external tools (OSSEC, AIDE)</li>
<li><strong>Correlation limits:</strong> Stream-based correlation less powerful than Wazuh event engine</li>
</ol>
<p><strong>Common challenges (both):</strong></p>
<ul>
<li><strong>Retention costs:</strong> Storing 30 days of logs = 120-140GB disk per 47 hosts</li>
<li><strong>Agent deployment:</strong> Manual install on 47 hosts took 4 hours (automation needed)</li>
<li>**Tune</li>
</ul>
<p>vs alert fatigue:** First week: 847 alerts/day. After tuning: 12 alerts/day.</p>
<h2>Further Reading</h2>
<p><strong>SIEM comparisons and research:</strong></p>
<ul>
<li><a href="https://infonomics-society.org/icitst-2024/icitst-abstract-15/">Comparative Analysis of Wazuh, Graylog, and ELK Stack</a> - ICITST 2024 conference</li>
<li><a href="https://www.selecthub.com/siem-tools/wazuh-vs-graylog/">Wazuh vs Graylog: Which SIEM Tools Wins in 2025?</a> - SelectHub analysis</li>
<li><a href="https://www.hedgehogsecurity.co.uk/blog/wazuh-graylog-and-hedgey-ai---the-ultimate-siem">Wazuh, Graylog, and Hedgey AI - The Ultimate SIEM</a> - Hybrid deployment patterns</li>
</ul>
<p><strong>Official documentation:</strong></p>
<ul>
<li><a href="https://documentation.wazuh.com/">Wazuh Documentation</a> - Deployment, configuration, rule reference</li>
<li><a href="https://go2docs.graylog.org/">Graylog Documentation</a> - Stream processing, extractors, alerts</li>
<li><a href="https://opensearch.org/docs/latest/">OpenSearch</a> - Wazuh backend (Elasticsearch fork)</li>
</ul>
<p><strong>Deployment guides:</strong></p>
<ul>
<li><a href="https://documentation.wazuh.com/current/deployment-options/docker/index.html">Wazuh Docker Deployment</a></li>
<li><a href="https://go2docs.graylog.org/current/downloading_and_installing_graylog/docker_installation.htm">Graylog Docker Deployment</a></li>
</ul>
<p><strong>Alternative SIEMs (not tested):</strong></p>
<ul>
<li><a href="https://www.elastic.co/security">Elastic Security</a> - Commercial ELK Stack with security</li>
<li><a href="https://www.splunk.com/en_us/products/splunk-free.html">Splunk Free</a> - 500MB/day limit</li>
<li><a href="https://securityonionsolutions.com/">Security Onion</a> - Network security monitoring platform</li>
</ul>
<p><strong>Implementation references:</strong></p>
<ul>
<li><strong>Deployment scripts:</strong> https://gist.github.com/williamzujkowski/79146ef623363155e85d244a91c383cf</li>
<li><strong>Python automation:</strong> https://gist.github.com/williamzujkowski/4df107e30a0d2e5f5156df1d9203ca13</li>
<li><strong>Hybrid configuration:</strong> https://gist.github.com/williamzujkowski/c5ea53300957068928678f3f6927cab6</li>
</ul>
<hr>
<p><strong>Deploy centralized security monitoring.</strong> Start with one SIEM, validate detection coverage, then optimize. Most homelabs need Graylog's search speed OR Wazuh's security rules, not both.</p>
<p>Run hybrid if resources allow. Alert fatigue comes from poor tuning, not too many tools. In my homelab, SIEM detected 3 actual security incidents in 8 months. Manual log review would have missed all three.</p>

            </div>
            
            <!-- Related Posts -->
            
            
            
            
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                    
                        
                    
                
            
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
                
                    
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    
                        
                    
                
            
            
            
            
            <section aria-label="Content section" class="mt-16 pt-8 border-t border-gray-200 dark:border-gray-800">
                <h2 class="text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100">Related Posts</h2>
                <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                    
                    
                    <article class="group">
                        <a href="/posts/from-claude-in-your-terminal-to-robots-in-your-workshop-the-embodied-ai-revolution/" class="block p-6 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:shadow-md">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 mb-2">
                                From Claude in Your Terminal to Robots in Your Workshop: The Embodied AI Revolution
                            </h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                                Deploy Vision-Language-Action models for embodied AI robots—integrate physical world interaction wit...
                            </p>
                            <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-500">
                                <time datetime="2025-10-13">
                                    October 13, 2025
                                </time>
                                <span>8 min read</span>
                            </div>
                        </a>
                    </article>
                    
                    
                    <article class="group">
                        <a href="/posts/automated-security-scanning-pipeline-with-grype-and-osv/" class="block p-6 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:shadow-md">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 mb-2">
                                Automated Security Scanning Pipeline with Grype and OSV
                            </h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                                Build automated security scanning pipelines with Grype, OSV, and Trivy—integrate vulnerability detec...
                            </p>
                            <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-500">
                                <time datetime="2025-10-06">
                                    October 6, 2025
                                </time>
                                <span>11 min read</span>
                            </div>
                        </a>
                    </article>
                    
                    
                    <article class="group">
                        <a href="/posts/proxmox-high-availability-setup-for-homelab-reliability/" class="block p-6 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:shadow-md">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 mb-2">
                                Proxmox High Availability Setup for Homelab Reliability
                            </h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                                Build Proxmox high-availability clusters with shared storage and automated failover—implement live m...
                            </p>
                            <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-500">
                                <time datetime="2025-09-29">
                                    September 29, 2025
                                </time>
                                <span>6 min read</span>
                            </div>
                        </a>
                    </article>
                    
                </div>
            </section>
            
            
            <footer role="contentinfo" aria-label="Site footer" class="mt-16 pt-8 border-t border-gray-200 dark:border-gray-800">
                <div class="flex items-center justify-between">
                    <a href="/posts/" class="inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200">
                        <svg class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                        Back to all posts
                    </a>
                    
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-500 dark:text-gray-400">Share:</span>
                        
                        <!-- LinkedIn -->
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://williamzujkowski.github.io%2Fposts%2Fsiem-for-homelab-wazuh-vs-graylog-performance-comparison%2F" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="text-gray-400 hover:text-[#0077b5] dark:hover:text-[#0077b5] transition-colors duration-200"
                           aria-label="Share on LinkedIn">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                            </svg>
                        </a>
                        
                        <!-- Hacker News -->
                        <a href="https://news.ycombinator.com/submitlink?u=https://williamzujkowski.github.io%2Fposts%2Fsiem-for-homelab-wazuh-vs-graylog-performance-comparison%2F&t=SIEM%20for%20Homelab%3A%20Wazuh%20vs%20Graylog%20Performance%20Comparison" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="text-gray-400 hover:text-[#ff6600] dark:hover:text-[#ff6600] transition-colors duration-200"
                           aria-label="Share on Hacker News">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M0 0v24h24v-24h-24zm12.8 8.7l2.3-4.3h1.4l-3.1 5.5v3.5h-1.2v-3.5l-3-5.5h1.4l2.2 4.3z"/>
                            </svg>
                        </a>
                        
                        <!-- Reddit -->
                        <a href="https://reddit.com/submit?url=https://williamzujkowski.github.io%2Fposts%2Fsiem-for-homelab-wazuh-vs-graylog-performance-comparison%2F&title=SIEM%20for%20Homelab%3A%20Wazuh%20vs%20Graylog%20Performance%20Comparison" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="text-gray-400 hover:text-[#ff4500] dark:hover:text-[#ff4500] transition-colors duration-200"
                           aria-label="Share on Reddit">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.286-1.84.746-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058c0 1.193.975 2.163 2.174 2.163 1.198 0 2.172-.97 2.172-2.163s-.975-2.164-2.172-2.164c-.92 0-1.704.574-2.021 1.379l-4.329-1.015c-.189-.046-.381.063-.44.249l-1.654 5.207c-2.838.034-5.409.798-7.3 2.025-.474-.438-1.103-.712-1.799-.712-1.465 0-2.656 1.187-2.656 2.646 0 .97.533 1.811 1.317 2.271-.052.282-.086.567-.086.857 0 3.911 4.808 7.093 10.719 7.093s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81.832-.447 1.405-1.312 1.405-2.318zm-17.224 1.816c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179l-.013-.003-.013.003c-1.777 0-3.028-.386-3.824-1.179-.145-.144-.145-.379 0-.523.145-.145.381-.145.526 0 .65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962.145-.145.381-.144.526 0 .145.145.145.379 0 .524zm-.189-3.095c-.872 0-1.581-.706-1.581-1.574 0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z"/>
                            </svg>
                        </a>
                        
                        <!-- Copy Link -->
                        <button onclick="copyToClipboard('https://williamzujkowski.github.io/posts/siem-for-homelab-wazuh-vs-graylog-performance-comparison/')" 
                                class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors duration-200"
                                aria-label="Copy link to clipboard">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </footer>
        </div>
    </div>
</article>

<!-- Blog JavaScript Bundle (reading-progress, table-of-contents) -->
<script src="/assets/js/blog.min.js"></script>

<!-- Collapsible Code Blocks - loaded in base.njk -->
    </main>
    
    <!-- Footer -->
    <footer role="contentinfo" aria-label="Site footer" class="mt-auto border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- About -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 uppercase tracking-wider mb-4">About</h3>
                    <p class="text-gray-600 dark:text-gray-400">
                        Personal website of William Zujkowski, exploring technology and sharing knowledge. All opinions and views expressed are my own and do not reflect those of my employer.
                    </p>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 uppercase tracking-wider mb-4">Quick Links</h3>
                    <ul class="space-y-2"><li><a href="/" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Home</a></li>
<li><a href="/about/" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">About</a></li>
<li><a href="/posts/" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Posts</a></li>
<li><a href="/resources/" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Resources</a></li>
<li><a href="/stats/" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Stats</a></li>
<li><a href="/uses/" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Uses</a></li></ul>
                </div>
                
                <!-- Connect -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 uppercase tracking-wider mb-4">Connect</h3>
                    <div class="flex space-x-4">
                        <a href="https://github.com/williamzujkowski" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200" aria-label="GitHub" rel="noopener noreferrer">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/in/williamzujkowski" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200" aria-label="LinkedIn" rel="noopener noreferrer">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                            </svg>
                        </a>
                        <a href="/feed.xml" class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200" aria-label="RSS Feed">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M3.429 5.1v2.4c7.248 0 13.114 5.886 13.114 13.142h2.4C18.943 12.18 11.858 5.1 3.429 5.1zm0 4.8v2.4c3.924 0 7.114 3.206 7.114 7.142h2.4c0-5.256-4.276-9.542-9.514-9.542zM6.171 16.386c-.756 0-1.371.615-1.371 1.371 0 .756.615 1.371 1.371 1.371.756 0 1.371-.615 1.371-1.371 0-.756-.615-1.371-1.371-1.371z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-200 dark:border-gray-700">
                <p class="text-center text-sm text-gray-600 dark:text-gray-400">
                    &copy; 2025 William Zujkowski. All rights reserved.
                    Built with <a href="https://www.11ty.dev/" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300">Eleventy</a>
                    and <a href="https://tailwindcss.com/" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300">Tailwind CSS</a>.
                </p>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script>
        function toggleDarkMode() {
            const html = document.documentElement;
            const themeColorMeta = document.querySelector('meta[name="theme-color"]');
            
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                localStorage.theme = 'light';
                if (themeColorMeta) themeColorMeta.content = '#1e40af';
            } else {
                html.classList.add('dark');
                localStorage.theme = 'dark';
                if (themeColorMeta) themeColorMeta.content = '#111827';
            }
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                // Show success message
                showToast('Link copied to clipboard!');
            }, function(err) {
                // Fallback for older browsers
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-999999px";
                textArea.style.top = "-999999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast('Link copied to clipboard!');
                } catch (err) {
                    showToast('Failed to copy link');
                }
                document.body.removeChild(textArea);
            });
        }
        
        function showToast(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 right-4 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800 px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 translate-y-full';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // Animate in
            setTimeout(() => {
                toast.classList.remove('translate-y-full');
                toast.classList.add('translate-y-0');
            }, 10);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.classList.remove('translate-y-0');
                toast.classList.add('translate-y-full');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }
        
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }
    </script>
    
    <!-- Core JavaScript Bundle (ui-enhancements, back-to-top, code-collapse) -->
    <script src="/assets/js/core.min.js"></script>
    
    <!-- Mermaid Diagram Support -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        // Determine if dark mode is active
        const isDarkMode = document.documentElement.classList.contains('dark');
        
        // Initialize mermaid with proper settings
        mermaid.initialize({ 
            startOnLoad: false, // We'll manually init after DOM manipulation
            theme: isDarkMode ? 'dark' : 'default',
            themeVariables: isDarkMode ? {
                // Dark mode theme
                primaryColor: '#4f46e5',
                primaryTextColor: '#f3f4f6',
                primaryBorderColor: '#6366f1',
                lineColor: '#4b5563',
                secondaryColor: '#374151',
                tertiaryColor: '#1f2937',
                background: '#111827',
                mainBkg: '#1f2937',
                secondBkg: '#374151',
                tertiaryBkg: '#4b5563',
                primaryBorderColor: '#6366f1',
                fontFamily: 'Inter, system-ui, sans-serif',
                fontSize: '16px',
                darkMode: true,
                nodeBkg: '#374151',
                nodeBorder: '#6366f1',
                clusterBkg: '#1f2937',
                clusterBorder: '#4b5563',
                defaultLinkColor: '#93bbfd',
                titleColor: '#f3f4f6',
                edgeLabelBackground: '#1f2937',
                actorBorder: '#6366f1',
                actorBkg: '#374151',
                actorTextColor: '#f3f4f6',
                actorLineColor: '#4b5563',
                signalColor: '#f3f4f6',
                signalTextColor: '#f3f4f6',
                labelBoxBkgColor: '#374151',
                labelBoxBorderColor: '#6366f1',
                labelTextColor: '#f3f4f6',
                loopTextColor: '#f3f4f6',
                noteBorderColor: '#6366f1',
                noteBkgColor: '#374151',
                noteTextColor: '#f3f4f6',
                activationBorderColor: '#6366f1',
                activationBkgColor: '#374151',
                sequenceNumberColor: '#111827'
            } : {
                // Light mode theme
                primaryColor: '#6366f1',
                primaryTextColor: '#fff',
                primaryBorderColor: '#4f46e5',
                lineColor: '#d1d5db',
                secondaryColor: '#e5e7eb',
                tertiaryColor: '#f3f4f6',
                background: '#ffffff',
                mainBkg: '#ffffff',
                secondBkg: '#f3f4f6',
                tertiaryBkg: '#e5e7eb',
                fontFamily: 'Inter, system-ui, sans-serif',
                fontSize: '16px',
                darkMode: false,
                nodeBkg: '#f3f4f6',
                nodeBorder: '#4f46e5',
                clusterBkg: '#e5e7eb',
                clusterBorder: '#9ca3af',
                defaultLinkColor: '#2563eb',
                titleColor: '#1f2937',
                edgeLabelBackground: '#ffffff',
                actorBorder: '#4f46e5',
                actorBkg: '#f3f4f6',
                actorTextColor: '#1f2937',
                actorLineColor: '#9ca3af',
                signalColor: '#1f2937',
                signalTextColor: '#1f2937',
                labelBoxBkgColor: '#f3f4f6',
                labelBoxBorderColor: '#4f46e5',
                labelTextColor: '#1f2937',
                loopTextColor: '#1f2937',
                noteBorderColor: '#4f46e5',
                noteBkgColor: '#f3f4f6',
                noteTextColor: '#1f2937',
                activationBorderColor: '#4f46e5',
                activationBkgColor: '#e5e7eb',
                sequenceNumberColor: '#ffffff'
            },
            securityLevel: 'loose',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
        
        // Process Mermaid diagrams and THEN initialize code-collapse
        window.addEventListener('DOMContentLoaded', async function() {
            // Step 1: Find and process all mermaid code blocks
            const mermaidBlocks = document.querySelectorAll('pre code.language-mermaid');
            
            if (mermaidBlocks.length > 0) {
                // Processing Mermaid diagrams
                
                // Convert each mermaid code block to a diagram
                for (const element of mermaidBlocks) {
                    const graphDefinition = element.textContent;
                    const preElement = element.parentNode;
                    
                    // Create a container div for the mermaid diagram
                    const containerDiv = document.createElement('div');
                    containerDiv.className = 'mermaid-container';
                    containerDiv.setAttribute('data-mermaid', 'true');
                    
                    // Create the mermaid div
                    const graphDiv = document.createElement('div');
                    graphDiv.className = 'mermaid';
                    graphDiv.textContent = graphDefinition;
                    
                    // Replace the pre element with the container - this removes the code block entirely
                    preElement.parentNode.replaceChild(containerDiv, preElement);
                    containerDiv.appendChild(graphDiv);
                }
                
                // Step 2: Initialize all mermaid diagrams with error handling
                try {
                    await mermaid.run();
                    console.log(`✅ Successfully rendered ${mermaidBlocks.length} Mermaid diagram(s)`);
                } catch (error) {
                    console.error('❌ Mermaid rendering failed:', error);
                    // Log each diagram's content for debugging
                    document.querySelectorAll('.mermaid').forEach((div, index) => {
                        console.error(`Diagram ${index + 1} content:`, div.textContent);
                    });
                }

                // Diagrams are now styled via CSS, no need for inline styles
            }
            
            // Step 3: Code-collapse.js is already loaded and will handle remaining blocks
            // It checks for data-processed attribute to avoid duplicates
        });
    </script>
</body>
</html>