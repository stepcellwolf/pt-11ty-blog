{"version":3,"sources":["../../../src/memory/index.js"],"sourcesContent":["/**\n * Memory Module - Unified memory persistence for ruv-swarm\n *\n * Provides both generic SharedMemory and MCP-specific SwarmMemory implementations\n * Now with AgentDB v1.3.9 vector database integration\n *\n * @module memory\n */\n\nimport SharedMemory from './shared-memory.js';\nimport { SwarmMemory, createSwarmMemory } from './swarm-memory.js';\nimport { AgentDBMemoryAdapter } from './agentdb-adapter.js';\nimport { AgentDBBackend } from './backends/agentdb.js';\nimport { LegacyDataBridge } from './migration/legacy-bridge.js';\n\nexport {\n  SharedMemory,\n  SwarmMemory,\n  createSwarmMemory,\n  AgentDBMemoryAdapter,\n  AgentDBBackend,\n  LegacyDataBridge,\n};\n\n// Re-export swarm namespaces for convenience\nexport const SWARM_NAMESPACES = {\n  AGENTS: 'swarm:agents',\n  TASKS: 'swarm:tasks',\n  COMMUNICATIONS: 'swarm:communications',\n  CONSENSUS: 'swarm:consensus',\n  PATTERNS: 'swarm:patterns',\n  METRICS: 'swarm:metrics',\n  COORDINATION: 'swarm:coordination',\n};\n\n/**\n * Create memory instance based on context\n * @param {Object} options - Configuration options\n * @param {string} options.type - Memory type: 'swarm', 'agentdb', or default\n * @param {string} options.mode - AgentDB mode: 'hybrid', 'agentdb', or 'legacy'\n * @returns {SharedMemory|SwarmMemory|AgentDBMemoryAdapter} Memory instance\n */\nexport function createMemory(options = {}) {\n  // Create AgentDB-enhanced memory if requested\n  if (options.type === 'agentdb' || options.mode) {\n    return new AgentDBMemoryAdapter(options);\n  }\n\n  // Create swarm-specific memory\n  if (options.type === 'swarm' || options.swarmId) {\n    return new SwarmMemory(options);\n  }\n\n  // Default to SharedMemory\n  return new SharedMemory(options);\n}\n\n// Default export for backwards compatibility\nexport default {\n  SharedMemory,\n  SwarmMemory,\n  createMemory,\n  SWARM_NAMESPACES,\n  AgentDBMemoryAdapter,\n  AgentDBBackend,\n  LegacyDataBridge,\n};\n"],"names":["SharedMemory","SwarmMemory","createSwarmMemory","AgentDBMemoryAdapter","AgentDBBackend","LegacyDataBridge","SWARM_NAMESPACES","AGENTS","TASKS","COMMUNICATIONS","CONSENSUS","PATTERNS","METRICS","COORDINATION","createMemory","options","type","mode","swarmId"],"mappings":"AASA,OAAOA,kBAAkB,qBAAqB;AAC9C,SAASC,WAAW,EAAEC,iBAAiB,QAAQ,oBAAoB;AACnE,SAASC,oBAAoB,QAAQ,uBAAuB;AAC5D,SAASC,cAAc,QAAQ,wBAAwB;AACvD,SAASC,gBAAgB,QAAQ,+BAA+B;AAEhE,SACEL,YAAY,EACZC,WAAW,EACXC,iBAAiB,EACjBC,oBAAoB,EACpBC,cAAc,EACdC,gBAAgB,GAChB;AAGF,OAAO,MAAMC,mBAAmB;IAC9BC,QAAQ;IACRC,OAAO;IACPC,gBAAgB;IAChBC,WAAW;IACXC,UAAU;IACVC,SAAS;IACTC,cAAc;AAChB,EAAE;AASF,OAAO,SAASC,aAAaC,UAAU,CAAC,CAAC;IAEvC,IAAIA,QAAQC,IAAI,KAAK,aAAaD,QAAQE,IAAI,EAAE;QAC9C,OAAO,IAAId,qBAAqBY;IAClC;IAGA,IAAIA,QAAQC,IAAI,KAAK,WAAWD,QAAQG,OAAO,EAAE;QAC/C,OAAO,IAAIjB,YAAYc;IACzB;IAGA,OAAO,IAAIf,aAAae;AAC1B;AAGA,eAAe;IACbf;IACAC;IACAa;IACAR;IACAH;IACAC;IACAC;AACF,EAAE"}