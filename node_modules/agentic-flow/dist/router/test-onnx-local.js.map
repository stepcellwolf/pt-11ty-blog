{"version":3,"file":"test-onnx-local.js","sourceRoot":"","sources":["../../src/router/test-onnx-local.ts"],"names":[],"mappings":";AACA;;GAEG;AAEH,OAAO,EAAE,iBAAiB,EAAE,MAAM,2BAA2B,CAAC;AAE9D,KAAK,UAAU,aAAa;IAC1B,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;IAE7D,IAAI,CAAC;QACH,MAAM,QAAQ,GAAG,IAAI,iBAAiB,CAAC;YACrC,SAAS,EAAE,4EAA4E;YACvF,kBAAkB,EAAE,CAAC,KAAK,CAAC;YAC3B,SAAS,EAAE,EAAE;SACd,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACtC,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAEtC,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC;YACnC,KAAK,EAAE,OAAO;YACd,QAAQ,EAAE;gBACR,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE;aAC1C;YACD,SAAS,EAAE,EAAE;SACd,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9B,OAAO,CAAC,GAAG,CAAC,WAAW,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAC9F,OAAO,CAAC,GAAG,CAAC,cAAc,QAAQ,CAAC,QAAQ,EAAE,OAAO,IAAI,CAAC,CAAC;QAC1D,OAAO,CAAC,GAAG,CAAC,aAAa,QAAQ,CAAC,KAAK,EAAE,WAAW,SAAS,QAAQ,CAAC,KAAK,EAAE,YAAY,MAAM,CAAC,CAAC;QACjG,OAAO,CAAC,GAAG,CAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QACnD,OAAO,CAAC,GAAG,CAAC,gBAAgB,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAEjF,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAEhC,MAAM,QAAQ,CAAC,OAAO,EAAE,CAAC;IAE3B,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QACzC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;AACH,CAAC;AAED,aAAa,EAAE,CAAC","sourcesContent":["#!/usr/bin/env node\n/**\n * Test ONNX local inference with Phi-4 model\n */\n\nimport { ONNXLocalProvider } from './providers/onnx-local.js';\n\nasync function testONNXLocal() {\n  console.log('üß™ Testing ONNX Local Inference (Phi-4 CPU)\\n');\n\n  try {\n    const provider = new ONNXLocalProvider({\n      modelPath: './models/phi-4/cpu_and_mobile/cpu-int4-rtn-block-32-acc-level-4/model.onnx',\n      executionProviders: ['cpu'],\n      maxTokens: 50\n    });\n\n    console.log('Test: Simple Inference');\n    console.log('======================');\n\n    const response = await provider.chat({\n      model: 'phi-4',\n      messages: [\n        { role: 'user', content: 'What is 2+2?' }\n      ],\n      maxTokens: 20\n    });\n\n    console.log('\\nüì• Response:');\n    console.log(`  Text: ${response.content[0].type === 'text' ? response.content[0].text : ''}`);\n    console.log(`  Latency: ${response.metadata?.latency}ms`);\n    console.log(`  Tokens: ${response.usage?.inputTokens} in / ${response.usage?.outputTokens} out`);\n    console.log(`  Cost: $${response.metadata?.cost}`);\n    console.log(`  Providers: ${response.metadata?.executionProviders?.join(', ')}`);\n\n    console.log('\\n‚úÖ Test passed!');\n\n    await provider.dispose();\n\n  } catch (error) {\n    console.error('\\n‚ùå Test failed:', error);\n    process.exit(1);\n  }\n}\n\ntestONNXLocal();\n"]}