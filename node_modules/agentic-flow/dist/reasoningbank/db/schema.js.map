{"version":3,"file":"schema.js","sourceRoot":"","sources":["../../../src/reasoningbank/db/schema.ts"],"names":[],"mappings":"AAAA;;GAEG","sourcesContent":["/**\n * TypeScript types for ReasoningBank database schema\n */\n\nexport interface ReasoningMemory {\n  id: string;\n  type: 'reasoning_memory';\n  pattern_data: {\n    title: string;\n    description: string;\n    content: string;\n    source: {\n      task_id: string;\n      agent_id: string;\n      outcome: 'Success' | 'Failure';\n      evidence: string[];  // event IDs or step references\n    };\n    tags: string[];\n    domain?: string;\n    created_at: string;\n    confidence: number;\n    n_uses: number;\n  };\n  confidence: number;\n  usage_count: number;\n  created_at: string;\n  last_used?: string;\n}\n\nexport interface PatternEmbedding {\n  id: string;\n  model: string;\n  dims: number;\n  vector: Float32Array;\n  created_at: string;\n}\n\nexport interface PatternLink {\n  src_id: string;\n  dst_id: string;\n  relation: 'entails' | 'contradicts' | 'refines' | 'duplicate_of';\n  weight: number;\n  created_at: string;\n}\n\nexport interface TaskTrajectory {\n  task_id: string;\n  agent_id: string;\n  query: string;\n  trajectory_json: string;  // JSON-encoded trajectory\n  started_at?: string;\n  ended_at?: string;\n  judge_label?: 'Success' | 'Failure';\n  judge_conf?: number;\n  judge_reasons?: string;  // JSON array\n  matts_run_id?: string;\n  created_at: string;\n}\n\nexport interface MattsRun {\n  run_id: string;\n  task_id: string;\n  mode: 'parallel' | 'sequential';\n  k: number;\n  status: 'pending' | 'running' | 'completed' | 'failed';\n  summary?: string;  // JSON-encoded summary\n  created_at: string;\n}\n\nexport interface ConsolidationRun {\n  run_id: string;\n  items_processed: number;\n  duplicates_found: number;\n  contradictions_found: number;\n  items_pruned: number;\n  duration_ms: number;\n  created_at: string;\n}\n\nexport interface Trajectory {\n  steps: TrajectoryStep[];\n  metadata?: Record<string, any>;\n}\n\nexport interface TrajectoryStep {\n  action: string;\n  [key: string]: any;\n}\n"]}