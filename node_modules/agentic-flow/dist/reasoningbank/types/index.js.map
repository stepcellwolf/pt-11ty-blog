{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/reasoningbank/types/index.ts"],"names":[],"mappings":"AAAA;;;GAGG","sourcesContent":["/**\n * ReasoningBank Type Definitions\n * Based on arXiv:2509.25140 (Google DeepMind)\n */\n\nexport interface Memory {\n  id: string;\n  title: string;\n  description: string;\n  content: string;\n  confidence: number;\n  usage_count: number;\n  created_at: string;\n  pattern_data: PatternData;\n}\n\nexport interface PatternData {\n  domain: string;\n  error_type?: string;\n  success_pattern?: boolean;\n  failure_guardrail?: boolean;\n  [key: string]: any;\n}\n\nexport interface PatternEmbedding {\n  pattern_id: string;\n  embedding: number[];\n}\n\nexport interface TaskTrajectory {\n  id: string;\n  task_id: string;\n  trajectory: string;\n  verdict: 'Success' | 'Failure';\n  confidence: number;\n  created_at: string;\n}\n\nexport interface MattsRun {\n  id: string;\n  task_id: string;\n  run_index: number;\n  result: string;\n  verdict: 'Success' | 'Failure';\n  confidence: number;\n  created_at: string;\n}\n\nexport interface RetrievalOptions {\n  query: string;\n  domain?: string;\n  k?: number;\n  minConfidence?: number;\n  lambda?: number; // MMR diversity parameter\n}\n\nexport interface ScoringWeights {\n  alpha: number; // Similarity weight\n  beta: number;  // Recency weight\n  gamma: number; // Reliability weight\n  delta: number; // Diversity penalty weight\n}\n\nexport interface JudgmentResult {\n  label: 'Success' | 'Failure';\n  confidence: number;\n  rationale?: string;\n}\n\nexport interface ConsolidationOptions {\n  dedupeThreshold?: number;\n  prune?: {\n    maxAgeDays?: number;\n    minConfidence?: number;\n    unusedDays?: number;\n  };\n}\n\nexport interface ConsolidationStats {\n  processed: number;\n  duplicates: number;\n  contradictions: number;\n  pruned: number;\n  durationMs: number;\n}\n\nexport interface ReasoningBankConfig {\n  dbPath: string;\n  embeddings?: {\n    provider?: 'openai' | 'anthropic' | 'hash';\n    model?: string;\n    cache?: {\n      l1?: boolean;\n      l2?: boolean;\n      redisUrl?: string;\n    };\n  };\n  retrieval?: {\n    k?: number;\n    minConfidence?: number;\n    weights?: Partial<ScoringWeights>;\n  };\n  consolidation?: {\n    scheduleEvery?: number;\n    autoRun?: boolean;\n  };\n  piiScrub?: {\n    enabled?: boolean;\n  };\n}\n\nexport interface TaskExecutionOptions {\n  taskId: string;\n  agentId: string;\n  query: string;\n  domain: string;\n  executeFn: (memories: Memory[]) => Promise<{ success: boolean; log: string }>;\n}\n\nexport interface TaskResult {\n  success: boolean;\n  summary: string;\n  memories: Memory[];\n  verdict: JudgmentResult;\n}\n\nexport interface MemoryCandidate extends Memory {\n  score: number;\n  similarity: number;\n  recency: number;\n  reliability: number;\n  diversityPenalty: number;\n}\n"]}