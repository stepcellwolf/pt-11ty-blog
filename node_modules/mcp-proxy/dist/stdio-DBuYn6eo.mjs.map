{"version":3,"file":"stdio-DBuYn6eo.mjs","names":["config: AuthConfig","headers: Record<string, string>","params: string[]","error","def","_","_","object","key","str","isPlainObject","def","i","config","initializer","def","util.jsonStringifyReplacer","issue","error","i","core.$ZodAsyncError","util.finalizeIssue","core.config","parse","errors.$ZodRealError","parseAsync","errors.$ZodError","safeParse","safeParseAsync","duration","version","_emoji","date","time","datetime","string","regex","number","boolean","_null","def","inst","util.floatSafeRemainder","util.NUMBER_FORMAT_RANGES","regexes.integer","util.nullish","util.getLengthableOrigin","regexes.lowercase","regexes.uppercase","util.escapeRegex","line","def","util.aborted","checks","_","core.$ZodAsyncError","result","safeParse","safeParseAsync","regexes.string","regexes.guid","regexes.uuid","regexes.email","url","regexes.emoji","regexes.nanoid","regexes.cuid","regexes.cuid2","regexes.ulid","regexes.xid","regexes.ksuid","regexes.datetime","regexes.date","regexes.time","regexes.duration","regexes.ipv4","inst","regexes.ipv6","regexes.cidrv4","regexes.cidrv6","regexes.base64","base64","regexes.base64url","regexes.e164","regexes.number","regexes.boolean","regexes.null","util.prefixIssues","i","key","util.cached","util.optionalKeys","util.esc","isObject","util.isObject","allowsEval","util.allowsEval","r","util.finalizeIssue","core.config","util.cleanRegex","results","map","left","right","util.isPlainObject","util.getEnumValues","util.escapeRegex","util.issue","util.normalizeParams","_null","checks.$ZodCheckLessThan","checks.$ZodCheckGreaterThan","checks.$ZodCheckMultipleOf","checks.$ZodCheckMaxLength","checks.$ZodCheckMinLength","checks.$ZodCheckLengthEquals","checks.$ZodCheckRegex","checks.$ZodCheckLowerCase","checks.$ZodCheckUpperCase","checks.$ZodCheckIncludes","checks.$ZodCheckStartsWith","checks.$ZodCheckEndsWith","checks.$ZodCheckOverwrite","def","core._isoDateTime","date","core._isoDate","core._isoTime","core._isoDuration","core.formatError","core.flattenError","issue","issues","core.$constructor","parse","safeParse","def","core.clone","parse.parse","parse.safeParse","parse.parseAsync","parse.safeParseAsync","check","checks.overwrite","checks.regex","checks.includes","checks.startsWith","checks.endsWith","checks.minLength","checks.maxLength","checks.length","checks.lowercase","checks.uppercase","checks.trim","checks.normalize","checks.toLowerCase","checks.toUpperCase","core._email","core._url","core._jwt","core._emoji","core._guid","core._uuid","core._uuidv4","core._uuidv6","core._uuidv7","core._nanoid","core._cuid","core._cuid2","core._ulid","core._base64","core._base64url","core._xid","core._ksuid","core._ipv4","core._ipv6","core._cidrv4","core._cidrv6","core._e164","iso.datetime","iso.date","iso.time","iso.duration","core._string","checks.gt","checks.gte","checks.lt","checks.lte","checks.multipleOf","core._number","core._int","core._boolean","core._null","core._any","core._unknown","core._never","core._array","util.extend","util.merge","util.pick","util.omit","util.partial","util.required","util.normalizeParams","issue","util.issue","output","core.$ZodCheck","core._custom","core._refine","z.custom","z.union","z.string","z.number","z.looseObject","z.null","z.object","z\n        .object","z.optional","z\n        .looseObject","z\n    .object","z.literal","z.unknown","z.array","z.intersection","z.boolean","z.record","z.preprocess","z\n            .object","z.enum","z.iso.datetime","z.discriminatedUnion","bytes","format","parse","str","i","str","i","deprecate","key","line","error","map","codes","status","inherits","toIdentifier","str","createError","status","i","key","Buffer","str","mergeModules","key","module","Buffer","iconv","str","i","Buffer","iconv","str","i","detectEncoding","Buffer","str","i","iconv","Buffer","iconv","str","i","Buffer","i","iconv","str","Buffer","i","iconv","bytes","str","mergeModules","module","Buffer","streamModule","Buffer","iconv","str","key","getDecoder","streamModule","unpipe","i","getRawBody","buffer","i","parse","string","key","MAXIMUM_MESSAGE_SIZE","URL","error","error","_a","_","streamId","bodyParts: Buffer[]","body: string","error","params: string[]","fixedHeaders: http.OutgoingHttpHeaders","key","defaultCorsOptions: CorsOptions","finalCorsOptions: CorsOptions","body: unknown","transport: StreamableHTTPServerTransport","server: T","activeTransport:\n      | {\n          server: T;\n          transport: StreamableHTTPServerTransport;\n        }\n      | undefined","activeTransport: SSEServerTransport | undefined","activeSSETransports: Record<string, SSEServerTransport>","activeStreamTransports: Record<\n    string,\n    {\n      server: T;\n      transport: StreamableHTTPServerTransport;\n    }\n  >","z4mini.safeParse","def","status","error","_a","_b","task","resolve","jsonrpcNotification","status","key","names","i","key","code_1","def","code_1","names","error","i","key","codegen_1","code_1","key","str","mergeValues","codegen_1","codegen_1","util_1","names_1","error","i","errors_1","codegen_1","names_1","rules_1","applicability_1","errors_1","codegen_1","util_1","codegen_1","util_1","key","i","codegen_1","util_1","names_1","util_2","i","codegen_1","names_1","code_1","errors_1","def","_a","codegen_1","util_1","equal","i","key","traverse","key","i","str","util_1","equal","key","normalize","dataType_1","codegen_1","names_1","resolve_1","util_1","key","ValidationError","def","resolve_1","codegen_1","validation_error_1","names_1","resolve_1","util_1","validate_1","resolve","isUUID","isIPv4","i","nonSimpleDomain","buffer","normalizeIPv6","ipv6","str","removeDotSegments","normalizeComponentEncoding","esc","recomposeAuthority","getSchemeHandler","http","SCHEMES","uri","relative","equal","uri","validate_1","codegen_1","validation_error_1","ref_error_1","compile_1","dataType_1","util_1","str","optimize","Ajv","key","def","i","format","regex","log","def","ref_error_1","code_1","codegen_1","names_1","compile_1","util_1","def","codegen_1","ops","KWDs","def","codegen_1","def","str","codegen_1","util_1","def","code_1","codegen_1","def","codegen_1","def","code_1","codegen_1","util_1","def","codegen_1","def","codegen_1","util_1","equal_1","def","i","codegen_1","util_1","equal_1","def","codegen_1","util_1","def","i","codegen_1","util_1","def","i","codegen_1","util_1","code_1","def","i","items_1","def","codegen_1","util_1","code_1","additionalItems_1","def","codegen_1","util_1","def","i","codegen_1","util_1","code_1","def","key","codegen_1","util_1","def","key","code_1","codegen_1","util_1","def","key","validate_1","code_1","util_1","additionalProperties_1","def","codegen_1","util_1","def","key","util_1","def","def","codegen_1","util_1","def","i","util_1","def","i","codegen_1","util_1","def","util_1","def","codegen_1","def","format","fmtDef","core_1","codegen_1","ref_error_1","i","required","Ajv","codegen_1","str","time","codegen_1","format","fmtDef","Ajv","error","key","_a","_b","_c","error","_a","error","line"],"sources":["../src/authentication.ts","../src/InMemoryEventStore.ts","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/core.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/util.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/errors.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/parse.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/regexes.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/checks.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/doc.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/versions.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/schemas.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/registries.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/api.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/classic/iso.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/classic/errors.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/classic/parse.js","../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/classic/schemas.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/types.js","../src/proxyServer.ts","../node_modules/.pnpm/bytes@3.1.2/node_modules/bytes/index.js","../node_modules/.pnpm/depd@2.0.0/node_modules/depd/index.js","../node_modules/.pnpm/setprototypeof@1.2.0/node_modules/setprototypeof/index.js","../node_modules/.pnpm/statuses@2.0.1/node_modules/statuses/codes.json","../node_modules/.pnpm/statuses@2.0.1/node_modules/statuses/index.js","../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js","../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits.js","../node_modules/.pnpm/toidentifier@1.0.1/node_modules/toidentifier/index.js","../node_modules/.pnpm/http-errors@2.0.0/node_modules/http-errors/index.js","../node_modules/.pnpm/safer-buffer@2.1.2/node_modules/safer-buffer/safer.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/lib/bom-handling.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/lib/helpers/merge-exports.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/internal.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/utf32.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/utf16.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/utf7.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/sbcs-codec.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/sbcs-data.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/sbcs-data-generated.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/dbcs-codec.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/shiftjis.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/eucjp.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/cp936.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/gbk-added.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/gb18030-ranges.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/cp949.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/cp950.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/tables/big5-added.json","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/dbcs-data.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/encodings/index.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/lib/streams.js","../node_modules/.pnpm/iconv-lite@0.7.0/node_modules/iconv-lite/lib/index.js","../node_modules/.pnpm/unpipe@1.0.0/node_modules/unpipe/index.js","../node_modules/.pnpm/raw-body@3.0.1/node_modules/raw-body/index.js","../node_modules/.pnpm/content-type@1.0.5/node_modules/content-type/index.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/server/sse.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/server/streamableHttp.js","../src/startHTTPServer.ts","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/server/zod-compat.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/experimental/tasks/interfaces.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/server/zod-json-schema-compat.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/shared/protocol.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/codegen/code.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/codegen/scope.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/codegen/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/util.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/names.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/errors.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/boolSchema.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/rules.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/applicability.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/dataType.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/defaults.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/code.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/keyword.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/subschema.js","../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js","../node_modules/.pnpm/json-schema-traverse@1.0.0/node_modules/json-schema-traverse/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/resolve.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/validate/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/runtime/validation_error.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/ref_error.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/compile/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/refs/data.json","../node_modules/.pnpm/fast-uri@3.1.0/node_modules/fast-uri/lib/utils.js","../node_modules/.pnpm/fast-uri@3.1.0/node_modules/fast-uri/lib/schemes.js","../node_modules/.pnpm/fast-uri@3.1.0/node_modules/fast-uri/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/runtime/uri.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/core.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/core/id.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/core/ref.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/core/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/runtime/ucs2length.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/limitLength.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/pattern.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/required.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/limitItems.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/runtime/equal.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/const.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/enum.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/validation/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/items.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/items2020.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/contains.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/properties.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/not.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/allOf.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/if.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/applicator/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/format/format.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/format/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/metadata.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/draft7.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/discriminator/types.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/vocabularies/discriminator/index.js","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/refs/json-schema-draft-07.json","../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/ajv.js","../node_modules/.pnpm/ajv-formats@3.0.1_ajv@8.17.1/node_modules/ajv-formats/dist/formats.js","../node_modules/.pnpm/ajv-formats@3.0.1_ajv@8.17.1/node_modules/ajv-formats/dist/limit.js","../node_modules/.pnpm/ajv-formats@3.0.1_ajv@8.17.1/node_modules/ajv-formats/dist/index.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/validation/ajv-provider.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/experimental/tasks/client.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/experimental/tasks/helpers.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/client/index.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/experimental/tasks/server.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/server/index.js","../node_modules/.pnpm/@modelcontextprotocol+sdk@1.24.3_zod@3.25.76/node_modules/@modelcontextprotocol/sdk/dist/esm/shared/stdio.js"],"sourcesContent":["import type { IncomingMessage } from \"http\";\n\nexport interface AuthConfig {\n  apiKey?: string;\n  oauth?: {\n    error?: string;\n    error_description?: string;\n    error_uri?: string;\n    protectedResource?: {\n      resource?: string;\n    };\n    realm?: string;\n    scope?: string;\n  };\n}\n\nexport class AuthenticationMiddleware {\n  constructor(private config: AuthConfig = {}) {}\n\n  getScopeChallengeResponse(\n    requiredScopes: string[],\n    errorDescription?: string,\n    requestId?: unknown,\n  ): { body: string; headers: Record<string, string>; statusCode: number } {\n    const headers: Record<string, string> = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    // Build WWW-Authenticate header with all required parameters\n    if (this.config.oauth?.protectedResource?.resource) {\n      const parts = [\n        \"Bearer\",\n        'error=\"insufficient_scope\"',\n        `scope=\"${requiredScopes.join(\" \")}\"`,\n        `resource_metadata=\"${this.config.oauth.protectedResource.resource}/.well-known/oauth-protected-resource\"`,\n      ];\n\n      if (errorDescription) {\n        // Escape quotes in description\n        const escaped = errorDescription.replace(/\"/g, '\\\\\"');\n        parts.push(`error_description=\"${escaped}\"`);\n      }\n\n      headers[\"WWW-Authenticate\"] = parts.join(\", \");\n    }\n\n    return {\n      body: JSON.stringify({\n        error: {\n          code: -32001, // Custom error code for insufficient scope\n          data: {\n            error: \"insufficient_scope\",\n            required_scopes: requiredScopes,\n          },\n          message: errorDescription || \"Insufficient scope\",\n        },\n        id: requestId ?? null,\n        jsonrpc: \"2.0\",\n      }),\n      headers,\n      statusCode: 403,\n    };\n  }\n\n  getUnauthorizedResponse(options?: {\n    error?: string;\n    error_description?: string;\n    error_uri?: string;\n    scope?: string;\n  }): { body: string; headers: Record<string, string> } {\n    const headers: Record<string, string> = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    // Build WWW-Authenticate header if OAuth config is available\n    if (this.config.oauth) {\n      const params: string[] = [];\n\n      // Add realm if configured\n      if (this.config.oauth.realm) {\n        params.push(`realm=\"${this.config.oauth.realm}\"`);\n      }\n\n      // Add resource_metadata if configured\n      if (this.config.oauth.protectedResource?.resource) {\n        params.push(\n          `resource_metadata=\"${this.config.oauth.protectedResource.resource}/.well-known/oauth-protected-resource\"`,\n        );\n      }\n\n      // Add error from options or config (options takes precedence)\n      const error =\n        options?.error || this.config.oauth.error || \"invalid_token\";\n      params.push(`error=\"${error}\"`);\n\n      // Add error_description from options or config (options takes precedence)\n      const error_description =\n        options?.error_description ||\n        this.config.oauth.error_description ||\n        \"Unauthorized: Invalid or missing API key\";\n      // Escape quotes in error description\n      const escaped = error_description.replace(/\"/g, '\\\\\"');\n      params.push(`error_description=\"${escaped}\"`);\n\n      // Add error_uri from options or config (options takes precedence)\n      const error_uri = options?.error_uri || this.config.oauth.error_uri;\n      if (error_uri) {\n        params.push(`error_uri=\"${error_uri}\"`);\n      }\n\n      // Add scope from options or config (options takes precedence)\n      const scope = options?.scope || this.config.oauth.scope;\n      if (scope) {\n        params.push(`scope=\"${scope}\"`);\n      }\n\n      if (params.length > 0) {\n        headers[\"WWW-Authenticate\"] = `Bearer ${params.join(\", \")}`;\n      }\n    }\n\n    return {\n      body: JSON.stringify({\n        error: {\n          code: 401,\n          message:\n            options?.error_description ||\n            \"Unauthorized: Invalid or missing API key\",\n        },\n        id: null,\n        jsonrpc: \"2.0\",\n      }),\n      headers,\n    };\n  }\n\n  validateRequest(req: IncomingMessage): boolean {\n    // No auth required if no API key configured (backward compatibility)\n    if (!this.config.apiKey) {\n      return true;\n    }\n\n    // Check X-API-Key header (case-insensitive)\n    // Node.js http module automatically converts all header names to lowercase\n    const apiKey = req.headers[\"x-api-key\"];\n\n    if (!apiKey || typeof apiKey !== \"string\") {\n      return false;\n    }\n\n    return apiKey === this.config.apiKey;\n  }\n}\n","/**\n * This is a copy of the InMemoryEventStore from the typescript-sdk\n * https://github.com/modelcontextprotocol/typescript-sdk/blob/main/src/examples/shared/inMemoryEventStore.ts\n */\n\nimport type { EventStore } from \"@modelcontextprotocol/sdk/server/streamableHttp.js\";\nimport type { JSONRPCMessage } from \"@modelcontextprotocol/sdk/types.js\";\n\n/**\n * Simple in-memory implementation of the EventStore interface for resumability\n * This is primarily intended for examples and testing, not for production use\n * where a persistent storage solution would be more appropriate.\n */\nexport class InMemoryEventStore implements EventStore {\n  private events: Map<string, { message: JSONRPCMessage; streamId: string }> =\n    new Map();\n  private lastTimestamp = 0;\n  private lastTimestampCounter = 0;\n\n  /**\n   * Replays events that occurred after a specific event ID\n   * Implements EventStore.replayEventsAfter\n   */\n  async replayEventsAfter(\n    lastEventId: string,\n    {\n      send,\n    }: { send: (eventId: string, message: JSONRPCMessage) => Promise<void> },\n  ): Promise<string> {\n    if (!lastEventId || !this.events.has(lastEventId)) {\n      return \"\";\n    }\n\n    // Extract the stream ID from the event ID\n    const streamId = this.getStreamIdFromEventId(lastEventId);\n\n    if (!streamId) {\n      return \"\";\n    }\n\n    let foundLastEvent = false;\n\n    // Sort events by eventId for chronological ordering\n    const sortedEvents = [...this.events.entries()].sort((a, b) =>\n      a[0].localeCompare(b[0]),\n    );\n\n    for (const [\n      eventId,\n      { message, streamId: eventStreamId },\n    ] of sortedEvents) {\n      // Only include events from the same stream\n      if (eventStreamId !== streamId) {\n        continue;\n      }\n\n      // Start sending events after we find the lastEventId\n      if (eventId === lastEventId) {\n        foundLastEvent = true;\n        continue;\n      }\n\n      if (foundLastEvent) {\n        await send(eventId, message);\n      }\n    }\n\n    return streamId;\n  }\n\n  /**\n   * Stores an event with a generated event ID\n   * Implements EventStore.storeEvent\n   */\n  async storeEvent(streamId: string, message: JSONRPCMessage): Promise<string> {\n    const eventId = this.generateEventId(streamId);\n\n    this.events.set(eventId, { message, streamId });\n\n    return eventId;\n  }\n\n  /**\n   * Generates a monotonic unique event ID in\n   * `${streamId}_${timestamp}_${counter}_${random}` format.\n   */\n  private generateEventId(streamId: string): string {\n    const now = Date.now();\n\n    if (now === this.lastTimestamp) {\n      this.lastTimestampCounter++;\n    } else {\n      this.lastTimestampCounter = 0;\n      this.lastTimestamp = now;\n    }\n\n    const timestamp = now.toString();\n    const counter = this.lastTimestampCounter.toString(36).padStart(4, \"0\");\n    const random = Math.random().toString(36).substring(2, 5);\n\n    return `${streamId}_${timestamp}_${counter}_${random}`;\n  }\n\n  /**\n   * Extracts the stream ID from an event ID\n   */\n  private getStreamIdFromEventId(eventId: string): string {\n    const parts = eventId.split(\"_\");\n\n    return parts.length > 0 ? parts[0] : \"\";\n  }\n}\n","/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        var _a;\n        Object.defineProperty(inst, \"_zod\", {\n            value: inst._zod ?? {},\n            enumerable: false,\n        });\n        (_a = inst._zod).traits ?? (_a.traits = new Set());\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        for (const k in _.prototype) {\n            if (!(k in inst))\n                Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });\n        }\n        inst._zod.constr = _;\n        inst._zod.def = def;\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n","// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error();\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport function defineLazy(object, key, getter) {\n    const set = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!set) {\n                const value = getter();\n                object[key] = value;\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport const captureStackTrace = Error.captureStackTrace\n    ? Error.captureStackTrace\n    : (..._args) => { };\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const newShape = {};\n    const currDef = schema._zod.def; //.shape;\n    for (const key in mask) {\n        if (!(key in currDef.shape)) {\n            throw new Error(`Unrecognized key: \"${key}\"`);\n        }\n        if (!mask[key])\n            continue;\n        // pick key\n        newShape[key] = currDef.shape[key];\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape: newShape,\n        checks: [],\n    });\n}\nexport function omit(schema, mask) {\n    const newShape = { ...schema._zod.def.shape };\n    const currDef = schema._zod.def; //.shape;\n    for (const key in mask) {\n        if (!(key in currDef.shape)) {\n            throw new Error(`Unrecognized key: \"${key}\"`);\n        }\n        if (!mask[key])\n            continue;\n        delete newShape[key];\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape: newShape,\n        checks: [],\n    });\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const def = {\n        ...schema._zod.def,\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: [], // delete existing checks\n    };\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    return clone(a, {\n        ...a._zod.def,\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        catchall: b._zod.def.catchall,\n        checks: [], // delete existing checks\n    });\n}\nexport function partial(Class, schema, mask) {\n    const oldShape = schema._zod.def.shape;\n    const shape = { ...oldShape };\n    if (mask) {\n        for (const key in mask) {\n            if (!(key in oldShape)) {\n                throw new Error(`Unrecognized key: \"${key}\"`);\n            }\n            if (!mask[key])\n                continue;\n            // if (oldShape[key]!._zod.optin === \"optional\") continue;\n            shape[key] = Class\n                ? new Class({\n                    type: \"optional\",\n                    innerType: oldShape[key],\n                })\n                : oldShape[key];\n        }\n    }\n    else {\n        for (const key in oldShape) {\n            // if (oldShape[key]!._zod.optin === \"optional\") continue;\n            shape[key] = Class\n                ? new Class({\n                    type: \"optional\",\n                    innerType: oldShape[key],\n                })\n                : oldShape[key];\n        }\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape,\n        checks: [],\n    });\n}\nexport function required(Class, schema, mask) {\n    const oldShape = schema._zod.def.shape;\n    const shape = { ...oldShape };\n    if (mask) {\n        for (const key in mask) {\n            if (!(key in shape)) {\n                throw new Error(`Unrecognized key: \"${key}\"`);\n            }\n            if (!mask[key])\n                continue;\n            // overwrite with non-optional\n            shape[key] = new Class({\n                type: \"nonoptional\",\n                innerType: oldShape[key],\n            });\n        }\n    }\n    else {\n        for (const key in oldShape) {\n            // overwrite with non-optional\n            shape[key] = new Class({\n                type: \"nonoptional\",\n                innerType: oldShape[key],\n            });\n        }\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape,\n        // optional: [],\n        checks: [],\n    });\n}\nexport function aborted(x, startIndex = 0) {\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true)\n            return true;\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n","import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"message\", {\n        get() {\n            return JSON.stringify(def, util.jsonStringifyReplacer, 2);\n        },\n        enumerable: true,\n        // configurable: false,\n    });\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *    Expected number, received string at \"username\n * favoriteNumbers[0]\n *    Invalid input: expected number\n * ```\n */\nexport function toDotPath(path) {\n    const segs = [];\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => a.path.length - b.path.length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(` ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`   at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n","import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\n","export const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nexport const _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/;\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp =\n//   /^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)+([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$/;\nexport const hostname = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\nexport const e164 = /^\\+(?:[0-9]){6,14}[0-9]$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^\\d+n?$/;\nexport const integer = /^\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?/i;\nexport const boolean = /true|false/i;\nconst _null = /null/i;\nexport { _null as null };\nconst _undefined = /undefined/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n","// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n","export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n","export const version = {\n    major: 4,\n    minor: 0,\n    patch: 0,\n};\n","import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    //\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        inst._zod.run = (payload, ctx) => {\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    inst[\"~standard\"] = {\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    };\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            const orig = payload.value;\n            const url = new URL(orig);\n            const href = url.href;\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: regexes.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // payload.value = url.href;\n            if (!orig.endsWith(\"/\") && href.endsWith(\"/\")) {\n                payload.value = href.slice(0, -1);\n            }\n            else {\n                payload.value = href;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv4`;\n    });\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv6`;\n    });\n    inst._zod.check = (payload) => {\n        try {\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const [address, prefix] = payload.value.split(\"/\");\n        try {\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64url\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checksp\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handleObjectResult(result, final, key) {\n    // if(isOptional)\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    final.value[key] = result.value;\n}\nfunction handleOptionalObjectResult(result, final, key, input) {\n    if (result.issues.length) {\n        // validation failed against value schema\n        if (input[key] === undefined) {\n            // if input was undefined, ignore the error\n            if (key in input) {\n                final.value[key] = undefined;\n            }\n            else {\n                final.value[key] = result.value;\n            }\n        }\n        else {\n            final.issues.push(...util.prefixIssues(key, result.issues));\n        }\n    }\n    else if (result.value === undefined) {\n        // validation returned `undefined`\n        if (key in input)\n            final.value[key] = undefined;\n    }\n    else {\n        // non-undefined value\n        final.value[key] = result.value;\n    }\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    const _normalized = util.cached(() => {\n        const keys = Object.keys(def.shape);\n        for (const k of keys) {\n            if (!(def.shape[k] instanceof $ZodType)) {\n                throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n            }\n        }\n        const okeys = util.optionalKeys(def.shape);\n        return {\n            shape: def.shape,\n            keys,\n            keySet: new Set(keys),\n            numKeys: keys.length,\n            optionalKeys: new Set(okeys),\n        };\n    });\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {}`);\n        for (const key of normalized.keys) {\n            if (normalized.optionalKeys.has(key)) {\n                const id = ids[key];\n                doc.write(`const ${id} = ${parseStr(key)};`);\n                const k = util.esc(key);\n                doc.write(`\n        if (${id}.issues.length) {\n          if (input[${k}] === undefined) {\n            if (${k} in input) {\n              newResult[${k}] = undefined;\n            }\n          } else {\n            payload.issues = payload.issues.concat(\n              ${id}.issues.map((iss) => ({\n                ...iss,\n                path: iss.path ? [${k}, ...iss.path] : [${k}],\n              }))\n            );\n          }\n        } else if (${id}.value === undefined) {\n          if (${k} in input) newResult[${k}] = undefined;\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        `);\n            }\n            else {\n                const id = ids[key];\n                //  const id = ids[key];\n                doc.write(`const ${id} = ${parseStr(key)};`);\n                doc.write(`\n          if (${id}.issues.length) payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${util.esc(key)}, ...iss.path] : [${util.esc(key)}]\n          })));`);\n                doc.write(`newResult[${util.esc(key)}] = ${id}.value`);\n            }\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n        }\n        else {\n            payload.value = {};\n            const shape = value.shape;\n            for (const key of value.keys) {\n                const el = shape[key];\n                // do not add omitted optional keys\n                // if (!(key in input)) {\n                //   if (optionalKeys.has(key)) continue;\n                //   payload.issues.push({\n                //     code: \"invalid_type\",\n                //     path: [key],\n                //     expected: \"nonoptional\",\n                //     note: `Missing required key: \"${key}\"`,\n                //     input,\n                //     inst,\n                //   });\n                // }\n                const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n                const isOptional = el._zod.optin === \"optional\" && el._zod.optout === \"optional\";\n                if (r instanceof Promise) {\n                    proms.push(r.then((r) => isOptional ? handleOptionalObjectResult(r, payload, key, input) : handleObjectResult(r, payload, key)));\n                }\n                else if (isOptional) {\n                    handleOptionalObjectResult(r, payload, key, input);\n                }\n                else {\n                    handleObjectResult(r, payload, key);\n                }\n            }\n        }\n        if (!catchall) {\n            // return payload;\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        const unrecognized = [];\n        // iterate over input keys\n        const keySet = value.keySet;\n        const _catchall = catchall._zod;\n        const t = _catchall.def.type;\n        for (const key of Object.keys(input)) {\n            if (keySet.has(key))\n                continue;\n            if (t === \"never\") {\n                unrecognized.push(key);\n                continue;\n            }\n            const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handleObjectResult(r, payload, key)));\n            }\n            else {\n                handleObjectResult(r, payload, key);\n            }\n        }\n        if (unrecognized.length) {\n            payload.issues.push({\n                code: \"unrecognized_keys\",\n                keys: unrecognized,\n                input,\n                inst,\n            });\n        }\n        if (!proms.length)\n            return payload;\n        return Promise.all(proms).then(() => {\n            return payload;\n        });\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    if (left.issues.length) {\n        result.issues.push(...left.issues);\n    }\n    if (right.issues.length) {\n        result.issues.push(...right.issues);\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    input,\n                    inst,\n                    origin: \"array\",\n                    ...(tooBig ? { code: \"too_big\", maximum: items.length } : { code: \"too_small\", minimum: items.length }),\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (def.keyType._zod.values) {\n            const values = def.keyType._zod.values;\n            payload.value = {};\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!values.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                if (keyResult.issues.length) {\n                    payload.issues.push({\n                        origin: \"record\",\n                        code: \"invalid_key\",\n                        issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        input: key,\n                        path: [key],\n                        inst,\n                    });\n                    payload.value[keyResult.value] = keyResult.value;\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_key\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    inst._zod.values = new Set(values);\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (inst._zod.values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.values = new Set(def.values);\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? o.toString() : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (inst._zod.values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const _out = def.transform(payload.value, payload);\n        if (_ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault always returns the default value immediately.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def, ctx));\n        }\n        return handlePipeResult(left, def, ctx);\n    };\n});\nfunction handlePipeResult(left, def, ctx) {\n    if (util.aborted(left)) {\n        return left;\n    }\n    return def.out._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (part instanceof $ZodType) {\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"template_literal\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType._zod.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n","export const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new Map();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            if (this._idmap.has(meta.id)) {\n                throw new Error(`ID ${meta.id} already exists in the registry`);\n            }\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new Map();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            return { ...pm, ...this._map.get(schema) };\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\nexport const globalRegistry = /*@__PURE__*/ registry();\n","import * as checks from \"./checks.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// export function _refine<T>(\n//   Class: util.SchemaClass<schemas.$ZodCustom>,\n//   fn: (arg: NoInfer<T>) => util.MaybeAsync<unknown>,\n//   _params: string | $ZodCustomParams = {}\n// ): checks.$ZodCheck<T> {\n//   return _custom(Class, fn, _params);\n// }\n// same as _custom but defaults to abort:false\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Pipe = Classes.Pipe ?? schemas.$ZodPipe;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const _Transform = Classes.Transform ?? schemas.$ZodTransform;\n    const tx = new _Transform({\n        type: \"transform\",\n        transform: (input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: tx,\n                });\n                return {};\n            }\n        },\n        error: params.error,\n    });\n    // params.error;\n    const innerPipe = new _Pipe({\n        type: \"pipe\",\n        in: new _String({ type: \"string\", error: params.error }),\n        out: tx,\n        error: params.error,\n    });\n    const outerPipe = new _Pipe({\n        type: \"pipe\",\n        in: innerPipe,\n        out: new _Boolean({\n            type: \"boolean\",\n            error: params.error,\n        }),\n        error: params.error,\n    });\n    return outerPipe;\n}\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n","import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n","import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => inst.issues.push(issue),\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => inst.issues.push(...issues),\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n","import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n","import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    inst.def = def;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone({\n            ...def,\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }\n        // { parent: true }\n        );\n    };\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return literal(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObject.init(inst, def);\n    ZodType.init(inst, def);\n    util.defineLazy(inst, \"shape\", () => def.shape);\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    // inst.nonstrict = () => inst.clone({ ...inst._zod.def, catchall: api.unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType: union([keyType, never()]),\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                _issue.continue ?? (_issue.continue = true);\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    const ch = check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort);\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\nfunction _instanceof(cls, params = {\n    error: `Input not instance of ${cls.name}`,\n}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Pipe: ZodPipe,\n    Boolean: ZodBoolean,\n    String: ZodString,\n    Transform: ZodTransform,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n","import * as z from 'zod/v4';\nexport const LATEST_PROTOCOL_VERSION = '2025-11-25';\nexport const DEFAULT_NEGOTIATED_PROTOCOL_VERSION = '2025-03-26';\nexport const SUPPORTED_PROTOCOL_VERSIONS = [LATEST_PROTOCOL_VERSION, '2025-06-18', '2025-03-26', '2024-11-05', '2024-10-07'];\nexport const RELATED_TASK_META_KEY = 'io.modelcontextprotocol/related-task';\n/* JSON-RPC types */\nexport const JSONRPC_VERSION = '2.0';\n/**\n * Assert 'object' type schema.\n *\n * @internal\n */\nconst AssertObjectSchema = z.custom((v) => v !== null && (typeof v === 'object' || typeof v === 'function'));\n/**\n * A progress token, used to associate progress notifications with the original request.\n */\nexport const ProgressTokenSchema = z.union([z.string(), z.number().int()]);\n/**\n * An opaque token used to represent a cursor for pagination.\n */\nexport const CursorSchema = z.string();\n/**\n * Task creation parameters, used to ask that the server create a task to represent a request.\n */\nexport const TaskCreationParamsSchema = z.looseObject({\n    /**\n     * Time in milliseconds to keep task results available after completion.\n     * If null, the task has unlimited lifetime until manually cleaned up.\n     */\n    ttl: z.union([z.number(), z.null()]).optional(),\n    /**\n     * Time in milliseconds to wait between task status requests.\n     */\n    pollInterval: z.number().optional()\n});\n/**\n * Task association metadata, used to signal which task a message originated from.\n */\nexport const RelatedTaskMetadataSchema = z.looseObject({\n    taskId: z.string()\n});\nconst RequestMetaSchema = z.looseObject({\n    /**\n     * If specified, the caller is requesting out-of-band progress notifications for this request (as represented by notifications/progress). The value of this parameter is an opaque token that will be attached to any subsequent notifications. The receiver is not obligated to provide these notifications.\n     */\n    progressToken: ProgressTokenSchema.optional(),\n    /**\n     * If specified, this request is related to the provided task.\n     */\n    [RELATED_TASK_META_KEY]: RelatedTaskMetadataSchema.optional()\n});\n/**\n * Common params for any request.\n */\nconst BaseRequestParamsSchema = z.looseObject({\n    /**\n     * If specified, the caller is requesting that the receiver create a task to represent the request.\n     * Task creation parameters are now at the top level instead of in _meta.\n     */\n    task: TaskCreationParamsSchema.optional(),\n    /**\n     * See [General fields: `_meta`](/specification/draft/basic/index#meta) for notes on `_meta` usage.\n     */\n    _meta: RequestMetaSchema.optional()\n});\nexport const RequestSchema = z.object({\n    method: z.string(),\n    params: BaseRequestParamsSchema.optional()\n});\nconst NotificationsParamsSchema = z.looseObject({\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z\n        .object({\n        /**\n         * If specified, this notification is related to the provided task.\n         */\n        [RELATED_TASK_META_KEY]: z.optional(RelatedTaskMetadataSchema)\n    })\n        .passthrough()\n        .optional()\n});\nexport const NotificationSchema = z.object({\n    method: z.string(),\n    params: NotificationsParamsSchema.optional()\n});\nexport const ResultSchema = z.looseObject({\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z\n        .looseObject({\n        /**\n         * If specified, this result is related to the provided task.\n         */\n        [RELATED_TASK_META_KEY]: RelatedTaskMetadataSchema.optional()\n    })\n        .optional()\n});\n/**\n * A uniquely identifying ID for a request in JSON-RPC.\n */\nexport const RequestIdSchema = z.union([z.string(), z.number().int()]);\n/**\n * A request that expects a response.\n */\nexport const JSONRPCRequestSchema = z\n    .object({\n    jsonrpc: z.literal(JSONRPC_VERSION),\n    id: RequestIdSchema,\n    ...RequestSchema.shape\n})\n    .strict();\nexport const isJSONRPCRequest = (value) => JSONRPCRequestSchema.safeParse(value).success;\n/**\n * A notification which does not expect a response.\n */\nexport const JSONRPCNotificationSchema = z\n    .object({\n    jsonrpc: z.literal(JSONRPC_VERSION),\n    ...NotificationSchema.shape\n})\n    .strict();\nexport const isJSONRPCNotification = (value) => JSONRPCNotificationSchema.safeParse(value).success;\n/**\n * A successful (non-error) response to a request.\n */\nexport const JSONRPCResponseSchema = z\n    .object({\n    jsonrpc: z.literal(JSONRPC_VERSION),\n    id: RequestIdSchema,\n    result: ResultSchema\n})\n    .strict();\nexport const isJSONRPCResponse = (value) => JSONRPCResponseSchema.safeParse(value).success;\n/**\n * Error codes defined by the JSON-RPC specification.\n */\nexport var ErrorCode;\n(function (ErrorCode) {\n    // SDK error codes\n    ErrorCode[ErrorCode[\"ConnectionClosed\"] = -32000] = \"ConnectionClosed\";\n    ErrorCode[ErrorCode[\"RequestTimeout\"] = -32001] = \"RequestTimeout\";\n    // Standard JSON-RPC error codes\n    ErrorCode[ErrorCode[\"ParseError\"] = -32700] = \"ParseError\";\n    ErrorCode[ErrorCode[\"InvalidRequest\"] = -32600] = \"InvalidRequest\";\n    ErrorCode[ErrorCode[\"MethodNotFound\"] = -32601] = \"MethodNotFound\";\n    ErrorCode[ErrorCode[\"InvalidParams\"] = -32602] = \"InvalidParams\";\n    ErrorCode[ErrorCode[\"InternalError\"] = -32603] = \"InternalError\";\n    // MCP-specific error codes\n    ErrorCode[ErrorCode[\"UrlElicitationRequired\"] = -32042] = \"UrlElicitationRequired\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * A response to a request that indicates an error occurred.\n */\nexport const JSONRPCErrorSchema = z\n    .object({\n    jsonrpc: z.literal(JSONRPC_VERSION),\n    id: RequestIdSchema,\n    error: z.object({\n        /**\n         * The error type that occurred.\n         */\n        code: z.number().int(),\n        /**\n         * A short description of the error. The message SHOULD be limited to a concise single sentence.\n         */\n        message: z.string(),\n        /**\n         * Additional information about the error. The value of this member is defined by the sender (e.g. detailed error information, nested errors etc.).\n         */\n        data: z.optional(z.unknown())\n    })\n})\n    .strict();\nexport const isJSONRPCError = (value) => JSONRPCErrorSchema.safeParse(value).success;\nexport const JSONRPCMessageSchema = z.union([JSONRPCRequestSchema, JSONRPCNotificationSchema, JSONRPCResponseSchema, JSONRPCErrorSchema]);\n/* Empty result */\n/**\n * A response that indicates success but carries no data.\n */\nexport const EmptyResultSchema = ResultSchema.strict();\nexport const CancelledNotificationParamsSchema = NotificationsParamsSchema.extend({\n    /**\n     * The ID of the request to cancel.\n     *\n     * This MUST correspond to the ID of a request previously issued in the same direction.\n     */\n    requestId: RequestIdSchema,\n    /**\n     * An optional string describing the reason for the cancellation. This MAY be logged or presented to the user.\n     */\n    reason: z.string().optional()\n});\n/* Cancellation */\n/**\n * This notification can be sent by either side to indicate that it is cancelling a previously-issued request.\n *\n * The request SHOULD still be in-flight, but due to communication latency, it is always possible that this notification MAY arrive after the request has already finished.\n *\n * This notification indicates that the result will be unused, so any associated processing SHOULD cease.\n *\n * A client MUST NOT attempt to cancel its `initialize` request.\n */\nexport const CancelledNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/cancelled'),\n    params: CancelledNotificationParamsSchema\n});\n/* Base Metadata */\n/**\n * Icon schema for use in tools, prompts, resources, and implementations.\n */\nexport const IconSchema = z.object({\n    /**\n     * URL or data URI for the icon.\n     */\n    src: z.string(),\n    /**\n     * Optional MIME type for the icon.\n     */\n    mimeType: z.string().optional(),\n    /**\n     * Optional array of strings that specify sizes at which the icon can be used.\n     * Each string should be in WxH format (e.g., `\"48x48\"`, `\"96x96\"`) or `\"any\"` for scalable formats like SVG.\n     *\n     * If not provided, the client should assume that the icon can be used at any size.\n     */\n    sizes: z.array(z.string()).optional()\n});\n/**\n * Base schema to add `icons` property.\n *\n */\nexport const IconsSchema = z.object({\n    /**\n     * Optional set of sized icons that the client can display in a user interface.\n     *\n     * Clients that support rendering icons MUST support at least the following MIME types:\n     * - `image/png` - PNG images (safe, universal compatibility)\n     * - `image/jpeg` (and `image/jpg`) - JPEG images (safe, universal compatibility)\n     *\n     * Clients that support rendering icons SHOULD also support:\n     * - `image/svg+xml` - SVG images (scalable but requires security precautions)\n     * - `image/webp` - WebP images (modern, efficient format)\n     */\n    icons: z.array(IconSchema).optional()\n});\n/**\n * Base metadata interface for common properties across resources, tools, prompts, and implementations.\n */\nexport const BaseMetadataSchema = z.object({\n    /** Intended for programmatic or logical use, but used as a display name in past specs or fallback */\n    name: z.string(),\n    /**\n     * Intended for UI and end-user contexts  optimized to be human-readable and easily understood,\n     * even by those unfamiliar with domain-specific terminology.\n     *\n     * If not provided, the name should be used for display (except for Tool,\n     * where `annotations.title` should be given precedence over using `name`,\n     * if present).\n     */\n    title: z.string().optional()\n});\n/* Initialization */\n/**\n * Describes the name and version of an MCP implementation.\n */\nexport const ImplementationSchema = BaseMetadataSchema.extend({\n    ...BaseMetadataSchema.shape,\n    ...IconsSchema.shape,\n    version: z.string(),\n    /**\n     * An optional URL of the website for this implementation.\n     */\n    websiteUrl: z.string().optional()\n});\nconst FormElicitationCapabilitySchema = z.intersection(z.object({\n    applyDefaults: z.boolean().optional()\n}), z.record(z.string(), z.unknown()));\nconst ElicitationCapabilitySchema = z.preprocess(value => {\n    if (value && typeof value === 'object' && !Array.isArray(value)) {\n        if (Object.keys(value).length === 0) {\n            return { form: {} };\n        }\n    }\n    return value;\n}, z.intersection(z.object({\n    form: FormElicitationCapabilitySchema.optional(),\n    url: AssertObjectSchema.optional()\n}), z.record(z.string(), z.unknown()).optional()));\n/**\n * Task capabilities for clients, indicating which request types support task creation.\n */\nexport const ClientTasksCapabilitySchema = z\n    .object({\n    /**\n     * Present if the client supports listing tasks.\n     */\n    list: z.optional(z.object({}).passthrough()),\n    /**\n     * Present if the client supports cancelling tasks.\n     */\n    cancel: z.optional(z.object({}).passthrough()),\n    /**\n     * Capabilities for task creation on specific request types.\n     */\n    requests: z.optional(z\n        .object({\n        /**\n         * Task support for sampling requests.\n         */\n        sampling: z.optional(z\n            .object({\n            createMessage: z.optional(z.object({}).passthrough())\n        })\n            .passthrough()),\n        /**\n         * Task support for elicitation requests.\n         */\n        elicitation: z.optional(z\n            .object({\n            create: z.optional(z.object({}).passthrough())\n        })\n            .passthrough())\n    })\n        .passthrough())\n})\n    .passthrough();\n/**\n * Task capabilities for servers, indicating which request types support task creation.\n */\nexport const ServerTasksCapabilitySchema = z\n    .object({\n    /**\n     * Present if the server supports listing tasks.\n     */\n    list: z.optional(z.object({}).passthrough()),\n    /**\n     * Present if the server supports cancelling tasks.\n     */\n    cancel: z.optional(z.object({}).passthrough()),\n    /**\n     * Capabilities for task creation on specific request types.\n     */\n    requests: z.optional(z\n        .object({\n        /**\n         * Task support for tool requests.\n         */\n        tools: z.optional(z\n            .object({\n            call: z.optional(z.object({}).passthrough())\n        })\n            .passthrough())\n    })\n        .passthrough())\n})\n    .passthrough();\n/**\n * Capabilities a client may support. Known capabilities are defined here, in this schema, but this is not a closed set: any client can define its own, additional capabilities.\n */\nexport const ClientCapabilitiesSchema = z.object({\n    /**\n     * Experimental, non-standard capabilities that the client supports.\n     */\n    experimental: z.record(z.string(), AssertObjectSchema).optional(),\n    /**\n     * Present if the client supports sampling from an LLM.\n     */\n    sampling: z\n        .object({\n        /**\n         * Present if the client supports context inclusion via includeContext parameter.\n         * If not declared, servers SHOULD only use `includeContext: \"none\"` (or omit it).\n         */\n        context: AssertObjectSchema.optional(),\n        /**\n         * Present if the client supports tool use via tools and toolChoice parameters.\n         */\n        tools: AssertObjectSchema.optional()\n    })\n        .optional(),\n    /**\n     * Present if the client supports eliciting user input.\n     */\n    elicitation: ElicitationCapabilitySchema.optional(),\n    /**\n     * Present if the client supports listing roots.\n     */\n    roots: z\n        .object({\n        /**\n         * Whether the client supports issuing notifications for changes to the roots list.\n         */\n        listChanged: z.boolean().optional()\n    })\n        .optional(),\n    /**\n     * Present if the client supports task creation.\n     */\n    tasks: z.optional(ClientTasksCapabilitySchema)\n});\nexport const InitializeRequestParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The latest version of the Model Context Protocol that the client supports. The client MAY decide to support older versions as well.\n     */\n    protocolVersion: z.string(),\n    capabilities: ClientCapabilitiesSchema,\n    clientInfo: ImplementationSchema\n});\n/**\n * This request is sent from the client to the server when it first connects, asking it to begin initialization.\n */\nexport const InitializeRequestSchema = RequestSchema.extend({\n    method: z.literal('initialize'),\n    params: InitializeRequestParamsSchema\n});\nexport const isInitializeRequest = (value) => InitializeRequestSchema.safeParse(value).success;\n/**\n * Capabilities that a server may support. Known capabilities are defined here, in this schema, but this is not a closed set: any server can define its own, additional capabilities.\n */\nexport const ServerCapabilitiesSchema = z\n    .object({\n    /**\n     * Experimental, non-standard capabilities that the server supports.\n     */\n    experimental: z.record(z.string(), AssertObjectSchema).optional(),\n    /**\n     * Present if the server supports sending log messages to the client.\n     */\n    logging: AssertObjectSchema.optional(),\n    /**\n     * Present if the server supports sending completions to the client.\n     */\n    completions: AssertObjectSchema.optional(),\n    /**\n     * Present if the server offers any prompt templates.\n     */\n    prompts: z.optional(z.object({\n        /**\n         * Whether this server supports issuing notifications for changes to the prompt list.\n         */\n        listChanged: z.optional(z.boolean())\n    })),\n    /**\n     * Present if the server offers any resources to read.\n     */\n    resources: z\n        .object({\n        /**\n         * Whether this server supports clients subscribing to resource updates.\n         */\n        subscribe: z.boolean().optional(),\n        /**\n         * Whether this server supports issuing notifications for changes to the resource list.\n         */\n        listChanged: z.boolean().optional()\n    })\n        .optional(),\n    /**\n     * Present if the server offers any tools to call.\n     */\n    tools: z\n        .object({\n        /**\n         * Whether this server supports issuing notifications for changes to the tool list.\n         */\n        listChanged: z.boolean().optional()\n    })\n        .optional(),\n    /**\n     * Present if the server supports task creation.\n     */\n    tasks: z.optional(ServerTasksCapabilitySchema)\n})\n    .passthrough();\n/**\n * After receiving an initialize request from the client, the server sends this response.\n */\nexport const InitializeResultSchema = ResultSchema.extend({\n    /**\n     * The version of the Model Context Protocol that the server wants to use. This may not match the version that the client requested. If the client cannot support this version, it MUST disconnect.\n     */\n    protocolVersion: z.string(),\n    capabilities: ServerCapabilitiesSchema,\n    serverInfo: ImplementationSchema,\n    /**\n     * Instructions describing how to use the server and its features.\n     *\n     * This can be used by clients to improve the LLM's understanding of available tools, resources, etc. It can be thought of like a \"hint\" to the model. For example, this information MAY be added to the system prompt.\n     */\n    instructions: z.string().optional()\n});\n/**\n * This notification is sent from the client to the server after initialization has finished.\n */\nexport const InitializedNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/initialized')\n});\nexport const isInitializedNotification = (value) => InitializedNotificationSchema.safeParse(value).success;\n/* Ping */\n/**\n * A ping, issued by either the server or the client, to check that the other party is still alive. The receiver must promptly respond, or else may be disconnected.\n */\nexport const PingRequestSchema = RequestSchema.extend({\n    method: z.literal('ping')\n});\n/* Progress notifications */\nexport const ProgressSchema = z.object({\n    /**\n     * The progress thus far. This should increase every time progress is made, even if the total is unknown.\n     */\n    progress: z.number(),\n    /**\n     * Total number of items to process (or total progress required), if known.\n     */\n    total: z.optional(z.number()),\n    /**\n     * An optional message describing the current progress.\n     */\n    message: z.optional(z.string())\n});\nexport const ProgressNotificationParamsSchema = z.object({\n    ...NotificationsParamsSchema.shape,\n    ...ProgressSchema.shape,\n    /**\n     * The progress token which was given in the initial request, used to associate this notification with the request that is proceeding.\n     */\n    progressToken: ProgressTokenSchema\n});\n/**\n * An out-of-band notification used to inform the receiver of a progress update for a long-running request.\n *\n * @category notifications/progress\n */\nexport const ProgressNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/progress'),\n    params: ProgressNotificationParamsSchema\n});\nexport const PaginatedRequestParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * An opaque token representing the current pagination position.\n     * If provided, the server should return results starting after this cursor.\n     */\n    cursor: CursorSchema.optional()\n});\n/* Pagination */\nexport const PaginatedRequestSchema = RequestSchema.extend({\n    params: PaginatedRequestParamsSchema.optional()\n});\nexport const PaginatedResultSchema = ResultSchema.extend({\n    /**\n     * An opaque token representing the pagination position after the last returned result.\n     * If present, there may be more results available.\n     */\n    nextCursor: z.optional(CursorSchema)\n});\n/* Tasks */\n/**\n * A pollable state object associated with a request.\n */\nexport const TaskSchema = z.object({\n    taskId: z.string(),\n    status: z.enum(['working', 'input_required', 'completed', 'failed', 'cancelled']),\n    /**\n     * Time in milliseconds to keep task results available after completion.\n     * If null, the task has unlimited lifetime until manually cleaned up.\n     */\n    ttl: z.union([z.number(), z.null()]),\n    /**\n     * ISO 8601 timestamp when the task was created.\n     */\n    createdAt: z.string(),\n    /**\n     * ISO 8601 timestamp when the task was last updated.\n     */\n    lastUpdatedAt: z.string(),\n    pollInterval: z.optional(z.number()),\n    /**\n     * Optional diagnostic message for failed tasks or other status information.\n     */\n    statusMessage: z.optional(z.string())\n});\n/**\n * Result returned when a task is created, containing the task data wrapped in a task field.\n */\nexport const CreateTaskResultSchema = ResultSchema.extend({\n    task: TaskSchema\n});\n/**\n * Parameters for task status notification.\n */\nexport const TaskStatusNotificationParamsSchema = NotificationsParamsSchema.merge(TaskSchema);\n/**\n * A notification sent when a task's status changes.\n */\nexport const TaskStatusNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/tasks/status'),\n    params: TaskStatusNotificationParamsSchema\n});\n/**\n * A request to get the state of a specific task.\n */\nexport const GetTaskRequestSchema = RequestSchema.extend({\n    method: z.literal('tasks/get'),\n    params: BaseRequestParamsSchema.extend({\n        taskId: z.string()\n    })\n});\n/**\n * The response to a tasks/get request.\n */\nexport const GetTaskResultSchema = ResultSchema.merge(TaskSchema);\n/**\n * A request to get the result of a specific task.\n */\nexport const GetTaskPayloadRequestSchema = RequestSchema.extend({\n    method: z.literal('tasks/result'),\n    params: BaseRequestParamsSchema.extend({\n        taskId: z.string()\n    })\n});\n/**\n * A request to list tasks.\n */\nexport const ListTasksRequestSchema = PaginatedRequestSchema.extend({\n    method: z.literal('tasks/list')\n});\n/**\n * The response to a tasks/list request.\n */\nexport const ListTasksResultSchema = PaginatedResultSchema.extend({\n    tasks: z.array(TaskSchema)\n});\n/**\n * A request to cancel a specific task.\n */\nexport const CancelTaskRequestSchema = RequestSchema.extend({\n    method: z.literal('tasks/cancel'),\n    params: BaseRequestParamsSchema.extend({\n        taskId: z.string()\n    })\n});\n/**\n * The response to a tasks/cancel request.\n */\nexport const CancelTaskResultSchema = ResultSchema.merge(TaskSchema);\n/* Resources */\n/**\n * The contents of a specific resource or sub-resource.\n */\nexport const ResourceContentsSchema = z.object({\n    /**\n     * The URI of this resource.\n     */\n    uri: z.string(),\n    /**\n     * The MIME type of this resource, if known.\n     */\n    mimeType: z.optional(z.string()),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\nexport const TextResourceContentsSchema = ResourceContentsSchema.extend({\n    /**\n     * The text of the item. This must only be set if the item can actually be represented as text (not binary data).\n     */\n    text: z.string()\n});\n/**\n * A Zod schema for validating Base64 strings that is more performant and\n * robust for very large inputs than the default regex-based check. It avoids\n * stack overflows by using the native `atob` function for validation.\n */\nconst Base64Schema = z.string().refine(val => {\n    try {\n        // atob throws a DOMException if the string contains characters\n        // that are not part of the Base64 character set.\n        atob(val);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}, { message: 'Invalid Base64 string' });\nexport const BlobResourceContentsSchema = ResourceContentsSchema.extend({\n    /**\n     * A base64-encoded string representing the binary data of the item.\n     */\n    blob: Base64Schema\n});\n/**\n * Optional annotations providing clients additional context about a resource.\n */\nexport const AnnotationsSchema = z.object({\n    /**\n     * Intended audience(s) for the resource.\n     */\n    audience: z.array(z.enum(['user', 'assistant'])).optional(),\n    /**\n     * Importance hint for the resource, from 0 (least) to 1 (most).\n     */\n    priority: z.number().min(0).max(1).optional(),\n    /**\n     * ISO 8601 timestamp for the most recent modification.\n     */\n    lastModified: z.iso.datetime({ offset: true }).optional()\n});\n/**\n * A known resource that the server is capable of reading.\n */\nexport const ResourceSchema = z.object({\n    ...BaseMetadataSchema.shape,\n    ...IconsSchema.shape,\n    /**\n     * The URI of this resource.\n     */\n    uri: z.string(),\n    /**\n     * A description of what this resource represents.\n     *\n     * This can be used by clients to improve the LLM's understanding of available resources. It can be thought of like a \"hint\" to the model.\n     */\n    description: z.optional(z.string()),\n    /**\n     * The MIME type of this resource, if known.\n     */\n    mimeType: z.optional(z.string()),\n    /**\n     * Optional annotations for the client.\n     */\n    annotations: AnnotationsSchema.optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.optional(z.looseObject({}))\n});\n/**\n * A template description for resources available on the server.\n */\nexport const ResourceTemplateSchema = z.object({\n    ...BaseMetadataSchema.shape,\n    ...IconsSchema.shape,\n    /**\n     * A URI template (according to RFC 6570) that can be used to construct resource URIs.\n     */\n    uriTemplate: z.string(),\n    /**\n     * A description of what this template is for.\n     *\n     * This can be used by clients to improve the LLM's understanding of available resources. It can be thought of like a \"hint\" to the model.\n     */\n    description: z.optional(z.string()),\n    /**\n     * The MIME type for all resources that match this template. This should only be included if all resources matching this template have the same type.\n     */\n    mimeType: z.optional(z.string()),\n    /**\n     * Optional annotations for the client.\n     */\n    annotations: AnnotationsSchema.optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.optional(z.looseObject({}))\n});\n/**\n * Sent from the client to request a list of resources the server has.\n */\nexport const ListResourcesRequestSchema = PaginatedRequestSchema.extend({\n    method: z.literal('resources/list')\n});\n/**\n * The server's response to a resources/list request from the client.\n */\nexport const ListResourcesResultSchema = PaginatedResultSchema.extend({\n    resources: z.array(ResourceSchema)\n});\n/**\n * Sent from the client to request a list of resource templates the server has.\n */\nexport const ListResourceTemplatesRequestSchema = PaginatedRequestSchema.extend({\n    method: z.literal('resources/templates/list')\n});\n/**\n * The server's response to a resources/templates/list request from the client.\n */\nexport const ListResourceTemplatesResultSchema = PaginatedResultSchema.extend({\n    resourceTemplates: z.array(ResourceTemplateSchema)\n});\nexport const ResourceRequestParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The URI of the resource to read. The URI can use any protocol; it is up to the server how to interpret it.\n     *\n     * @format uri\n     */\n    uri: z.string()\n});\n/**\n * Parameters for a `resources/read` request.\n */\nexport const ReadResourceRequestParamsSchema = ResourceRequestParamsSchema;\n/**\n * Sent from the client to the server, to read a specific resource URI.\n */\nexport const ReadResourceRequestSchema = RequestSchema.extend({\n    method: z.literal('resources/read'),\n    params: ReadResourceRequestParamsSchema\n});\n/**\n * The server's response to a resources/read request from the client.\n */\nexport const ReadResourceResultSchema = ResultSchema.extend({\n    contents: z.array(z.union([TextResourceContentsSchema, BlobResourceContentsSchema]))\n});\n/**\n * An optional notification from the server to the client, informing it that the list of resources it can read from has changed. This may be issued by servers without any previous subscription from the client.\n */\nexport const ResourceListChangedNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/resources/list_changed')\n});\nexport const SubscribeRequestParamsSchema = ResourceRequestParamsSchema;\n/**\n * Sent from the client to request resources/updated notifications from the server whenever a particular resource changes.\n */\nexport const SubscribeRequestSchema = RequestSchema.extend({\n    method: z.literal('resources/subscribe'),\n    params: SubscribeRequestParamsSchema\n});\nexport const UnsubscribeRequestParamsSchema = ResourceRequestParamsSchema;\n/**\n * Sent from the client to request cancellation of resources/updated notifications from the server. This should follow a previous resources/subscribe request.\n */\nexport const UnsubscribeRequestSchema = RequestSchema.extend({\n    method: z.literal('resources/unsubscribe'),\n    params: UnsubscribeRequestParamsSchema\n});\n/**\n * Parameters for a `notifications/resources/updated` notification.\n */\nexport const ResourceUpdatedNotificationParamsSchema = NotificationsParamsSchema.extend({\n    /**\n     * The URI of the resource that has been updated. This might be a sub-resource of the one that the client actually subscribed to.\n     */\n    uri: z.string()\n});\n/**\n * A notification from the server to the client, informing it that a resource has changed and may need to be read again. This should only be sent if the client previously sent a resources/subscribe request.\n */\nexport const ResourceUpdatedNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/resources/updated'),\n    params: ResourceUpdatedNotificationParamsSchema\n});\n/* Prompts */\n/**\n * Describes an argument that a prompt can accept.\n */\nexport const PromptArgumentSchema = z.object({\n    /**\n     * The name of the argument.\n     */\n    name: z.string(),\n    /**\n     * A human-readable description of the argument.\n     */\n    description: z.optional(z.string()),\n    /**\n     * Whether this argument must be provided.\n     */\n    required: z.optional(z.boolean())\n});\n/**\n * A prompt or prompt template that the server offers.\n */\nexport const PromptSchema = z.object({\n    ...BaseMetadataSchema.shape,\n    ...IconsSchema.shape,\n    /**\n     * An optional description of what this prompt provides\n     */\n    description: z.optional(z.string()),\n    /**\n     * A list of arguments to use for templating the prompt.\n     */\n    arguments: z.optional(z.array(PromptArgumentSchema)),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.optional(z.looseObject({}))\n});\n/**\n * Sent from the client to request a list of prompts and prompt templates the server has.\n */\nexport const ListPromptsRequestSchema = PaginatedRequestSchema.extend({\n    method: z.literal('prompts/list')\n});\n/**\n * The server's response to a prompts/list request from the client.\n */\nexport const ListPromptsResultSchema = PaginatedResultSchema.extend({\n    prompts: z.array(PromptSchema)\n});\n/**\n * Parameters for a `prompts/get` request.\n */\nexport const GetPromptRequestParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The name of the prompt or prompt template.\n     */\n    name: z.string(),\n    /**\n     * Arguments to use for templating the prompt.\n     */\n    arguments: z.record(z.string(), z.string()).optional()\n});\n/**\n * Used by the client to get a prompt provided by the server.\n */\nexport const GetPromptRequestSchema = RequestSchema.extend({\n    method: z.literal('prompts/get'),\n    params: GetPromptRequestParamsSchema\n});\n/**\n * Text provided to or from an LLM.\n */\nexport const TextContentSchema = z.object({\n    type: z.literal('text'),\n    /**\n     * The text content of the message.\n     */\n    text: z.string(),\n    /**\n     * Optional annotations for the client.\n     */\n    annotations: AnnotationsSchema.optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\n/**\n * An image provided to or from an LLM.\n */\nexport const ImageContentSchema = z.object({\n    type: z.literal('image'),\n    /**\n     * The base64-encoded image data.\n     */\n    data: Base64Schema,\n    /**\n     * The MIME type of the image. Different providers may support different image types.\n     */\n    mimeType: z.string(),\n    /**\n     * Optional annotations for the client.\n     */\n    annotations: AnnotationsSchema.optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\n/**\n * An Audio provided to or from an LLM.\n */\nexport const AudioContentSchema = z.object({\n    type: z.literal('audio'),\n    /**\n     * The base64-encoded audio data.\n     */\n    data: Base64Schema,\n    /**\n     * The MIME type of the audio. Different providers may support different audio types.\n     */\n    mimeType: z.string(),\n    /**\n     * Optional annotations for the client.\n     */\n    annotations: AnnotationsSchema.optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\n/**\n * A tool call request from an assistant (LLM).\n * Represents the assistant's request to use a tool.\n */\nexport const ToolUseContentSchema = z\n    .object({\n    type: z.literal('tool_use'),\n    /**\n     * The name of the tool to invoke.\n     * Must match a tool name from the request's tools array.\n     */\n    name: z.string(),\n    /**\n     * Unique identifier for this tool call.\n     * Used to correlate with ToolResultContent in subsequent messages.\n     */\n    id: z.string(),\n    /**\n     * Arguments to pass to the tool.\n     * Must conform to the tool's inputSchema.\n     */\n    input: z.object({}).passthrough(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.optional(z.object({}).passthrough())\n})\n    .passthrough();\n/**\n * The contents of a resource, embedded into a prompt or tool call result.\n */\nexport const EmbeddedResourceSchema = z.object({\n    type: z.literal('resource'),\n    resource: z.union([TextResourceContentsSchema, BlobResourceContentsSchema]),\n    /**\n     * Optional annotations for the client.\n     */\n    annotations: AnnotationsSchema.optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\n/**\n * A resource that the server is capable of reading, included in a prompt or tool call result.\n *\n * Note: resource links returned by tools are not guaranteed to appear in the results of `resources/list` requests.\n */\nexport const ResourceLinkSchema = ResourceSchema.extend({\n    type: z.literal('resource_link')\n});\n/**\n * A content block that can be used in prompts and tool results.\n */\nexport const ContentBlockSchema = z.union([\n    TextContentSchema,\n    ImageContentSchema,\n    AudioContentSchema,\n    ResourceLinkSchema,\n    EmbeddedResourceSchema\n]);\n/**\n * Describes a message returned as part of a prompt.\n */\nexport const PromptMessageSchema = z.object({\n    role: z.enum(['user', 'assistant']),\n    content: ContentBlockSchema\n});\n/**\n * The server's response to a prompts/get request from the client.\n */\nexport const GetPromptResultSchema = ResultSchema.extend({\n    /**\n     * An optional description for the prompt.\n     */\n    description: z.optional(z.string()),\n    messages: z.array(PromptMessageSchema)\n});\n/**\n * An optional notification from the server to the client, informing it that the list of prompts it offers has changed. This may be issued by servers without any previous subscription from the client.\n */\nexport const PromptListChangedNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/prompts/list_changed')\n});\n/* Tools */\n/**\n * Additional properties describing a Tool to clients.\n *\n * NOTE: all properties in ToolAnnotations are **hints**.\n * They are not guaranteed to provide a faithful description of\n * tool behavior (including descriptive properties like `title`).\n *\n * Clients should never make tool use decisions based on ToolAnnotations\n * received from untrusted servers.\n */\nexport const ToolAnnotationsSchema = z.object({\n    /**\n     * A human-readable title for the tool.\n     */\n    title: z.string().optional(),\n    /**\n     * If true, the tool does not modify its environment.\n     *\n     * Default: false\n     */\n    readOnlyHint: z.boolean().optional(),\n    /**\n     * If true, the tool may perform destructive updates to its environment.\n     * If false, the tool performs only additive updates.\n     *\n     * (This property is meaningful only when `readOnlyHint == false`)\n     *\n     * Default: true\n     */\n    destructiveHint: z.boolean().optional(),\n    /**\n     * If true, calling the tool repeatedly with the same arguments\n     * will have no additional effect on the its environment.\n     *\n     * (This property is meaningful only when `readOnlyHint == false`)\n     *\n     * Default: false\n     */\n    idempotentHint: z.boolean().optional(),\n    /**\n     * If true, this tool may interact with an \"open world\" of external\n     * entities. If false, the tool's domain of interaction is closed.\n     * For example, the world of a web search tool is open, whereas that\n     * of a memory tool is not.\n     *\n     * Default: true\n     */\n    openWorldHint: z.boolean().optional()\n});\n/**\n * Execution-related properties for a tool.\n */\nexport const ToolExecutionSchema = z.object({\n    /**\n     * Indicates the tool's preference for task-augmented execution.\n     * - \"required\": Clients MUST invoke the tool as a task\n     * - \"optional\": Clients MAY invoke the tool as a task or normal request\n     * - \"forbidden\": Clients MUST NOT attempt to invoke the tool as a task\n     *\n     * If not present, defaults to \"forbidden\".\n     */\n    taskSupport: z.enum(['required', 'optional', 'forbidden']).optional()\n});\n/**\n * Definition for a tool the client can call.\n */\nexport const ToolSchema = z.object({\n    ...BaseMetadataSchema.shape,\n    ...IconsSchema.shape,\n    /**\n     * A human-readable description of the tool.\n     */\n    description: z.string().optional(),\n    /**\n     * A JSON Schema 2020-12 object defining the expected parameters for the tool.\n     * Must have type: 'object' at the root level per MCP spec.\n     */\n    inputSchema: z\n        .object({\n        type: z.literal('object'),\n        properties: z.record(z.string(), AssertObjectSchema).optional(),\n        required: z.array(z.string()).optional()\n    })\n        .catchall(z.unknown()),\n    /**\n     * An optional JSON Schema 2020-12 object defining the structure of the tool's output\n     * returned in the structuredContent field of a CallToolResult.\n     * Must have type: 'object' at the root level per MCP spec.\n     */\n    outputSchema: z\n        .object({\n        type: z.literal('object'),\n        properties: z.record(z.string(), AssertObjectSchema).optional(),\n        required: z.array(z.string()).optional()\n    })\n        .catchall(z.unknown())\n        .optional(),\n    /**\n     * Optional additional tool information.\n     */\n    annotations: z.optional(ToolAnnotationsSchema),\n    /**\n     * Execution-related properties for this tool.\n     */\n    execution: z.optional(ToolExecutionSchema),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\n/**\n * Sent from the client to request a list of tools the server has.\n */\nexport const ListToolsRequestSchema = PaginatedRequestSchema.extend({\n    method: z.literal('tools/list')\n});\n/**\n * The server's response to a tools/list request from the client.\n */\nexport const ListToolsResultSchema = PaginatedResultSchema.extend({\n    tools: z.array(ToolSchema)\n});\n/**\n * The server's response to a tool call.\n */\nexport const CallToolResultSchema = ResultSchema.extend({\n    /**\n     * A list of content objects that represent the result of the tool call.\n     *\n     * If the Tool does not define an outputSchema, this field MUST be present in the result.\n     * For backwards compatibility, this field is always present, but it may be empty.\n     */\n    content: z.array(ContentBlockSchema).default([]),\n    /**\n     * An object containing structured tool output.\n     *\n     * If the Tool defines an outputSchema, this field MUST be present in the result, and contain a JSON object that matches the schema.\n     */\n    structuredContent: z.record(z.string(), z.unknown()).optional(),\n    /**\n     * Whether the tool call ended in an error.\n     *\n     * If not set, this is assumed to be false (the call was successful).\n     *\n     * Any errors that originate from the tool SHOULD be reported inside the result\n     * object, with `isError` set to true, _not_ as an MCP protocol-level error\n     * response. Otherwise, the LLM would not be able to see that an error occurred\n     * and self-correct.\n     *\n     * However, any errors in _finding_ the tool, an error indicating that the\n     * server does not support tool calls, or any other exceptional conditions,\n     * should be reported as an MCP error response.\n     */\n    isError: z.optional(z.boolean())\n});\n/**\n * CallToolResultSchema extended with backwards compatibility to protocol version 2024-10-07.\n */\nexport const CompatibilityCallToolResultSchema = CallToolResultSchema.or(ResultSchema.extend({\n    toolResult: z.unknown()\n}));\n/**\n * Parameters for a `tools/call` request.\n */\nexport const CallToolRequestParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The name of the tool to call.\n     */\n    name: z.string(),\n    /**\n     * Arguments to pass to the tool.\n     */\n    arguments: z.optional(z.record(z.string(), z.unknown()))\n});\n/**\n * Used by the client to invoke a tool provided by the server.\n */\nexport const CallToolRequestSchema = RequestSchema.extend({\n    method: z.literal('tools/call'),\n    params: CallToolRequestParamsSchema\n});\n/**\n * An optional notification from the server to the client, informing it that the list of tools it offers has changed. This may be issued by servers without any previous subscription from the client.\n */\nexport const ToolListChangedNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/tools/list_changed')\n});\n/* Logging */\n/**\n * The severity of a log message.\n */\nexport const LoggingLevelSchema = z.enum(['debug', 'info', 'notice', 'warning', 'error', 'critical', 'alert', 'emergency']);\n/**\n * Parameters for a `logging/setLevel` request.\n */\nexport const SetLevelRequestParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The level of logging that the client wants to receive from the server. The server should send all logs at this level and higher (i.e., more severe) to the client as notifications/logging/message.\n     */\n    level: LoggingLevelSchema\n});\n/**\n * A request from the client to the server, to enable or adjust logging.\n */\nexport const SetLevelRequestSchema = RequestSchema.extend({\n    method: z.literal('logging/setLevel'),\n    params: SetLevelRequestParamsSchema\n});\n/**\n * Parameters for a `notifications/message` notification.\n */\nexport const LoggingMessageNotificationParamsSchema = NotificationsParamsSchema.extend({\n    /**\n     * The severity of this log message.\n     */\n    level: LoggingLevelSchema,\n    /**\n     * An optional name of the logger issuing this message.\n     */\n    logger: z.string().optional(),\n    /**\n     * The data to be logged, such as a string message or an object. Any JSON serializable type is allowed here.\n     */\n    data: z.unknown()\n});\n/**\n * Notification of a log message passed from server to client. If no logging/setLevel request has been sent from the client, the server MAY decide which messages to send automatically.\n */\nexport const LoggingMessageNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/message'),\n    params: LoggingMessageNotificationParamsSchema\n});\n/* Sampling */\n/**\n * Hints to use for model selection.\n */\nexport const ModelHintSchema = z.object({\n    /**\n     * A hint for a model name.\n     */\n    name: z.string().optional()\n});\n/**\n * The server's preferences for model selection, requested of the client during sampling.\n */\nexport const ModelPreferencesSchema = z.object({\n    /**\n     * Optional hints to use for model selection.\n     */\n    hints: z.optional(z.array(ModelHintSchema)),\n    /**\n     * How much to prioritize cost when selecting a model.\n     */\n    costPriority: z.optional(z.number().min(0).max(1)),\n    /**\n     * How much to prioritize sampling speed (latency) when selecting a model.\n     */\n    speedPriority: z.optional(z.number().min(0).max(1)),\n    /**\n     * How much to prioritize intelligence and capabilities when selecting a model.\n     */\n    intelligencePriority: z.optional(z.number().min(0).max(1))\n});\n/**\n * Controls tool usage behavior in sampling requests.\n */\nexport const ToolChoiceSchema = z.object({\n    /**\n     * Controls when tools are used:\n     * - \"auto\": Model decides whether to use tools (default)\n     * - \"required\": Model MUST use at least one tool before completing\n     * - \"none\": Model MUST NOT use any tools\n     */\n    mode: z.optional(z.enum(['auto', 'required', 'none']))\n});\n/**\n * The result of a tool execution, provided by the user (server).\n * Represents the outcome of invoking a tool requested via ToolUseContent.\n */\nexport const ToolResultContentSchema = z\n    .object({\n    type: z.literal('tool_result'),\n    toolUseId: z.string().describe('The unique identifier for the corresponding tool call.'),\n    content: z.array(ContentBlockSchema).default([]),\n    structuredContent: z.object({}).passthrough().optional(),\n    isError: z.optional(z.boolean()),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.optional(z.object({}).passthrough())\n})\n    .passthrough();\n/**\n * Basic content types for sampling responses (without tool use).\n * Used for backwards-compatible CreateMessageResult when tools are not used.\n */\nexport const SamplingContentSchema = z.discriminatedUnion('type', [TextContentSchema, ImageContentSchema, AudioContentSchema]);\n/**\n * Content block types allowed in sampling messages.\n * This includes text, image, audio, tool use requests, and tool results.\n */\nexport const SamplingMessageContentBlockSchema = z.discriminatedUnion('type', [\n    TextContentSchema,\n    ImageContentSchema,\n    AudioContentSchema,\n    ToolUseContentSchema,\n    ToolResultContentSchema\n]);\n/**\n * Describes a message issued to or received from an LLM API.\n */\nexport const SamplingMessageSchema = z\n    .object({\n    role: z.enum(['user', 'assistant']),\n    content: z.union([SamplingMessageContentBlockSchema, z.array(SamplingMessageContentBlockSchema)]),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.optional(z.object({}).passthrough())\n})\n    .passthrough();\n/**\n * Parameters for a `sampling/createMessage` request.\n */\nexport const CreateMessageRequestParamsSchema = BaseRequestParamsSchema.extend({\n    messages: z.array(SamplingMessageSchema),\n    /**\n     * The server's preferences for which model to select. The client MAY modify or omit this request.\n     */\n    modelPreferences: ModelPreferencesSchema.optional(),\n    /**\n     * An optional system prompt the server wants to use for sampling. The client MAY modify or omit this prompt.\n     */\n    systemPrompt: z.string().optional(),\n    /**\n     * A request to include context from one or more MCP servers (including the caller), to be attached to the prompt.\n     * The client MAY ignore this request.\n     *\n     * Default is \"none\". Values \"thisServer\" and \"allServers\" are soft-deprecated. Servers SHOULD only use these values if the client\n     * declares ClientCapabilities.sampling.context. These values may be removed in future spec releases.\n     */\n    includeContext: z.enum(['none', 'thisServer', 'allServers']).optional(),\n    temperature: z.number().optional(),\n    /**\n     * The requested maximum number of tokens to sample (to prevent runaway completions).\n     *\n     * The client MAY choose to sample fewer tokens than the requested maximum.\n     */\n    maxTokens: z.number().int(),\n    stopSequences: z.array(z.string()).optional(),\n    /**\n     * Optional metadata to pass through to the LLM provider. The format of this metadata is provider-specific.\n     */\n    metadata: AssertObjectSchema.optional(),\n    /**\n     * Tools that the model may use during generation.\n     * The client MUST return an error if this field is provided but ClientCapabilities.sampling.tools is not declared.\n     */\n    tools: z.optional(z.array(ToolSchema)),\n    /**\n     * Controls how the model uses tools.\n     * The client MUST return an error if this field is provided but ClientCapabilities.sampling.tools is not declared.\n     * Default is `{ mode: \"auto\" }`.\n     */\n    toolChoice: z.optional(ToolChoiceSchema)\n});\n/**\n * A request from the server to sample an LLM via the client. The client has full discretion over which model to select. The client should also inform the user before beginning sampling, to allow them to inspect the request (human in the loop) and decide whether to approve it.\n */\nexport const CreateMessageRequestSchema = RequestSchema.extend({\n    method: z.literal('sampling/createMessage'),\n    params: CreateMessageRequestParamsSchema\n});\n/**\n * The client's response to a sampling/create_message request from the server.\n * This is the backwards-compatible version that returns single content (no arrays).\n * Used when the request does not include tools.\n */\nexport const CreateMessageResultSchema = ResultSchema.extend({\n    /**\n     * The name of the model that generated the message.\n     */\n    model: z.string(),\n    /**\n     * The reason why sampling stopped, if known.\n     *\n     * Standard values:\n     * - \"endTurn\": Natural end of the assistant's turn\n     * - \"stopSequence\": A stop sequence was encountered\n     * - \"maxTokens\": Maximum token limit was reached\n     *\n     * This field is an open string to allow for provider-specific stop reasons.\n     */\n    stopReason: z.optional(z.enum(['endTurn', 'stopSequence', 'maxTokens']).or(z.string())),\n    role: z.enum(['user', 'assistant']),\n    /**\n     * Response content. Single content block (text, image, or audio).\n     */\n    content: SamplingContentSchema\n});\n/**\n * The client's response to a sampling/create_message request when tools were provided.\n * This version supports array content for tool use flows.\n */\nexport const CreateMessageResultWithToolsSchema = ResultSchema.extend({\n    /**\n     * The name of the model that generated the message.\n     */\n    model: z.string(),\n    /**\n     * The reason why sampling stopped, if known.\n     *\n     * Standard values:\n     * - \"endTurn\": Natural end of the assistant's turn\n     * - \"stopSequence\": A stop sequence was encountered\n     * - \"maxTokens\": Maximum token limit was reached\n     * - \"toolUse\": The model wants to use one or more tools\n     *\n     * This field is an open string to allow for provider-specific stop reasons.\n     */\n    stopReason: z.optional(z.enum(['endTurn', 'stopSequence', 'maxTokens', 'toolUse']).or(z.string())),\n    role: z.enum(['user', 'assistant']),\n    /**\n     * Response content. May be a single block or array. May include ToolUseContent if stopReason is \"toolUse\".\n     */\n    content: z.union([SamplingMessageContentBlockSchema, z.array(SamplingMessageContentBlockSchema)])\n});\n/* Elicitation */\n/**\n * Primitive schema definition for boolean fields.\n */\nexport const BooleanSchemaSchema = z.object({\n    type: z.literal('boolean'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    default: z.boolean().optional()\n});\n/**\n * Primitive schema definition for string fields.\n */\nexport const StringSchemaSchema = z.object({\n    type: z.literal('string'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    minLength: z.number().optional(),\n    maxLength: z.number().optional(),\n    format: z.enum(['email', 'uri', 'date', 'date-time']).optional(),\n    default: z.string().optional()\n});\n/**\n * Primitive schema definition for number fields.\n */\nexport const NumberSchemaSchema = z.object({\n    type: z.enum(['number', 'integer']),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    minimum: z.number().optional(),\n    maximum: z.number().optional(),\n    default: z.number().optional()\n});\n/**\n * Schema for single-selection enumeration without display titles for options.\n */\nexport const UntitledSingleSelectEnumSchemaSchema = z.object({\n    type: z.literal('string'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    enum: z.array(z.string()),\n    default: z.string().optional()\n});\n/**\n * Schema for single-selection enumeration with display titles for each option.\n */\nexport const TitledSingleSelectEnumSchemaSchema = z.object({\n    type: z.literal('string'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    oneOf: z.array(z.object({\n        const: z.string(),\n        title: z.string()\n    })),\n    default: z.string().optional()\n});\n/**\n * Use TitledSingleSelectEnumSchema instead.\n * This interface will be removed in a future version.\n */\nexport const LegacyTitledEnumSchemaSchema = z.object({\n    type: z.literal('string'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    enum: z.array(z.string()),\n    enumNames: z.array(z.string()).optional(),\n    default: z.string().optional()\n});\n// Combined single selection enumeration\nexport const SingleSelectEnumSchemaSchema = z.union([UntitledSingleSelectEnumSchemaSchema, TitledSingleSelectEnumSchemaSchema]);\n/**\n * Schema for multiple-selection enumeration without display titles for options.\n */\nexport const UntitledMultiSelectEnumSchemaSchema = z.object({\n    type: z.literal('array'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    minItems: z.number().optional(),\n    maxItems: z.number().optional(),\n    items: z.object({\n        type: z.literal('string'),\n        enum: z.array(z.string())\n    }),\n    default: z.array(z.string()).optional()\n});\n/**\n * Schema for multiple-selection enumeration with display titles for each option.\n */\nexport const TitledMultiSelectEnumSchemaSchema = z.object({\n    type: z.literal('array'),\n    title: z.string().optional(),\n    description: z.string().optional(),\n    minItems: z.number().optional(),\n    maxItems: z.number().optional(),\n    items: z.object({\n        anyOf: z.array(z.object({\n            const: z.string(),\n            title: z.string()\n        }))\n    }),\n    default: z.array(z.string()).optional()\n});\n/**\n * Combined schema for multiple-selection enumeration\n */\nexport const MultiSelectEnumSchemaSchema = z.union([UntitledMultiSelectEnumSchemaSchema, TitledMultiSelectEnumSchemaSchema]);\n/**\n * Primitive schema definition for enum fields.\n */\nexport const EnumSchemaSchema = z.union([LegacyTitledEnumSchemaSchema, SingleSelectEnumSchemaSchema, MultiSelectEnumSchemaSchema]);\n/**\n * Union of all primitive schema definitions.\n */\nexport const PrimitiveSchemaDefinitionSchema = z.union([EnumSchemaSchema, BooleanSchemaSchema, StringSchemaSchema, NumberSchemaSchema]);\n/**\n * Parameters for an `elicitation/create` request for form-based elicitation.\n */\nexport const ElicitRequestFormParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The elicitation mode.\n     *\n     * Optional for backward compatibility. Clients MUST treat missing mode as \"form\".\n     */\n    mode: z.literal('form').optional(),\n    /**\n     * The message to present to the user describing what information is being requested.\n     */\n    message: z.string(),\n    /**\n     * A restricted subset of JSON Schema.\n     * Only top-level properties are allowed, without nesting.\n     */\n    requestedSchema: z.object({\n        type: z.literal('object'),\n        properties: z.record(z.string(), PrimitiveSchemaDefinitionSchema),\n        required: z.array(z.string()).optional()\n    })\n});\n/**\n * Parameters for an `elicitation/create` request for URL-based elicitation.\n */\nexport const ElicitRequestURLParamsSchema = BaseRequestParamsSchema.extend({\n    /**\n     * The elicitation mode.\n     */\n    mode: z.literal('url'),\n    /**\n     * The message to present to the user explaining why the interaction is needed.\n     */\n    message: z.string(),\n    /**\n     * The ID of the elicitation, which must be unique within the context of the server.\n     * The client MUST treat this ID as an opaque value.\n     */\n    elicitationId: z.string(),\n    /**\n     * The URL that the user should navigate to.\n     */\n    url: z.string().url()\n});\n/**\n * The parameters for a request to elicit additional information from the user via the client.\n */\nexport const ElicitRequestParamsSchema = z.union([ElicitRequestFormParamsSchema, ElicitRequestURLParamsSchema]);\n/**\n * A request from the server to elicit user input via the client.\n * The client should present the message and form fields to the user (form mode)\n * or navigate to a URL (URL mode).\n */\nexport const ElicitRequestSchema = RequestSchema.extend({\n    method: z.literal('elicitation/create'),\n    params: ElicitRequestParamsSchema\n});\n/**\n * Parameters for a `notifications/elicitation/complete` notification.\n *\n * @category notifications/elicitation/complete\n */\nexport const ElicitationCompleteNotificationParamsSchema = NotificationsParamsSchema.extend({\n    /**\n     * The ID of the elicitation that completed.\n     */\n    elicitationId: z.string()\n});\n/**\n * A notification from the server to the client, informing it of a completion of an out-of-band elicitation request.\n *\n * @category notifications/elicitation/complete\n */\nexport const ElicitationCompleteNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/elicitation/complete'),\n    params: ElicitationCompleteNotificationParamsSchema\n});\n/**\n * The client's response to an elicitation/create request from the server.\n */\nexport const ElicitResultSchema = ResultSchema.extend({\n    /**\n     * The user action in response to the elicitation.\n     * - \"accept\": User submitted the form/confirmed the action\n     * - \"decline\": User explicitly decline the action\n     * - \"cancel\": User dismissed without making an explicit choice\n     */\n    action: z.enum(['accept', 'decline', 'cancel']),\n    /**\n     * The submitted form data, only present when action is \"accept\".\n     * Contains values matching the requested schema.\n     * Per MCP spec, content is \"typically omitted\" for decline/cancel actions.\n     * We normalize null to undefined for leniency while maintaining type compatibility.\n     */\n    content: z.preprocess(val => (val === null ? undefined : val), z.record(z.string(), z.union([z.string(), z.number(), z.boolean(), z.array(z.string())])).optional())\n});\n/* Autocomplete */\n/**\n * A reference to a resource or resource template definition.\n */\nexport const ResourceTemplateReferenceSchema = z.object({\n    type: z.literal('ref/resource'),\n    /**\n     * The URI or URI template of the resource.\n     */\n    uri: z.string()\n});\n/**\n * @deprecated Use ResourceTemplateReferenceSchema instead\n */\nexport const ResourceReferenceSchema = ResourceTemplateReferenceSchema;\n/**\n * Identifies a prompt.\n */\nexport const PromptReferenceSchema = z.object({\n    type: z.literal('ref/prompt'),\n    /**\n     * The name of the prompt or prompt template\n     */\n    name: z.string()\n});\n/**\n * Parameters for a `completion/complete` request.\n */\nexport const CompleteRequestParamsSchema = BaseRequestParamsSchema.extend({\n    ref: z.union([PromptReferenceSchema, ResourceTemplateReferenceSchema]),\n    /**\n     * The argument's information\n     */\n    argument: z.object({\n        /**\n         * The name of the argument\n         */\n        name: z.string(),\n        /**\n         * The value of the argument to use for completion matching.\n         */\n        value: z.string()\n    }),\n    context: z\n        .object({\n        /**\n         * Previously-resolved variables in a URI template or prompt.\n         */\n        arguments: z.record(z.string(), z.string()).optional()\n    })\n        .optional()\n});\n/**\n * A request from the client to the server, to ask for completion options.\n */\nexport const CompleteRequestSchema = RequestSchema.extend({\n    method: z.literal('completion/complete'),\n    params: CompleteRequestParamsSchema\n});\nexport function assertCompleteRequestPrompt(request) {\n    if (request.params.ref.type !== 'ref/prompt') {\n        throw new TypeError(`Expected CompleteRequestPrompt, but got ${request.params.ref.type}`);\n    }\n    void request;\n}\nexport function assertCompleteRequestResourceTemplate(request) {\n    if (request.params.ref.type !== 'ref/resource') {\n        throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${request.params.ref.type}`);\n    }\n    void request;\n}\n/**\n * The server's response to a completion/complete request\n */\nexport const CompleteResultSchema = ResultSchema.extend({\n    completion: z.looseObject({\n        /**\n         * An array of completion values. Must not exceed 100 items.\n         */\n        values: z.array(z.string()).max(100),\n        /**\n         * The total number of completion options available. This can exceed the number of values actually sent in the response.\n         */\n        total: z.optional(z.number().int()),\n        /**\n         * Indicates whether there are additional completion options beyond those provided in the current response, even if the exact total is unknown.\n         */\n        hasMore: z.optional(z.boolean())\n    })\n});\n/* Roots */\n/**\n * Represents a root directory or file that the server can operate on.\n */\nexport const RootSchema = z.object({\n    /**\n     * The URI identifying the root. This *must* start with file:// for now.\n     */\n    uri: z.string().startsWith('file://'),\n    /**\n     * An optional name for the root.\n     */\n    name: z.string().optional(),\n    /**\n     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)\n     * for notes on _meta usage.\n     */\n    _meta: z.record(z.string(), z.unknown()).optional()\n});\n/**\n * Sent from the server to request a list of root URIs from the client.\n */\nexport const ListRootsRequestSchema = RequestSchema.extend({\n    method: z.literal('roots/list')\n});\n/**\n * The client's response to a roots/list request from the server.\n */\nexport const ListRootsResultSchema = ResultSchema.extend({\n    roots: z.array(RootSchema)\n});\n/**\n * A notification from the client to the server, informing it that the list of roots has changed.\n */\nexport const RootsListChangedNotificationSchema = NotificationSchema.extend({\n    method: z.literal('notifications/roots/list_changed')\n});\n/* Client messages */\nexport const ClientRequestSchema = z.union([\n    PingRequestSchema,\n    InitializeRequestSchema,\n    CompleteRequestSchema,\n    SetLevelRequestSchema,\n    GetPromptRequestSchema,\n    ListPromptsRequestSchema,\n    ListResourcesRequestSchema,\n    ListResourceTemplatesRequestSchema,\n    ReadResourceRequestSchema,\n    SubscribeRequestSchema,\n    UnsubscribeRequestSchema,\n    CallToolRequestSchema,\n    ListToolsRequestSchema,\n    GetTaskRequestSchema,\n    GetTaskPayloadRequestSchema,\n    ListTasksRequestSchema\n]);\nexport const ClientNotificationSchema = z.union([\n    CancelledNotificationSchema,\n    ProgressNotificationSchema,\n    InitializedNotificationSchema,\n    RootsListChangedNotificationSchema,\n    TaskStatusNotificationSchema\n]);\nexport const ClientResultSchema = z.union([\n    EmptyResultSchema,\n    CreateMessageResultSchema,\n    CreateMessageResultWithToolsSchema,\n    ElicitResultSchema,\n    ListRootsResultSchema,\n    GetTaskResultSchema,\n    ListTasksResultSchema,\n    CreateTaskResultSchema\n]);\n/* Server messages */\nexport const ServerRequestSchema = z.union([\n    PingRequestSchema,\n    CreateMessageRequestSchema,\n    ElicitRequestSchema,\n    ListRootsRequestSchema,\n    GetTaskRequestSchema,\n    GetTaskPayloadRequestSchema,\n    ListTasksRequestSchema\n]);\nexport const ServerNotificationSchema = z.union([\n    CancelledNotificationSchema,\n    ProgressNotificationSchema,\n    LoggingMessageNotificationSchema,\n    ResourceUpdatedNotificationSchema,\n    ResourceListChangedNotificationSchema,\n    ToolListChangedNotificationSchema,\n    PromptListChangedNotificationSchema,\n    TaskStatusNotificationSchema,\n    ElicitationCompleteNotificationSchema\n]);\nexport const ServerResultSchema = z.union([\n    EmptyResultSchema,\n    InitializeResultSchema,\n    CompleteResultSchema,\n    GetPromptResultSchema,\n    ListPromptsResultSchema,\n    ListResourcesResultSchema,\n    ListResourceTemplatesResultSchema,\n    ReadResourceResultSchema,\n    CallToolResultSchema,\n    ListToolsResultSchema,\n    GetTaskResultSchema,\n    ListTasksResultSchema,\n    CreateTaskResultSchema\n]);\nexport class McpError extends Error {\n    constructor(code, message, data) {\n        super(`MCP error ${code}: ${message}`);\n        this.code = code;\n        this.data = data;\n        this.name = 'McpError';\n    }\n    /**\n     * Factory method to create the appropriate error type based on the error code and data\n     */\n    static fromError(code, message, data) {\n        // Check for specific error types\n        if (code === ErrorCode.UrlElicitationRequired && data) {\n            const errorData = data;\n            if (errorData.elicitations) {\n                return new UrlElicitationRequiredError(errorData.elicitations, message);\n            }\n        }\n        // Default to generic McpError\n        return new McpError(code, message, data);\n    }\n}\n/**\n * Specialized error type when a tool requires a URL mode elicitation.\n * This makes it nicer for the client to handle since there is specific data to work with instead of just a code to check against.\n */\nexport class UrlElicitationRequiredError extends McpError {\n    constructor(elicitations, message = `URL elicitation${elicitations.length > 1 ? 's' : ''} required`) {\n        super(ErrorCode.UrlElicitationRequired, message, {\n            elicitations: elicitations\n        });\n    }\n    get elicitations() {\n        var _a, _b;\n        return (_b = (_a = this.data) === null || _a === void 0 ? void 0 : _a.elicitations) !== null && _b !== void 0 ? _b : [];\n    }\n}\n//# sourceMappingURL=types.js.map","import { Client } from \"@modelcontextprotocol/sdk/client/index.js\";\nimport { Server } from \"@modelcontextprotocol/sdk/server/index.js\";\nimport {\n  CallToolRequestSchema,\n  CompleteRequestSchema,\n  GetPromptRequestSchema,\n  ListPromptsRequestSchema,\n  ListResourcesRequestSchema,\n  ListResourceTemplatesRequestSchema,\n  ListToolsRequestSchema,\n  LoggingMessageNotificationSchema,\n  ReadResourceRequestSchema,\n  ResourceUpdatedNotificationSchema,\n  ServerCapabilities,\n  SubscribeRequestSchema,\n  UnsubscribeRequestSchema,\n} from \"@modelcontextprotocol/sdk/types.js\";\n\nexport const proxyServer = async ({\n  client,\n  requestTimeout,\n  server,\n  serverCapabilities,\n}: {\n  client: Client;\n  requestTimeout?: number;\n  server: Server;\n  serverCapabilities: ServerCapabilities;\n}): Promise<void> => {\n  if (serverCapabilities?.logging) {\n    server.setNotificationHandler(\n      LoggingMessageNotificationSchema,\n      async (args) => {\n        return client.notification(args);\n      },\n    );\n    client.setNotificationHandler(\n      LoggingMessageNotificationSchema,\n      async (args) => {\n        return server.notification(args);\n      },\n    );\n  }\n\n  if (serverCapabilities?.prompts) {\n    server.setRequestHandler(GetPromptRequestSchema, async (args) => {\n      return client.getPrompt(\n        args.params,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n\n    server.setRequestHandler(ListPromptsRequestSchema, async (args) => {\n      return client.listPrompts(\n        args.params,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n  }\n\n  if (serverCapabilities?.resources) {\n    server.setRequestHandler(ListResourcesRequestSchema, async (args) => {\n      return client.listResources(\n        args.params,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n\n    server.setRequestHandler(\n      ListResourceTemplatesRequestSchema,\n      async (args) => {\n        return client.listResourceTemplates(\n          args.params,\n          requestTimeout ? { timeout: requestTimeout } : undefined,\n        );\n      },\n    );\n\n    server.setRequestHandler(ReadResourceRequestSchema, async (args) => {\n      return client.readResource(\n        args.params,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n\n    if (serverCapabilities?.resources.subscribe) {\n      server.setNotificationHandler(\n        ResourceUpdatedNotificationSchema,\n        async (args) => {\n          return client.notification(args);\n        },\n      );\n\n      server.setRequestHandler(SubscribeRequestSchema, async (args) => {\n        return client.subscribeResource(\n          args.params,\n          requestTimeout ? { timeout: requestTimeout } : undefined,\n        );\n      });\n\n      server.setRequestHandler(UnsubscribeRequestSchema, async (args) => {\n        return client.unsubscribeResource(\n          args.params,\n          requestTimeout ? { timeout: requestTimeout } : undefined,\n        );\n      });\n    }\n  }\n\n  if (serverCapabilities?.tools) {\n    server.setRequestHandler(CallToolRequestSchema, async (args) => {\n      return client.callTool(\n        args.params,\n        undefined,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n\n    server.setRequestHandler(ListToolsRequestSchema, async (args) => {\n      return client.listTools(\n        args.params,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n  }\n\n  if (serverCapabilities?.completions) {\n    server.setRequestHandler(CompleteRequestSchema, async (args) => {\n      return client.complete(\n        args.params,\n        requestTimeout ? { timeout: requestTimeout } : undefined,\n      );\n    });\n  }\n};\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","/*!\n * depd\n * Copyright(c) 2014-2018 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + stack[i].toString()\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if event emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction eehaslisteners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eehaslisteners(process, 'deprecation')\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + stack[i].toString()\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + stack[i].toString() + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n  // eslint-disable-next-line no-new-func\n  var deprecatedfn = new Function('fn', 'log', 'deprecate', 'message', 'site',\n    '\"use strict\"\\n' +\n    'return function (' + args + ') {' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '}')(fn, log, this, message, site)\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","{\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"103\": \"Early Hints\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a Teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Too Early\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    var type = typeof arg\n    if (type === 'object' && arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n    } else if (type === 'number' && i === 0) {\n      status = arg\n    } else if (type === 'string') {\n      msg = arg\n    } else if (type === 'object') {\n      props = arg\n    } else {\n      throw new TypeError('argument #' + (i + 1) + ' unsupported type ' + type)\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses.message[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses.message[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses.message[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","\"use strict\"\n\nvar BOMChar = \"\\uFEFF\"\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper (encoder, options) {\n  this.encoder = encoder\n  this.addBOM = true\n}\n\nPrependBOMWrapper.prototype.write = function (str) {\n  if (this.addBOM) {\n    str = BOMChar + str\n    this.addBOM = false\n  }\n\n  return this.encoder.write(str)\n}\n\nPrependBOMWrapper.prototype.end = function () {\n  return this.encoder.end()\n}\n\n// ------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper\nfunction StripBOMWrapper (decoder, options) {\n  this.decoder = decoder\n  this.pass = false\n  this.options = options || {}\n}\n\nStripBOMWrapper.prototype.write = function (buf) {\n  var res = this.decoder.write(buf)\n  if (this.pass || !res) { return res }\n\n  if (res[0] === BOMChar) {\n    res = res.slice(1)\n    if (typeof this.options.stripBOM === \"function\") { this.options.stripBOM() }\n  }\n\n  this.pass = true\n  return res\n}\n\nStripBOMWrapper.prototype.end = function () {\n  return this.decoder.end()\n}\n","\"use strict\"\n\nvar hasOwn = typeof Object.hasOwn === \"undefined\" ? Function.call.bind(Object.prototype.hasOwnProperty) : Object.hasOwn\n\nfunction mergeModules (target, module) {\n  for (var key in module) {\n    if (hasOwn(module, key)) {\n      target[key] = module[key]\n    }\n  }\n}\n\nmodule.exports = mergeModules\n","\"use strict\"\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n  // Encodings\n  utf8: { type: \"_internal\", bomAware: true },\n  cesu8: { type: \"_internal\", bomAware: true },\n  unicode11utf8: \"utf8\",\n\n  ucs2: { type: \"_internal\", bomAware: true },\n  utf16le: \"ucs2\",\n\n  binary: { type: \"_internal\" },\n  base64: { type: \"_internal\" },\n  hex: { type: \"_internal\" },\n\n  // Codec.\n  _internal: InternalCodec\n}\n\n// ------------------------------------------------------------------------------\n\nfunction InternalCodec (codecOptions, iconv) {\n  this.enc = codecOptions.encodingName\n  this.bomAware = codecOptions.bomAware\n\n  if (this.enc === \"base64\") { this.encoder = InternalEncoderBase64 } else if (this.enc === \"utf8\") { this.encoder = InternalEncoderUtf8 } else if (this.enc === \"cesu8\") {\n    this.enc = \"utf8\" // Use utf8 for decoding.\n    this.encoder = InternalEncoderCesu8\n\n    // Add decoder for versions of Node not supporting CESU-8\n    if (Buffer.from(\"eda0bdedb2a9\", \"hex\").toString() !== \"\") {\n      this.decoder = InternalDecoderCesu8\n      this.defaultCharUnicode = iconv.defaultCharUnicode\n    }\n  }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder\nInternalCodec.prototype.decoder = InternalDecoder\n\n// ------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require(\"string_decoder\").StringDecoder\n\nfunction InternalDecoder (options, codec) {\n  this.decoder = new StringDecoder(codec.enc)\n}\n\nInternalDecoder.prototype.write = function (buf) {\n  if (!Buffer.isBuffer(buf)) {\n    buf = Buffer.from(buf)\n  }\n\n  return this.decoder.write(buf)\n}\n\nInternalDecoder.prototype.end = function () {\n  return this.decoder.end()\n}\n\n// ------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder (options, codec) {\n  this.enc = codec.enc\n}\n\nInternalEncoder.prototype.write = function (str) {\n  return Buffer.from(str, this.enc)\n}\n\nInternalEncoder.prototype.end = function () {\n}\n\n// ------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64 (options, codec) {\n  this.prevStr = \"\"\n}\n\nInternalEncoderBase64.prototype.write = function (str) {\n  str = this.prevStr + str\n  var completeQuads = str.length - (str.length % 4)\n  this.prevStr = str.slice(completeQuads)\n  str = str.slice(0, completeQuads)\n\n  return Buffer.from(str, \"base64\")\n}\n\nInternalEncoderBase64.prototype.end = function () {\n  return Buffer.from(this.prevStr, \"base64\")\n}\n\n// ------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8 (options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function (str) {\n  var buf = Buffer.alloc(str.length * 3); var bufIdx = 0\n  for (var i = 0; i < str.length; i++) {\n    var charCode = str.charCodeAt(i)\n    // Naive implementation, but it works because CESU-8 is especially easy\n    // to convert from UTF-16 (which all JS strings are encoded in).\n    if (charCode < 0x80) { buf[bufIdx++] = charCode } else if (charCode < 0x800) {\n      buf[bufIdx++] = 0xC0 + (charCode >>> 6)\n      buf[bufIdx++] = 0x80 + (charCode & 0x3f)\n    } else { // charCode will always be < 0x10000 in javascript.\n      buf[bufIdx++] = 0xE0 + (charCode >>> 12)\n      buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f)\n      buf[bufIdx++] = 0x80 + (charCode & 0x3f)\n    }\n  }\n  return buf.slice(0, bufIdx)\n}\n\nInternalEncoderCesu8.prototype.end = function () {\n}\n\n// ------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8 (options, codec) {\n  this.acc = 0\n  this.contBytes = 0\n  this.accBytes = 0\n  this.defaultCharUnicode = codec.defaultCharUnicode\n}\n\nInternalDecoderCesu8.prototype.write = function (buf) {\n  var acc = this.acc; var contBytes = this.contBytes; var accBytes = this.accBytes\n  var res = \"\"\n  for (var i = 0; i < buf.length; i++) {\n    var curByte = buf[i]\n    if ((curByte & 0xC0) !== 0x80) { // Leading byte\n      if (contBytes > 0) { // Previous code is invalid\n        res += this.defaultCharUnicode\n        contBytes = 0\n      }\n\n      if (curByte < 0x80) { // Single-byte code\n        res += String.fromCharCode(curByte)\n      } else if (curByte < 0xE0) { // Two-byte code\n        acc = curByte & 0x1F\n        contBytes = 1; accBytes = 1\n      } else if (curByte < 0xF0) { // Three-byte code\n        acc = curByte & 0x0F\n        contBytes = 2; accBytes = 1\n      } else { // Four or more are not supported for CESU-8.\n        res += this.defaultCharUnicode\n      }\n    } else { // Continuation byte\n      if (contBytes > 0) { // We're waiting for it.\n        acc = (acc << 6) | (curByte & 0x3f)\n        contBytes--; accBytes++\n        if (contBytes === 0) {\n          // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n          if (accBytes === 2 && acc < 0x80 && acc > 0) {\n            res += this.defaultCharUnicode\n          } else if (accBytes === 3 && acc < 0x800) {\n            res += this.defaultCharUnicode\n          } else {\n            // Actually add character.\n            res += String.fromCharCode(acc)\n          }\n        }\n      } else { // Unexpected continuation byte\n        res += this.defaultCharUnicode\n      }\n    }\n  }\n  this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes\n  return res\n}\n\nInternalDecoderCesu8.prototype.end = function () {\n  var res = 0\n  if (this.contBytes > 0) { res += this.defaultCharUnicode }\n  return res\n}\n\n// ------------------------------------------------------------------------------\n// check the chunk boundaries for surrogate pair\n\nfunction InternalEncoderUtf8 (options, codec) {\n  this.highSurrogate = \"\"\n}\n\nInternalEncoderUtf8.prototype.write = function (str) {\n  if (this.highSurrogate) {\n    str = this.highSurrogate + str\n    this.highSurrogate = \"\"\n  }\n\n  if (str.length > 0) {\n    var charCode = str.charCodeAt(str.length - 1)\n    if (charCode >= 0xd800 && charCode < 0xdc00) {\n      this.highSurrogate = str[str.length - 1]\n      str = str.slice(0, str.length - 1)\n    }\n  }\n\n  return Buffer.from(str, this.enc)\n}\n\nInternalEncoderUtf8.prototype.end = function () {\n  if (this.highSurrogate) {\n    var str = this.highSurrogate\n    this.highSurrogate = \"\"\n    return Buffer.from(str, this.enc)\n  }\n}\n","\"use strict\"\n\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// == UTF32-LE/BE codec. ==========================================================\n\nexports._utf32 = Utf32Codec\n\nfunction Utf32Codec (codecOptions, iconv) {\n  this.iconv = iconv\n  this.bomAware = true\n  this.isLE = codecOptions.isLE\n}\n\nexports.utf32le = { type: \"_utf32\", isLE: true }\nexports.utf32be = { type: \"_utf32\", isLE: false }\n\n// Aliases\nexports.ucs4le = \"utf32le\"\nexports.ucs4be = \"utf32be\"\n\nUtf32Codec.prototype.encoder = Utf32Encoder\nUtf32Codec.prototype.decoder = Utf32Decoder\n\n// -- Encoding\n\nfunction Utf32Encoder (options, codec) {\n  this.isLE = codec.isLE\n  this.highSurrogate = 0\n}\n\nUtf32Encoder.prototype.write = function (str) {\n  var src = Buffer.from(str, \"ucs2\")\n  var dst = Buffer.alloc(src.length * 2)\n  var write32 = this.isLE ? dst.writeUInt32LE : dst.writeUInt32BE\n  var offset = 0\n\n  for (var i = 0; i < src.length; i += 2) {\n    var code = src.readUInt16LE(i)\n    var isHighSurrogate = (code >= 0xD800 && code < 0xDC00)\n    var isLowSurrogate = (code >= 0xDC00 && code < 0xE000)\n\n    if (this.highSurrogate) {\n      if (isHighSurrogate || !isLowSurrogate) {\n        // There shouldn't be two high surrogates in a row, nor a high surrogate which isn't followed by a low\n        // surrogate. If this happens, keep the pending high surrogate as a stand-alone semi-invalid character\n        // (technically wrong, but expected by some applications, like Windows file names).\n        write32.call(dst, this.highSurrogate, offset)\n        offset += 4\n      } else {\n        // Create 32-bit value from high and low surrogates;\n        var codepoint = (((this.highSurrogate - 0xD800) << 10) | (code - 0xDC00)) + 0x10000\n\n        write32.call(dst, codepoint, offset)\n        offset += 4\n        this.highSurrogate = 0\n\n        continue\n      }\n    }\n\n    if (isHighSurrogate) { this.highSurrogate = code } else {\n      // Even if the current character is a low surrogate, with no previous high surrogate, we'll\n      // encode it as a semi-invalid stand-alone character for the same reasons expressed above for\n      // unpaired high surrogates.\n      write32.call(dst, code, offset)\n      offset += 4\n      this.highSurrogate = 0\n    }\n  }\n\n  if (offset < dst.length) { dst = dst.slice(0, offset) }\n\n  return dst\n}\n\nUtf32Encoder.prototype.end = function () {\n  // Treat any leftover high surrogate as a semi-valid independent character.\n  if (!this.highSurrogate) { return }\n\n  var buf = Buffer.alloc(4)\n\n  if (this.isLE) { buf.writeUInt32LE(this.highSurrogate, 0) } else { buf.writeUInt32BE(this.highSurrogate, 0) }\n\n  this.highSurrogate = 0\n\n  return buf\n}\n\n// -- Decoding\n\nfunction Utf32Decoder (options, codec) {\n  this.isLE = codec.isLE\n  this.badChar = codec.iconv.defaultCharUnicode.charCodeAt(0)\n  this.overflow = []\n}\n\nUtf32Decoder.prototype.write = function (src) {\n  if (src.length === 0) { return \"\" }\n\n  var i = 0\n  var codepoint = 0\n  var dst = Buffer.alloc(src.length + 4)\n  var offset = 0\n  var isLE = this.isLE\n  var overflow = this.overflow\n  var badChar = this.badChar\n\n  if (overflow.length > 0) {\n    for (; i < src.length && overflow.length < 4; i++) { overflow.push(src[i]) }\n\n    if (overflow.length === 4) {\n      // NOTE: codepoint is a signed int32 and can be negative.\n      // NOTE: We copied this block from below to help V8 optimize it (it works with array, not buffer).\n      if (isLE) {\n        codepoint = overflow[i] | (overflow[i + 1] << 8) | (overflow[i + 2] << 16) | (overflow[i + 3] << 24)\n      } else {\n        codepoint = overflow[i + 3] | (overflow[i + 2] << 8) | (overflow[i + 1] << 16) | (overflow[i] << 24)\n      }\n      overflow.length = 0\n\n      offset = _writeCodepoint(dst, offset, codepoint, badChar)\n    }\n  }\n\n  // Main loop. Should be as optimized as possible.\n  for (; i < src.length - 3; i += 4) {\n    // NOTE: codepoint is a signed int32 and can be negative.\n    if (isLE) {\n      codepoint = src[i] | (src[i + 1] << 8) | (src[i + 2] << 16) | (src[i + 3] << 24)\n    } else {\n      codepoint = src[i + 3] | (src[i + 2] << 8) | (src[i + 1] << 16) | (src[i] << 24)\n    }\n    offset = _writeCodepoint(dst, offset, codepoint, badChar)\n  }\n\n  // Keep overflowing bytes.\n  for (; i < src.length; i++) {\n    overflow.push(src[i])\n  }\n\n  return dst.slice(0, offset).toString(\"ucs2\")\n}\n\nfunction _writeCodepoint (dst, offset, codepoint, badChar) {\n  // NOTE: codepoint is signed int32 and can be negative. We keep it that way to help V8 with optimizations.\n  if (codepoint < 0 || codepoint > 0x10FFFF) {\n    // Not a valid Unicode codepoint\n    codepoint = badChar\n  }\n\n  // Ephemeral Planes: Write high surrogate.\n  if (codepoint >= 0x10000) {\n    codepoint -= 0x10000\n\n    var high = 0xD800 | (codepoint >> 10)\n    dst[offset++] = high & 0xff\n    dst[offset++] = high >> 8\n\n    // Low surrogate is written below.\n    var codepoint = 0xDC00 | (codepoint & 0x3FF)\n  }\n\n  // Write BMP char or low surrogate.\n  dst[offset++] = codepoint & 0xff\n  dst[offset++] = codepoint >> 8\n\n  return offset\n};\n\nUtf32Decoder.prototype.end = function () {\n  this.overflow.length = 0\n}\n\n// == UTF-32 Auto codec =============================================================\n// Decoder chooses automatically from UTF-32LE and UTF-32BE using BOM and space-based heuristic.\n// Defaults to UTF-32LE. http://en.wikipedia.org/wiki/UTF-32\n// Encoder/decoder default can be changed: iconv.decode(buf, 'utf32', {defaultEncoding: 'utf-32be'});\n\n// Encoder prepends BOM (which can be overridden with (addBOM: false}).\n\nexports.utf32 = Utf32AutoCodec\nexports.ucs4 = \"utf32\"\n\nfunction Utf32AutoCodec (options, iconv) {\n  this.iconv = iconv\n}\n\nUtf32AutoCodec.prototype.encoder = Utf32AutoEncoder\nUtf32AutoCodec.prototype.decoder = Utf32AutoDecoder\n\n// -- Encoding\n\nfunction Utf32AutoEncoder (options, codec) {\n  options = options || {}\n\n  if (options.addBOM === undefined) {\n    options.addBOM = true\n  }\n\n  this.encoder = codec.iconv.getEncoder(options.defaultEncoding || \"utf-32le\", options)\n}\n\nUtf32AutoEncoder.prototype.write = function (str) {\n  return this.encoder.write(str)\n}\n\nUtf32AutoEncoder.prototype.end = function () {\n  return this.encoder.end()\n}\n\n// -- Decoding\n\nfunction Utf32AutoDecoder (options, codec) {\n  this.decoder = null\n  this.initialBufs = []\n  this.initialBufsLen = 0\n  this.options = options || {}\n  this.iconv = codec.iconv\n}\n\nUtf32AutoDecoder.prototype.write = function (buf) {\n  if (!this.decoder) {\n    // Codec is not chosen yet. Accumulate initial bytes.\n    this.initialBufs.push(buf)\n    this.initialBufsLen += buf.length\n\n    if (this.initialBufsLen < 32) // We need more bytes to use space heuristic (see below)\n    { return \"\" }\n\n    // We have enough bytes -> detect endianness.\n    var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding)\n    this.decoder = this.iconv.getDecoder(encoding, this.options)\n\n    var resStr = \"\"\n    for (var i = 0; i < this.initialBufs.length; i++) { resStr += this.decoder.write(this.initialBufs[i]) }\n\n    this.initialBufs.length = this.initialBufsLen = 0\n    return resStr\n  }\n\n  return this.decoder.write(buf)\n}\n\nUtf32AutoDecoder.prototype.end = function () {\n  if (!this.decoder) {\n    var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding)\n    this.decoder = this.iconv.getDecoder(encoding, this.options)\n\n    var resStr = \"\"\n    for (var i = 0; i < this.initialBufs.length; i++) { resStr += this.decoder.write(this.initialBufs[i]) }\n\n    var trail = this.decoder.end()\n    if (trail) { resStr += trail }\n\n    this.initialBufs.length = this.initialBufsLen = 0\n    return resStr\n  }\n\n  return this.decoder.end()\n}\n\nfunction detectEncoding (bufs, defaultEncoding) {\n  var b = []\n  var charsProcessed = 0\n  var invalidLE = 0; var invalidBE = 0   // Number of invalid chars when decoded as LE or BE.\n  var bmpCharsLE = 0; var bmpCharsBE = 0 // Number of BMP chars when decoded as LE or BE.\n\n  outerLoop:\n  for (var i = 0; i < bufs.length; i++) {\n    var buf = bufs[i]\n    for (var j = 0; j < buf.length; j++) {\n      b.push(buf[j])\n      if (b.length === 4) {\n        if (charsProcessed === 0) {\n          // Check BOM first.\n          if (b[0] === 0xFF && b[1] === 0xFE && b[2] === 0 && b[3] === 0) {\n            return \"utf-32le\"\n          }\n          if (b[0] === 0 && b[1] === 0 && b[2] === 0xFE && b[3] === 0xFF) {\n            return \"utf-32be\"\n          }\n        }\n\n        if (b[0] !== 0 || b[1] > 0x10) invalidBE++\n        if (b[3] !== 0 || b[2] > 0x10) invalidLE++\n\n        if (b[0] === 0 && b[1] === 0 && (b[2] !== 0 || b[3] !== 0)) bmpCharsBE++\n        if ((b[0] !== 0 || b[1] !== 0) && b[2] === 0 && b[3] === 0) bmpCharsLE++\n\n        b.length = 0\n        charsProcessed++\n\n        if (charsProcessed >= 100) {\n          break outerLoop\n        }\n      }\n    }\n  }\n\n  // Make decisions.\n  if (bmpCharsBE - invalidBE > bmpCharsLE - invalidLE) return \"utf-32be\"\n  if (bmpCharsBE - invalidBE < bmpCharsLE - invalidLE) return \"utf-32le\"\n\n  // Couldn't decide (likely all zeros or not enough data).\n  return defaultEncoding || \"utf-32le\"\n}\n","\"use strict\"\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec\nfunction Utf16BECodec () {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder\nUtf16BECodec.prototype.decoder = Utf16BEDecoder\nUtf16BECodec.prototype.bomAware = true\n\n// -- Encoding\n\nfunction Utf16BEEncoder () {\n}\n\nUtf16BEEncoder.prototype.write = function (str) {\n  var buf = Buffer.from(str, \"ucs2\")\n  for (var i = 0; i < buf.length; i += 2) {\n    var tmp = buf[i]; buf[i] = buf[i + 1]; buf[i + 1] = tmp\n  }\n  return buf\n}\n\nUtf16BEEncoder.prototype.end = function () {\n}\n\n// -- Decoding\n\nfunction Utf16BEDecoder () {\n  this.overflowByte = -1\n}\n\nUtf16BEDecoder.prototype.write = function (buf) {\n  if (buf.length == 0) { return \"\" }\n\n  var buf2 = Buffer.alloc(buf.length + 1)\n  var i = 0; var j = 0\n\n  if (this.overflowByte !== -1) {\n    buf2[0] = buf[0]\n    buf2[1] = this.overflowByte\n    i = 1; j = 2\n  }\n\n  for (; i < buf.length - 1; i += 2, j += 2) {\n    buf2[j] = buf[i + 1]\n    buf2[j + 1] = buf[i]\n  }\n\n  this.overflowByte = (i == buf.length - 1) ? buf[buf.length - 1] : -1\n\n  return buf2.slice(0, j).toString(\"ucs2\")\n}\n\nUtf16BEDecoder.prototype.end = function () {\n  this.overflowByte = -1\n}\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec\nfunction Utf16Codec (codecOptions, iconv) {\n  this.iconv = iconv\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder\nUtf16Codec.prototype.decoder = Utf16Decoder\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder (options, codec) {\n  options = options || {}\n  if (options.addBOM === undefined) { options.addBOM = true }\n  this.encoder = codec.iconv.getEncoder(\"utf-16le\", options)\n}\n\nUtf16Encoder.prototype.write = function (str) {\n  return this.encoder.write(str)\n}\n\nUtf16Encoder.prototype.end = function () {\n  return this.encoder.end()\n}\n\n// -- Decoding\n\nfunction Utf16Decoder (options, codec) {\n  this.decoder = null\n  this.initialBufs = []\n  this.initialBufsLen = 0\n\n  this.options = options || {}\n  this.iconv = codec.iconv\n}\n\nUtf16Decoder.prototype.write = function (buf) {\n  if (!this.decoder) {\n    // Codec is not chosen yet. Accumulate initial bytes.\n    this.initialBufs.push(buf)\n    this.initialBufsLen += buf.length\n\n    if (this.initialBufsLen < 16) // We need more bytes to use space heuristic (see below)\n    { return \"\" }\n\n    // We have enough bytes -> detect endianness.\n    var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding)\n    this.decoder = this.iconv.getDecoder(encoding, this.options)\n\n    var resStr = \"\"\n    for (var i = 0; i < this.initialBufs.length; i++) { resStr += this.decoder.write(this.initialBufs[i]) }\n\n    this.initialBufs.length = this.initialBufsLen = 0\n    return resStr\n  }\n\n  return this.decoder.write(buf)\n}\n\nUtf16Decoder.prototype.end = function () {\n  if (!this.decoder) {\n    var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding)\n    this.decoder = this.iconv.getDecoder(encoding, this.options)\n\n    var resStr = \"\"\n    for (var i = 0; i < this.initialBufs.length; i++) { resStr += this.decoder.write(this.initialBufs[i]) }\n\n    var trail = this.decoder.end()\n    if (trail) { resStr += trail }\n\n    this.initialBufs.length = this.initialBufsLen = 0\n    return resStr\n  }\n  return this.decoder.end()\n}\n\nfunction detectEncoding (bufs, defaultEncoding) {\n  var b = []\n  var charsProcessed = 0\n  // Number of ASCII chars when decoded as LE or BE.\n  var asciiCharsLE = 0\n  var asciiCharsBE = 0\n\n  outerLoop:\n  for (var i = 0; i < bufs.length; i++) {\n    var buf = bufs[i]\n    for (var j = 0; j < buf.length; j++) {\n      b.push(buf[j])\n      if (b.length === 2) {\n        if (charsProcessed === 0) {\n          // Check BOM first.\n          if (b[0] === 0xFF && b[1] === 0xFE) return \"utf-16le\"\n          if (b[0] === 0xFE && b[1] === 0xFF) return \"utf-16be\"\n        }\n\n        if (b[0] === 0 && b[1] !== 0) asciiCharsBE++\n        if (b[0] !== 0 && b[1] === 0) asciiCharsLE++\n\n        b.length = 0\n        charsProcessed++\n\n        if (charsProcessed >= 100) {\n          break outerLoop\n        }\n      }\n    }\n  }\n\n  // Make decisions.\n  // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n  // So, we count ASCII as if it was LE or BE, and decide from that.\n  if (asciiCharsBE > asciiCharsLE) return \"utf-16be\"\n  if (asciiCharsBE < asciiCharsLE) return \"utf-16le\"\n\n  // Couldn't decide (likely all zeros or not enough data).\n  return defaultEncoding || \"utf-16le\"\n}\n","\"use strict\"\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec\nexports.unicode11utf7 = \"utf7\" // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec (codecOptions, iconv) {\n  this.iconv = iconv\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder\nUtf7Codec.prototype.decoder = Utf7Decoder\nUtf7Codec.prototype.bomAware = true\n\n// -- Encoding\n\n// Why scape ()?./?\n// eslint-disable-next-line no-useless-escape\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g\n\nfunction Utf7Encoder (options, codec) {\n  this.iconv = codec.iconv\n}\n\nUtf7Encoder.prototype.write = function (str) {\n  // Naive implementation.\n  // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n  return Buffer.from(str.replace(nonDirectChars, function (chunk) {\n    return \"+\" + (chunk === \"+\"\n      ? \"\"\n      : this.iconv.encode(chunk, \"utf16-be\").toString(\"base64\").replace(/=+$/, \"\")) +\n            \"-\"\n  }.bind(this)))\n}\n\nUtf7Encoder.prototype.end = function () {\n}\n\n// -- Decoding\n\nfunction Utf7Decoder (options, codec) {\n  this.iconv = codec.iconv\n  this.inBase64 = false\n  this.base64Accum = \"\"\n}\n\n// Why scape /?\n// eslint-disable-next-line no-useless-escape\nvar base64Regex = /[A-Za-z0-9\\/+]/\nvar base64Chars = []\nfor (var i = 0; i < 256; i++) { base64Chars[i] = base64Regex.test(String.fromCharCode(i)) }\n\nvar plusChar = \"+\".charCodeAt(0)\nvar minusChar = \"-\".charCodeAt(0)\nvar andChar = \"&\".charCodeAt(0)\n\nUtf7Decoder.prototype.write = function (buf) {\n  var res = \"\"; var lastI = 0\n  var inBase64 = this.inBase64\n  var base64Accum = this.base64Accum\n\n  // The decoder is more involved as we must handle chunks in stream.\n\n  for (var i = 0; i < buf.length; i++) {\n    if (!inBase64) { // We're in direct mode.\n      // Write direct chars until '+'\n      if (buf[i] == plusChar) {\n        res += this.iconv.decode(buf.slice(lastI, i), \"ascii\") // Write direct chars.\n        lastI = i + 1\n        inBase64 = true\n      }\n    } else { // We decode base64.\n      if (!base64Chars[buf[i]]) { // Base64 ended.\n        if (i == lastI && buf[i] == minusChar) { // \"+-\" -> \"+\"\n          res += \"+\"\n        } else {\n          var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\")\n          res += this.iconv.decode(Buffer.from(b64str, \"base64\"), \"utf16-be\")\n        }\n\n        if (buf[i] != minusChar) // Minus is absorbed after base64.\n        { i-- }\n\n        lastI = i + 1\n        inBase64 = false\n        base64Accum = \"\"\n      }\n    }\n  }\n\n  if (!inBase64) {\n    res += this.iconv.decode(buf.slice(lastI), \"ascii\") // Write direct chars.\n  } else {\n    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\")\n\n    var canBeDecoded = b64str.length - (b64str.length % 8) // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n    base64Accum = b64str.slice(canBeDecoded) // The rest will be decoded in future.\n    b64str = b64str.slice(0, canBeDecoded)\n\n    res += this.iconv.decode(Buffer.from(b64str, \"base64\"), \"utf16-be\")\n  }\n\n  this.inBase64 = inBase64\n  this.base64Accum = base64Accum\n\n  return res\n}\n\nUtf7Decoder.prototype.end = function () {\n  var res = \"\"\n  if (this.inBase64 && this.base64Accum.length > 0) { res = this.iconv.decode(Buffer.from(this.base64Accum, \"base64\"), \"utf16-be\") }\n\n  this.inBase64 = false\n  this.base64Accum = \"\"\n  return res\n}\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\nexports.utf7imap = Utf7IMAPCodec\nfunction Utf7IMAPCodec (codecOptions, iconv) {\n  this.iconv = iconv\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder\nUtf7IMAPCodec.prototype.bomAware = true\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder (options, codec) {\n  this.iconv = codec.iconv\n  this.inBase64 = false\n  this.base64Accum = Buffer.alloc(6)\n  this.base64AccumIdx = 0\n}\n\nUtf7IMAPEncoder.prototype.write = function (str) {\n  var inBase64 = this.inBase64\n  var base64Accum = this.base64Accum\n  var base64AccumIdx = this.base64AccumIdx\n  var buf = Buffer.alloc(str.length * 5 + 10); var bufIdx = 0\n\n  for (var i = 0; i < str.length; i++) {\n    var uChar = str.charCodeAt(i)\n    if (uChar >= 0x20 && uChar <= 0x7E) { // Direct character or '&'.\n      if (inBase64) {\n        if (base64AccumIdx > 0) {\n          bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString(\"base64\").replace(/\\//g, \",\").replace(/=+$/, \"\"), bufIdx)\n          base64AccumIdx = 0\n        }\n\n        buf[bufIdx++] = minusChar // Write '-', then go to direct mode.\n        inBase64 = false\n      }\n\n      if (!inBase64) {\n        buf[bufIdx++] = uChar // Write direct character\n\n        if (uChar === andChar)  // Ampersand -> '&-'\n        { buf[bufIdx++] = minusChar }\n      }\n    } else { // Non-direct character\n      if (!inBase64) {\n        buf[bufIdx++] = andChar // Write '&', then go to base64 mode.\n        inBase64 = true\n      }\n      if (inBase64) {\n        base64Accum[base64AccumIdx++] = uChar >> 8\n        base64Accum[base64AccumIdx++] = uChar & 0xFF\n\n        if (base64AccumIdx == base64Accum.length) {\n          bufIdx += buf.write(base64Accum.toString(\"base64\").replace(/\\//g, \",\"), bufIdx)\n          base64AccumIdx = 0\n        }\n      }\n    }\n  }\n\n  this.inBase64 = inBase64\n  this.base64AccumIdx = base64AccumIdx\n\n  return buf.slice(0, bufIdx)\n}\n\nUtf7IMAPEncoder.prototype.end = function () {\n  var buf = Buffer.alloc(10); var bufIdx = 0\n  if (this.inBase64) {\n    if (this.base64AccumIdx > 0) {\n      bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString(\"base64\").replace(/\\//g, \",\").replace(/=+$/, \"\"), bufIdx)\n      this.base64AccumIdx = 0\n    }\n\n    buf[bufIdx++] = minusChar // Write '-', then go to direct mode.\n    this.inBase64 = false\n  }\n\n  return buf.slice(0, bufIdx)\n}\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder (options, codec) {\n  this.iconv = codec.iconv\n  this.inBase64 = false\n  this.base64Accum = \"\"\n}\n\nvar base64IMAPChars = base64Chars.slice()\nbase64IMAPChars[\",\".charCodeAt(0)] = true\n\nUtf7IMAPDecoder.prototype.write = function (buf) {\n  var res = \"\"; var lastI = 0\n  var inBase64 = this.inBase64\n  var base64Accum = this.base64Accum\n\n  // The decoder is more involved as we must handle chunks in stream.\n  // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n  for (var i = 0; i < buf.length; i++) {\n    if (!inBase64) { // We're in direct mode.\n      // Write direct chars until '&'\n      if (buf[i] == andChar) {\n        res += this.iconv.decode(buf.slice(lastI, i), \"ascii\") // Write direct chars.\n        lastI = i + 1\n        inBase64 = true\n      }\n    } else { // We decode base64.\n      if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n        if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n          res += \"&\"\n        } else {\n          var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\").replace(/,/g, \"/\")\n          res += this.iconv.decode(Buffer.from(b64str, \"base64\"), \"utf16-be\")\n        }\n\n        if (buf[i] != minusChar) // Minus may be absorbed after base64.\n        { i-- }\n\n        lastI = i + 1\n        inBase64 = false\n        base64Accum = \"\"\n      }\n    }\n  }\n\n  if (!inBase64) {\n    res += this.iconv.decode(buf.slice(lastI), \"ascii\") // Write direct chars.\n  } else {\n    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\").replace(/,/g, \"/\")\n\n    var canBeDecoded = b64str.length - (b64str.length % 8) // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n    base64Accum = b64str.slice(canBeDecoded) // The rest will be decoded in future.\n    b64str = b64str.slice(0, canBeDecoded)\n\n    res += this.iconv.decode(Buffer.from(b64str, \"base64\"), \"utf16-be\")\n  }\n\n  this.inBase64 = inBase64\n  this.base64Accum = base64Accum\n\n  return res\n}\n\nUtf7IMAPDecoder.prototype.end = function () {\n  var res = \"\"\n  if (this.inBase64 && this.base64Accum.length > 0) { res = this.iconv.decode(Buffer.from(this.base64Accum, \"base64\"), \"utf16-be\") }\n\n  this.inBase64 = false\n  this.base64Accum = \"\"\n  return res\n}\n","\"use strict\"\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII).\n\nexports._sbcs = SBCSCodec\nfunction SBCSCodec (codecOptions, iconv) {\n  if (!codecOptions) {\n    throw new Error(\"SBCS codec is called without the data.\")\n  }\n\n  // Prepare char buffer for decoding.\n  if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256)) {\n    throw new Error(\"Encoding '\" + codecOptions.type + \"' has incorrect 'chars' (must be of len 128 or 256)\")\n  }\n\n  if (codecOptions.chars.length === 128) {\n    var asciiString = \"\"\n    for (var i = 0; i < 128; i++) {\n      asciiString += String.fromCharCode(i)\n    }\n    codecOptions.chars = asciiString + codecOptions.chars\n  }\n\n  this.decodeBuf = Buffer.from(codecOptions.chars, \"ucs2\")\n\n  // Encoding buffer.\n  var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0))\n\n  for (var i = 0; i < codecOptions.chars.length; i++) {\n    encodeBuf[codecOptions.chars.charCodeAt(i)] = i\n  }\n\n  this.encodeBuf = encodeBuf\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder\nSBCSCodec.prototype.decoder = SBCSDecoder\n\nfunction SBCSEncoder (options, codec) {\n  this.encodeBuf = codec.encodeBuf\n}\n\nSBCSEncoder.prototype.write = function (str) {\n  var buf = Buffer.alloc(str.length)\n  for (var i = 0; i < str.length; i++) {\n    buf[i] = this.encodeBuf[str.charCodeAt(i)]\n  }\n\n  return buf\n}\n\nSBCSEncoder.prototype.end = function () {\n}\n\nfunction SBCSDecoder (options, codec) {\n  this.decodeBuf = codec.decodeBuf\n}\n\nSBCSDecoder.prototype.write = function (buf) {\n  // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n  var decodeBuf = this.decodeBuf\n  var newBuf = Buffer.alloc(buf.length * 2)\n  var idx1 = 0; var idx2 = 0\n  for (var i = 0; i < buf.length; i++) {\n    idx1 = buf[i] * 2; idx2 = i * 2\n    newBuf[idx2] = decodeBuf[idx1]\n    newBuf[idx2 + 1] = decodeBuf[idx1 + 1]\n  }\n  return newBuf.toString(\"ucs2\")\n}\n\nSBCSDecoder.prototype.end = function () {\n}\n","\"use strict\"\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n  // Not supported by iconv, not sure why.\n  10029: \"maccenteuro\",\n  maccenteuro: {\n    type: \"_sbcs\",\n    chars: \"\"\n  },\n\n  808: \"cp808\",\n  ibm808: \"cp808\",\n  cp808: {\n    type: \"_sbcs\",\n    chars: \"\"\n  },\n\n  mik: {\n    type: \"_sbcs\",\n    chars: \"\"\n  },\n\n  cp720: {\n    type: \"_sbcs\",\n    chars: \"\\x80\\x81\\x84\\x86\\x8d\\x8e\\x8f\\x90\\u0651\\u0652\\u064b\\u064c\\u064d\\u064e\\u064f\\u0650\\u00a0\"\n  },\n\n  // Aliases of generated encodings.\n  ascii8bit: \"ascii\",\n  usascii: \"ascii\",\n  ansix34: \"ascii\",\n  ansix341968: \"ascii\",\n  ansix341986: \"ascii\",\n  csascii: \"ascii\",\n  cp367: \"ascii\",\n  ibm367: \"ascii\",\n  isoir6: \"ascii\",\n  iso646us: \"ascii\",\n  iso646irv: \"ascii\",\n  us: \"ascii\",\n\n  latin1: \"iso88591\",\n  latin2: \"iso88592\",\n  latin3: \"iso88593\",\n  latin4: \"iso88594\",\n  latin5: \"iso88599\",\n  latin6: \"iso885910\",\n  latin7: \"iso885913\",\n  latin8: \"iso885914\",\n  latin9: \"iso885915\",\n  latin10: \"iso885916\",\n\n  csisolatin1: \"iso88591\",\n  csisolatin2: \"iso88592\",\n  csisolatin3: \"iso88593\",\n  csisolatin4: \"iso88594\",\n  csisolatincyrillic: \"iso88595\",\n  csisolatinarabic: \"iso88596\",\n  csisolatingreek: \"iso88597\",\n  csisolatinhebrew: \"iso88598\",\n  csisolatin5: \"iso88599\",\n  csisolatin6: \"iso885910\",\n\n  l1: \"iso88591\",\n  l2: \"iso88592\",\n  l3: \"iso88593\",\n  l4: \"iso88594\",\n  l5: \"iso88599\",\n  l6: \"iso885910\",\n  l7: \"iso885913\",\n  l8: \"iso885914\",\n  l9: \"iso885915\",\n  l10: \"iso885916\",\n\n  isoir14: \"iso646jp\",\n  isoir57: \"iso646cn\",\n  isoir100: \"iso88591\",\n  isoir101: \"iso88592\",\n  isoir109: \"iso88593\",\n  isoir110: \"iso88594\",\n  isoir144: \"iso88595\",\n  isoir127: \"iso88596\",\n  isoir126: \"iso88597\",\n  isoir138: \"iso88598\",\n  isoir148: \"iso88599\",\n  isoir157: \"iso885910\",\n  isoir166: \"tis620\",\n  isoir179: \"iso885913\",\n  isoir199: \"iso885914\",\n  isoir203: \"iso885915\",\n  isoir226: \"iso885916\",\n\n  cp819: \"iso88591\",\n  ibm819: \"iso88591\",\n\n  cyrillic: \"iso88595\",\n\n  arabic: \"iso88596\",\n  arabic8: \"iso88596\",\n  ecma114: \"iso88596\",\n  asmo708: \"iso88596\",\n\n  greek: \"iso88597\",\n  greek8: \"iso88597\",\n  ecma118: \"iso88597\",\n  elot928: \"iso88597\",\n\n  hebrew: \"iso88598\",\n  hebrew8: \"iso88598\",\n\n  turkish: \"iso88599\",\n  turkish8: \"iso88599\",\n\n  thai: \"iso885911\",\n  thai8: \"iso885911\",\n\n  celtic: \"iso885914\",\n  celtic8: \"iso885914\",\n  isoceltic: \"iso885914\",\n\n  tis6200: \"tis620\",\n  tis62025291: \"tis620\",\n  tis62025330: \"tis620\",\n\n  10000: \"macroman\",\n  10006: \"macgreek\",\n  10007: \"maccyrillic\",\n  10079: \"maciceland\",\n  10081: \"macturkish\",\n\n  cspc8codepage437: \"cp437\",\n  cspc775baltic: \"cp775\",\n  cspc850multilingual: \"cp850\",\n  cspcp852: \"cp852\",\n  cspc862latinhebrew: \"cp862\",\n  cpgr: \"cp869\",\n\n  msee: \"cp1250\",\n  mscyrl: \"cp1251\",\n  msansi: \"cp1252\",\n  msgreek: \"cp1253\",\n  msturk: \"cp1254\",\n  mshebr: \"cp1255\",\n  msarab: \"cp1256\",\n  winbaltrim: \"cp1257\",\n\n  cp20866: \"koi8r\",\n  20866: \"koi8r\",\n  ibm878: \"koi8r\",\n  cskoi8r: \"koi8r\",\n\n  cp21866: \"koi8u\",\n  21866: \"koi8u\",\n  ibm1168: \"koi8u\",\n\n  strk10482002: \"rk1048\",\n\n  tcvn5712: \"tcvn\",\n  tcvn57121: \"tcvn\",\n\n  gb198880: \"iso646cn\",\n  cn: \"iso646cn\",\n\n  csiso14jisc6220ro: \"iso646jp\",\n  jisc62201969ro: \"iso646jp\",\n  jp: \"iso646jp\",\n\n  cshproman8: \"hproman8\",\n  r8: \"hproman8\",\n  roman8: \"hproman8\",\n  xroman8: \"hproman8\",\n  ibm1051: \"hproman8\",\n\n  mac: \"macintosh\",\n  csmacintosh: \"macintosh\"\n}\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\"\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec\n\nvar UNASSIGNED = -1\nvar GB18030_CODE = -2\nvar SEQ_START = -10\nvar NODE_START = -1000\nvar UNASSIGNED_NODE = new Array(0x100)\nvar DEF_CHAR = -1\n\nfor (var i = 0; i < 0x100; i++) { UNASSIGNED_NODE[i] = UNASSIGNED }\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec (codecOptions, iconv) {\n  this.encodingName = codecOptions.encodingName\n  if (!codecOptions) { throw new Error(\"DBCS codec is called without the data.\") }\n  if (!codecOptions.table) { throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\") }\n\n  // Load tables.\n  var mappingTable = codecOptions.table()\n\n  // Decode tables: MBCS -> Unicode.\n\n  // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n  // Trie root is decodeTables[0].\n  // Values: >=  0 -> unicode character code. can be > 0xFFFF\n  //         == UNASSIGNED -> unknown/unassigned sequence.\n  //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n  //         <= NODE_START -> index of the next node in our trie to process next byte.\n  //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n  this.decodeTables = []\n  this.decodeTables[0] = UNASSIGNED_NODE.slice(0) // Create root node.\n\n  // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here.\n  this.decodeTableSeq = []\n\n  // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n  for (var i = 0; i < mappingTable.length; i++) { this._addDecodeChunk(mappingTable[i]) }\n\n  // Load & create GB18030 tables when needed.\n  if (typeof codecOptions.gb18030 === \"function\") {\n    this.gb18030 = codecOptions.gb18030() // Load GB18030 ranges.\n\n    // Add GB18030 common decode nodes.\n    var commonThirdByteNodeIdx = this.decodeTables.length\n    this.decodeTables.push(UNASSIGNED_NODE.slice(0))\n\n    var commonFourthByteNodeIdx = this.decodeTables.length\n    this.decodeTables.push(UNASSIGNED_NODE.slice(0))\n\n    // Fill out the tree\n    var firstByteNode = this.decodeTables[0]\n    for (var i = 0x81; i <= 0xFE; i++) {\n      var secondByteNode = this.decodeTables[NODE_START - firstByteNode[i]]\n      for (var j = 0x30; j <= 0x39; j++) {\n        if (secondByteNode[j] === UNASSIGNED) {\n          secondByteNode[j] = NODE_START - commonThirdByteNodeIdx\n        } else if (secondByteNode[j] > NODE_START) {\n          throw new Error(\"gb18030 decode tables conflict at byte 2\")\n        }\n\n        var thirdByteNode = this.decodeTables[NODE_START - secondByteNode[j]]\n        for (var k = 0x81; k <= 0xFE; k++) {\n          if (thirdByteNode[k] === UNASSIGNED) {\n            thirdByteNode[k] = NODE_START - commonFourthByteNodeIdx\n          } else if (thirdByteNode[k] === NODE_START - commonFourthByteNodeIdx) {\n            continue\n          } else if (thirdByteNode[k] > NODE_START) {\n            throw new Error(\"gb18030 decode tables conflict at byte 3\")\n          }\n\n          var fourthByteNode = this.decodeTables[NODE_START - thirdByteNode[k]]\n          for (var l = 0x30; l <= 0x39; l++) {\n            if (fourthByteNode[l] === UNASSIGNED) { fourthByteNode[l] = GB18030_CODE }\n          }\n        }\n      }\n    }\n  }\n\n  this.defaultCharUnicode = iconv.defaultCharUnicode\n\n  // Encode tables: Unicode -> DBCS.\n\n  // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n  // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n  // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n  //         == UNASSIGNED -> no conversion found. Output a default char.\n  //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n  this.encodeTable = []\n\n  // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n  // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n  // means end of sequence (needed when one sequence is a strict subsequence of another).\n  // Objects are kept separately from encodeTable to increase performance.\n  this.encodeTableSeq = []\n\n  // Some chars can be decoded, but need not be encoded.\n  var skipEncodeChars = {}\n  if (codecOptions.encodeSkipVals) {\n    for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n      var val = codecOptions.encodeSkipVals[i]\n      if (typeof val === \"number\") { skipEncodeChars[val] = true } else {\n        for (var j = val.from; j <= val.to; j++) { skipEncodeChars[j] = true }\n      }\n    }\n  }\n\n  // Use decode trie to recursively fill out encode tables.\n  this._fillEncodeTable(0, 0, skipEncodeChars)\n\n  // Add more encoding pairs when needed.\n  if (codecOptions.encodeAdd) {\n    for (var uChar in codecOptions.encodeAdd) {\n      if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar)) { this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]) }\n    }\n  }\n\n  this.defCharSB = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)]\n  if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0][\"?\"]\n  if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0)\n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder\nDBCSCodec.prototype.decoder = DBCSDecoder\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function (addr) {\n  var bytes = []\n  for (; addr > 0; addr >>>= 8) { bytes.push(addr & 0xFF) }\n  if (bytes.length == 0) { bytes.push(0) }\n\n  var node = this.decodeTables[0]\n  for (var i = bytes.length - 1; i > 0; i--) { // Traverse nodes deeper into the trie.\n    var val = node[bytes[i]]\n\n    if (val == UNASSIGNED) { // Create new node.\n      node[bytes[i]] = NODE_START - this.decodeTables.length\n      this.decodeTables.push(node = UNASSIGNED_NODE.slice(0))\n    } else if (val <= NODE_START) { // Existing node.\n      node = this.decodeTables[NODE_START - val]\n    } else { throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16)) }\n  }\n  return node\n}\n\nDBCSCodec.prototype._addDecodeChunk = function (chunk) {\n  // First element of chunk is the hex mbcs code where we start.\n  var curAddr = parseInt(chunk[0], 16)\n\n  // Choose the decoding node where we'll write our chars.\n  var writeTable = this._getDecodeTrieNode(curAddr)\n  curAddr = curAddr & 0xFF\n\n  // Write all other elements of the chunk to the table.\n  for (var k = 1; k < chunk.length; k++) {\n    var part = chunk[k]\n    if (typeof part === \"string\") { // String, write as-is.\n      for (var l = 0; l < part.length;) {\n        var code = part.charCodeAt(l++)\n        if (code >= 0xD800 && code < 0xDC00) { // Decode surrogate\n          var codeTrail = part.charCodeAt(l++)\n          if (codeTrail >= 0xDC00 && codeTrail < 0xE000) { writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00) } else { throw new Error(\"Incorrect surrogate pair in \" + this.encodingName + \" at chunk \" + chunk[0]) }\n        } else if (code > 0x0FF0 && code <= 0x0FFF) { // Character sequence (our own encoding used)\n          var len = 0xFFF - code + 2\n          var seq = []\n          for (var m = 0; m < len; m++) { seq.push(part.charCodeAt(l++)) } // Simple variation: don't support surrogates or subsequences in seq.\n\n          writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length\n          this.decodeTableSeq.push(seq)\n        } else { writeTable[curAddr++] = code } // Basic char\n      }\n    } else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n      var charCode = writeTable[curAddr - 1] + 1\n      for (var l = 0; l < part; l++) { writeTable[curAddr++] = charCode++ }\n    } else { throw new Error(\"Incorrect type '\" + typeof part + \"' given in \" + this.encodingName + \" at chunk \" + chunk[0]) }\n  }\n  if (curAddr > 0xFF) { throw new Error(\"Incorrect chunk in \" + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr) }\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function (uCode) {\n  var high = uCode >> 8 // This could be > 0xFF because of astral characters.\n  if (this.encodeTable[high] === undefined) {\n    this.encodeTable[high] = UNASSIGNED_NODE.slice(0)\n  } // Create bucket on demand.\n  return this.encodeTable[high]\n}\n\nDBCSCodec.prototype._setEncodeChar = function (uCode, dbcsCode) {\n  var bucket = this._getEncodeBucket(uCode)\n  var low = uCode & 0xFF\n  if (bucket[low] <= SEQ_START) { this.encodeTableSeq[SEQ_START - bucket[low]][DEF_CHAR] = dbcsCode } // There's already a sequence, set a single-char subsequence of it.\n  else if (bucket[low] == UNASSIGNED) { bucket[low] = dbcsCode }\n}\n\nDBCSCodec.prototype._setEncodeSequence = function (seq, dbcsCode) {\n  // Get the root of character tree according to first character of the sequence.\n  var uCode = seq[0]\n  var bucket = this._getEncodeBucket(uCode)\n  var low = uCode & 0xFF\n\n  var node\n  if (bucket[low] <= SEQ_START) {\n    // There's already a sequence with  - use it.\n    node = this.encodeTableSeq[SEQ_START - bucket[low]]\n  } else {\n    // There was no sequence object - allocate a new one.\n    node = {}\n    if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low] // If a char was set before - make it a single-char subsequence.\n    bucket[low] = SEQ_START - this.encodeTableSeq.length\n    this.encodeTableSeq.push(node)\n  }\n\n  // Traverse the character tree, allocating new nodes as needed.\n  for (var j = 1; j < seq.length - 1; j++) {\n    var oldVal = node[uCode]\n    if (typeof oldVal === \"object\") { node = oldVal } else {\n      node = node[uCode] = {}\n      if (oldVal !== undefined) { node[DEF_CHAR] = oldVal }\n    }\n  }\n\n  // Set the leaf to given dbcsCode.\n  uCode = seq[seq.length - 1]\n  node[uCode] = dbcsCode\n}\n\nDBCSCodec.prototype._fillEncodeTable = function (nodeIdx, prefix, skipEncodeChars) {\n  var node = this.decodeTables[nodeIdx]\n  var hasValues = false\n  var subNodeEmpty = {}\n  for (var i = 0; i < 0x100; i++) {\n    var uCode = node[i]\n    var mbCode = prefix + i\n    if (skipEncodeChars[mbCode]) { continue }\n\n    if (uCode >= 0) {\n      this._setEncodeChar(uCode, mbCode)\n      hasValues = true\n    } else if (uCode <= NODE_START) {\n      var subNodeIdx = NODE_START - uCode\n      if (!subNodeEmpty[subNodeIdx]) {  // Skip empty subtrees (they are too large in gb18030).\n        var newPrefix = (mbCode << 8) >>> 0  // NOTE: '>>> 0' keeps 32-bit num positive.\n        if (this._fillEncodeTable(subNodeIdx, newPrefix, skipEncodeChars)) { hasValues = true } else { subNodeEmpty[subNodeIdx] = true }\n      }\n    } else if (uCode <= SEQ_START) {\n      this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode)\n      hasValues = true\n    }\n  }\n  return hasValues\n}\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder (options, codec) {\n  // Encoder state\n  this.leadSurrogate = -1\n  this.seqObj = undefined\n\n  // Static data\n  this.encodeTable = codec.encodeTable\n  this.encodeTableSeq = codec.encodeTableSeq\n  this.defaultCharSingleByte = codec.defCharSB\n  this.gb18030 = codec.gb18030\n}\n\nDBCSEncoder.prototype.write = function (str) {\n  var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3))\n  var leadSurrogate = this.leadSurrogate\n  var seqObj = this.seqObj\n  var nextChar = -1\n  var i = 0; var j = 0\n\n  while (true) {\n    // 0. Get next character.\n    if (nextChar === -1) {\n      if (i == str.length) break\n      var uCode = str.charCodeAt(i++)\n    } else {\n      var uCode = nextChar\n      nextChar = -1\n    }\n\n    // 1. Handle surrogates.\n    if (uCode >= 0xD800 && uCode < 0xE000) { // Char is one of surrogates.\n      if (uCode < 0xDC00) { // We've got lead surrogate.\n        if (leadSurrogate === -1) {\n          leadSurrogate = uCode\n          continue\n        } else {\n          leadSurrogate = uCode\n          // Double lead surrogate found.\n          uCode = UNASSIGNED\n        }\n      } else { // We've got trail surrogate.\n        if (leadSurrogate !== -1) {\n          uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00)\n          leadSurrogate = -1\n        } else {\n          // Incomplete surrogate pair - only trail surrogate found.\n          uCode = UNASSIGNED\n        }\n      }\n    } else if (leadSurrogate !== -1) {\n      // Incomplete surrogate pair - only lead surrogate found.\n      nextChar = uCode; uCode = UNASSIGNED // Write an error, then current char.\n      leadSurrogate = -1\n    }\n\n    // 2. Convert uCode character.\n    var dbcsCode = UNASSIGNED\n    if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n      var resCode = seqObj[uCode]\n      if (typeof resCode === \"object\") { // Sequence continues.\n        seqObj = resCode\n        continue\n      } else if (typeof resCode === \"number\") { // Sequence finished. Write it.\n        dbcsCode = resCode\n      } else if (resCode == undefined) { // Current character is not part of the sequence.\n        // Try default character for this sequence\n        resCode = seqObj[DEF_CHAR]\n        if (resCode !== undefined) {\n          dbcsCode = resCode // Found. Write it.\n          nextChar = uCode // Current character will be written too in the next iteration.\n        } else {\n          // TODO: What if we have no default? (resCode == undefined)\n          // Then, we should write first char of the sequence as-is and try the rest recursively.\n          // Didn't do it for now because no encoding has this situation yet.\n          // Currently, just skip the sequence and write current char.\n        }\n      }\n      seqObj = undefined\n    } else if (uCode >= 0) {  // Regular character\n      var subtable = this.encodeTable[uCode >> 8]\n      if (subtable !== undefined) { dbcsCode = subtable[uCode & 0xFF] }\n\n      if (dbcsCode <= SEQ_START) { // Sequence start\n        seqObj = this.encodeTableSeq[SEQ_START - dbcsCode]\n        continue\n      }\n\n      if (dbcsCode == UNASSIGNED && this.gb18030) {\n        // Use GB18030 algorithm to find character(s) to write.\n        var idx = findIdx(this.gb18030.uChars, uCode)\n        if (idx != -1) {\n          var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx])\n          newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600\n          newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260\n          newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10\n          newBuf[j++] = 0x30 + dbcsCode\n          continue\n        }\n      }\n    }\n\n    // 3. Write dbcsCode character.\n    if (dbcsCode === UNASSIGNED) { dbcsCode = this.defaultCharSingleByte }\n\n    if (dbcsCode < 0x100) {\n      newBuf[j++] = dbcsCode\n    } else if (dbcsCode < 0x10000) {\n      newBuf[j++] = dbcsCode >> 8   // high byte\n      newBuf[j++] = dbcsCode & 0xFF // low byte\n    } else if (dbcsCode < 0x1000000) {\n      newBuf[j++] = dbcsCode >> 16\n      newBuf[j++] = (dbcsCode >> 8) & 0xFF\n      newBuf[j++] = dbcsCode & 0xFF\n    } else {\n      newBuf[j++] = dbcsCode >>> 24\n      newBuf[j++] = (dbcsCode >>> 16) & 0xFF\n      newBuf[j++] = (dbcsCode >>> 8) & 0xFF\n      newBuf[j++] = dbcsCode & 0xFF\n    }\n  }\n\n  this.seqObj = seqObj\n  this.leadSurrogate = leadSurrogate\n  return newBuf.slice(0, j)\n}\n\nDBCSEncoder.prototype.end = function () {\n  if (this.leadSurrogate === -1 && this.seqObj === undefined) { return } // All clean. Most often case.\n\n  var newBuf = Buffer.alloc(10); var j = 0\n\n  if (this.seqObj) { // We're in the sequence.\n    var dbcsCode = this.seqObj[DEF_CHAR]\n    if (dbcsCode !== undefined) { // Write beginning of the sequence.\n      if (dbcsCode < 0x100) {\n        newBuf[j++] = dbcsCode\n      } else {\n        newBuf[j++] = dbcsCode >> 8   // high byte\n        newBuf[j++] = dbcsCode & 0xFF // low byte\n      }\n    } else {\n      // See todo above.\n    }\n    this.seqObj = undefined\n  }\n\n  if (this.leadSurrogate !== -1) {\n    // Incomplete surrogate pair - only lead surrogate found.\n    newBuf[j++] = this.defaultCharSingleByte\n    this.leadSurrogate = -1\n  }\n\n  return newBuf.slice(0, j)\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder (options, codec) {\n  // Decoder state\n  this.nodeIdx = 0\n  this.prevBytes = []\n\n  // Static data\n  this.decodeTables = codec.decodeTables\n  this.decodeTableSeq = codec.decodeTableSeq\n  this.defaultCharUnicode = codec.defaultCharUnicode\n  this.gb18030 = codec.gb18030\n}\n\nDBCSDecoder.prototype.write = function (buf) {\n  var newBuf = Buffer.alloc(buf.length * 2)\n  var nodeIdx = this.nodeIdx\n  var prevBytes = this.prevBytes; var prevOffset = this.prevBytes.length\n  var seqStart = -this.prevBytes.length // idx of the start of current parsed sequence.\n  var uCode\n\n  for (var i = 0, j = 0; i < buf.length; i++) {\n    var curByte = (i >= 0) ? buf[i] : prevBytes[i + prevOffset]\n\n    // Lookup in current trie node.\n    var uCode = this.decodeTables[nodeIdx][curByte]\n\n    if (uCode >= 0) {\n      // Normal character, just use it.\n    } else if (uCode === UNASSIGNED) { // Unknown char.\n      // TODO: Callback with seq.\n      uCode = this.defaultCharUnicode.charCodeAt(0)\n      i = seqStart // Skip one byte ('i' will be incremented by the for loop) and try to parse again.\n    } else if (uCode === GB18030_CODE) {\n      if (i >= 3) {\n        var ptr = (buf[i - 3] - 0x81) * 12600 + (buf[i - 2] - 0x30) * 1260 + (buf[i - 1] - 0x81) * 10 + (curByte - 0x30)\n      } else {\n        var ptr = (prevBytes[i - 3 + prevOffset] - 0x81) * 12600 +\n                          (((i - 2 >= 0) ? buf[i - 2] : prevBytes[i - 2 + prevOffset]) - 0x30) * 1260 +\n                          (((i - 1 >= 0) ? buf[i - 1] : prevBytes[i - 1 + prevOffset]) - 0x81) * 10 +\n                          (curByte - 0x30)\n      }\n      var idx = findIdx(this.gb18030.gbChars, ptr)\n      uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx]\n    } else if (uCode <= NODE_START) { // Go to next trie node.\n      nodeIdx = NODE_START - uCode\n      continue\n    } else if (uCode <= SEQ_START) { // Output a sequence of chars.\n      var seq = this.decodeTableSeq[SEQ_START - uCode]\n      for (var k = 0; k < seq.length - 1; k++) {\n        uCode = seq[k]\n        newBuf[j++] = uCode & 0xFF\n        newBuf[j++] = uCode >> 8\n      }\n      uCode = seq[seq.length - 1]\n    } else { throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte) }\n\n    // Write the character to buffer, handling higher planes using surrogate pair.\n    if (uCode >= 0x10000) {\n      uCode -= 0x10000\n      var uCodeLead = 0xD800 | (uCode >> 10)\n      newBuf[j++] = uCodeLead & 0xFF\n      newBuf[j++] = uCodeLead >> 8\n\n      uCode = 0xDC00 | (uCode & 0x3FF)\n    }\n    newBuf[j++] = uCode & 0xFF\n    newBuf[j++] = uCode >> 8\n\n    // Reset trie node.\n    nodeIdx = 0; seqStart = i + 1\n  }\n\n  this.nodeIdx = nodeIdx\n  this.prevBytes = (seqStart >= 0)\n    ? Array.prototype.slice.call(buf, seqStart)\n    : prevBytes.slice(seqStart + prevOffset).concat(Array.prototype.slice.call(buf))\n\n  return newBuf.slice(0, j).toString(\"ucs2\")\n}\n\nDBCSDecoder.prototype.end = function () {\n  var ret = \"\"\n\n  // Try to parse all remaining chars.\n  while (this.prevBytes.length > 0) {\n    // Skip 1 character in the buffer.\n    ret += this.defaultCharUnicode\n    var bytesArr = this.prevBytes.slice(1)\n\n    // Parse remaining as usual.\n    this.prevBytes = []\n    this.nodeIdx = 0\n    if (bytesArr.length > 0) { ret += this.write(bytesArr) }\n  }\n\n  this.prevBytes = []\n  this.nodeIdx = 0\n  return ret\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx (table, val) {\n  if (table[0] > val) { return -1 }\n\n  var l = 0; var r = table.length\n  while (l < r - 1) { // always table[l] <= val < table[r]\n    var mid = l + ((r - l + 1) >> 1)\n    if (table[mid] <= val) { l = mid } else { r = mid }\n  }\n  return l\n}\n","[\n[\"0\",\"\\u0000\",128],\n[\"a1\",\"\",62],\n[\"8140\",\"\",9,\"\"],\n[\"8180\",\"\"],\n[\"81b8\",\"\"],\n[\"81c8\",\"\"],\n[\"81da\",\"\"],\n[\"81f0\",\"\"],\n[\"81fc\",\"\"],\n[\"824f\",\"\",9],\n[\"8260\",\"\",25],\n[\"8281\",\"\",25],\n[\"829f\",\"\",82],\n[\"8340\",\"\",62],\n[\"8380\",\"\",22],\n[\"839f\",\"\",16,\"\",6],\n[\"83bf\",\"\",16,\"\",6],\n[\"8440\",\"\",5,\"\",25],\n[\"8470\",\"\",5,\"\",7],\n[\"8480\",\"\",17],\n[\"849f\",\"\"],\n[\"8740\",\"\",19,\"\",9],\n[\"875f\",\"\"],\n[\"877e\",\"\"],\n[\"8780\",\"\",4,\"\"],\n[\"889f\",\"\"],\n[\"8940\",\"\"],\n[\"8980\",\"\"],\n[\"8a40\",\"\"],\n[\"8a80\",\"\"],\n[\"8b40\",\"\"],\n[\"8b80\",\"\"],\n[\"8c40\",\"\"],\n[\"8c80\",\"\"],\n[\"8d40\",\"\"],\n[\"8d80\",\"\"],\n[\"8e40\",\"\"],\n[\"8e80\",\"\"],\n[\"8f40\",\"\"],\n[\"8f80\",\"\"],\n[\"9040\",\"\"],\n[\"9080\",\"\"],\n[\"9140\",\"\"],\n[\"9180\",\"\"],\n[\"9240\",\"\"],\n[\"9280\",\"\"],\n[\"9340\",\"\"],\n[\"9380\",\"\"],\n[\"9440\",\"\"],\n[\"9480\",\"\"],\n[\"9540\",\"\"],\n[\"9580\",\"\"],\n[\"9640\",\"\"],\n[\"9680\",\"\"],\n[\"9740\",\"\"],\n[\"9780\",\"\"],\n[\"9840\",\"\"],\n[\"989f\",\"\"],\n[\"9940\",\"\"],\n[\"9980\",\"\"],\n[\"9a40\",\"\"],\n[\"9a80\",\"\"],\n[\"9b40\",\"\"],\n[\"9b80\",\"\"],\n[\"9c40\",\"\"],\n[\"9c80\",\"\"],\n[\"9d40\",\"\"],\n[\"9d80\",\"\"],\n[\"9e40\",\"\"],\n[\"9e80\",\"\"],\n[\"9f40\",\"\"],\n[\"9f80\",\"\"],\n[\"e040\",\"\"],\n[\"e080\",\"\"],\n[\"e140\",\"\"],\n[\"e180\",\"\"],\n[\"e240\",\"\"],\n[\"e280\",\"\"],\n[\"e340\",\"\"],\n[\"e380\",\"\"],\n[\"e440\",\"\"],\n[\"e480\",\"\"],\n[\"e540\",\"\"],\n[\"e580\",\"\"],\n[\"e640\",\"\"],\n[\"e680\",\"\"],\n[\"e740\",\"\"],\n[\"e780\",\"\"],\n[\"e840\",\"\"],\n[\"e880\",\"\"],\n[\"e940\",\"\"],\n[\"e980\",\"\"],\n[\"ea40\",\"\"],\n[\"ea80\",\"\"],\n[\"ed40\",\"\"],\n[\"ed80\",\"\"],\n[\"ee40\",\"\"],\n[\"ee80\",\"\"],\n[\"eeef\",\"\",9,\"\"],\n[\"f040\",\"\",62],\n[\"f080\",\"\",124],\n[\"f140\",\"\",62],\n[\"f180\",\"\",124],\n[\"f240\",\"\",62],\n[\"f280\",\"\",124],\n[\"f340\",\"\",62],\n[\"f380\",\"\",124],\n[\"f440\",\"\",62],\n[\"f480\",\"\",124],\n[\"f540\",\"\",62],\n[\"f580\",\"\",124],\n[\"f640\",\"\",62],\n[\"f680\",\"\",124],\n[\"f740\",\"\",62],\n[\"f780\",\"\",124],\n[\"f840\",\"\",62],\n[\"f880\",\"\",124],\n[\"f940\",\"\"],\n[\"fa40\",\"\",9,\"\",9,\"\"],\n[\"fa80\",\"\"],\n[\"fb40\",\"\"],\n[\"fb80\",\"\"],\n[\"fc40\",\"\"]\n]\n","[\n[\"0\",\"\\u0000\",127],\n[\"8ea1\",\"\",62],\n[\"a1a1\",\"\",9,\"\"],\n[\"a2a1\",\"\"],\n[\"a2ba\",\"\"],\n[\"a2ca\",\"\"],\n[\"a2dc\",\"\"],\n[\"a2f2\",\"\"],\n[\"a2fe\",\"\"],\n[\"a3b0\",\"\",9],\n[\"a3c1\",\"\",25],\n[\"a3e1\",\"\",25],\n[\"a4a1\",\"\",82],\n[\"a5a1\",\"\",85],\n[\"a6a1\",\"\",16,\"\",6],\n[\"a6c1\",\"\",16,\"\",6],\n[\"a7a1\",\"\",5,\"\",25],\n[\"a7d1\",\"\",5,\"\",25],\n[\"a8a1\",\"\"],\n[\"ada1\",\"\",19,\"\",9],\n[\"adc0\",\"\"],\n[\"addf\",\"\",4,\"\"],\n[\"b0a1\",\"\"],\n[\"b1a1\",\"\"],\n[\"b2a1\",\"\"],\n[\"b3a1\",\"\"],\n[\"b4a1\",\"\"],\n[\"b5a1\",\"\"],\n[\"b6a1\",\"\"],\n[\"b7a1\",\"\"],\n[\"b8a1\",\"\"],\n[\"b9a1\",\"\"],\n[\"baa1\",\"\"],\n[\"bba1\",\"\"],\n[\"bca1\",\"\"],\n[\"bda1\",\"\"],\n[\"bea1\",\"\"],\n[\"bfa1\",\"\"],\n[\"c0a1\",\"\"],\n[\"c1a1\",\"\"],\n[\"c2a1\",\"\"],\n[\"c3a1\",\"\"],\n[\"c4a1\",\"\"],\n[\"c5a1\",\"\"],\n[\"c6a1\",\"\"],\n[\"c7a1\",\"\"],\n[\"c8a1\",\"\"],\n[\"c9a1\",\"\"],\n[\"caa1\",\"\"],\n[\"cba1\",\"\"],\n[\"cca1\",\"\"],\n[\"cda1\",\"\"],\n[\"cea1\",\"\"],\n[\"cfa1\",\"\"],\n[\"d0a1\",\"\"],\n[\"d1a1\",\"\"],\n[\"d2a1\",\"\"],\n[\"d3a1\",\"\"],\n[\"d4a1\",\"\"],\n[\"d5a1\",\"\"],\n[\"d6a1\",\"\"],\n[\"d7a1\",\"\"],\n[\"d8a1\",\"\"],\n[\"d9a1\",\"\"],\n[\"daa1\",\"\"],\n[\"dba1\",\"\"],\n[\"dca1\",\"\"],\n[\"dda1\",\"\"],\n[\"dea1\",\"\"],\n[\"dfa1\",\"\"],\n[\"e0a1\",\"\"],\n[\"e1a1\",\"\"],\n[\"e2a1\",\"\"],\n[\"e3a1\",\"\"],\n[\"e4a1\",\"\"],\n[\"e5a1\",\"\"],\n[\"e6a1\",\"\"],\n[\"e7a1\",\"\"],\n[\"e8a1\",\"\"],\n[\"e9a1\",\"\"],\n[\"eaa1\",\"\"],\n[\"eba1\",\"\"],\n[\"eca1\",\"\"],\n[\"eda1\",\"\"],\n[\"eea1\",\"\"],\n[\"efa1\",\"\"],\n[\"f0a1\",\"\"],\n[\"f1a1\",\"\"],\n[\"f2a1\",\"\"],\n[\"f3a1\",\"\"],\n[\"f4a1\",\"\"],\n[\"f9a1\",\"\"],\n[\"faa1\",\"\"],\n[\"fba1\",\"\"],\n[\"fca1\",\"\"],\n[\"fcf1\",\"\",9,\"\"],\n[\"8fa2af\",\"\"],\n[\"8fa2c2\",\"\"],\n[\"8fa2eb\",\"\"],\n[\"8fa6e1\",\"\"],\n[\"8fa6e7\",\"\"],\n[\"8fa6e9\",\"\"],\n[\"8fa6ec\",\"\"],\n[\"8fa6f1\",\"\"],\n[\"8fa7c2\",\"\",10,\"\"],\n[\"8fa7f2\",\"\",10,\"\"],\n[\"8fa9a1\",\"\"],\n[\"8fa9a4\",\"\"],\n[\"8fa9a6\",\"\"],\n[\"8fa9a8\",\"\"],\n[\"8fa9ab\",\"\"],\n[\"8fa9af\",\"\"],\n[\"8fa9c1\",\"\"],\n[\"8faaa1\",\"\"],\n[\"8faaba\",\"\"],\n[\"8faba1\",\"\"],\n[\"8fabbd\",\"\"],\n[\"8fabc5\",\"\"],\n[\"8fb0a1\",\"\"],\n[\"8fb1a1\",\"\"],\n[\"8fb2a1\",\"\",4,\"\"],\n[\"8fb3a1\",\"\"],\n[\"8fb4a1\",\"\"],\n[\"8fb5a1\",\"\"],\n[\"8fb6a1\",\"\",5,\"\",4,\"\"],\n[\"8fb7a1\",\"\",4,\"\"],\n[\"8fb8a1\",\"\"],\n[\"8fb9a1\",\"\"],\n[\"8fbaa1\",\"\",4,\"\"],\n[\"8fbba1\",\"\"],\n[\"8fbca1\",\"\",4,\"\"],\n[\"8fbda1\",\"\",4,\"\"],\n[\"8fbea1\",\"\",4,\"\"],\n[\"8fbfa1\",\"\"],\n[\"8fc0a1\",\"\"],\n[\"8fc1a1\",\"\"],\n[\"8fc2a1\",\"\"],\n[\"8fc3a1\",\"\",4,\"\"],\n[\"8fc4a1\",\"\"],\n[\"8fc5a1\",\"\"],\n[\"8fc6a1\",\"\"],\n[\"8fc7a1\",\"\"],\n[\"8fc8a1\",\"\"],\n[\"8fc9a1\",\"\",4,\"\",4,\"\"],\n[\"8fcaa1\",\"\"],\n[\"8fcba1\",\"\"],\n[\"8fcca1\",\"\",9,\"\"],\n[\"8fcda1\",\"\",5,\"\"],\n[\"8fcea1\",\"\",6,\"\"],\n[\"8fcfa1\",\"\"],\n[\"8fd0a1\",\"\"],\n[\"8fd1a1\",\"\"],\n[\"8fd2a1\",\"\",5],\n[\"8fd3a1\",\"\"],\n[\"8fd4a1\",\"\",4,\"\"],\n[\"8fd5a1\",\"\"],\n[\"8fd6a1\",\"\"],\n[\"8fd7a1\",\"\"],\n[\"8fd8a1\",\"\"],\n[\"8fd9a1\",\"\",4,\"\",6,\"\"],\n[\"8fdaa1\",\"\",4,\"\"],\n[\"8fdba1\",\"\",6,\"\"],\n[\"8fdca1\",\"\",4,\"\"],\n[\"8fdda1\",\"\",4,\"\"],\n[\"8fdea1\",\"\",4,\"\"],\n[\"8fdfa1\",\"\"],\n[\"8fe0a1\",\"\"],\n[\"8fe1a1\",\"\",4,\"\"],\n[\"8fe2a1\",\"\"],\n[\"8fe3a1\",\"\",5,\"\",4,\"\"],\n[\"8fe4a1\",\"\",4,\"\"],\n[\"8fe5a1\",\"\",4,\"\"],\n[\"8fe6a1\",\"\"],\n[\"8fe7a1\",\"\"],\n[\"8fe8a1\",\"\",4,\"\"],\n[\"8fe9a1\",\"\",4],\n[\"8feaa1\",\"\",4,\"\"],\n[\"8feba1\",\"\",4,\"\"],\n[\"8feca1\",\"\"],\n[\"8feda1\",\"\",4,\"\",4,\"\"]\n]\n","[\n[\"0\",\"\\u0000\",127,\"\"],\n[\"8140\",\"\",5,\"\",9,\"\",6,\"\"],\n[\"8180\",\"\",6,\"\",4,\"\",4,\"\",5,\"\"],\n[\"8240\",\"\",4,\"\",8,\"\",4,\"\",11],\n[\"8280\",\"\",10,\"\",4,\"\",7,\"\",5,\"\",8,\"\",20,\"\",4,\"\",6,\"\"],\n[\"8340\",\"\",17,\"\",5,\"\",10,\"\",4,\"\",9,\"\"],\n[\"8380\",\"\",5,\"\",13,\"\",28,\"\",4,\"\",4,\"\",5],\n[\"8440\",\"\",5,\"\",5,\"\"],\n[\"8480\",\"\",9,\"\",4,\"\",6,\"\",6,\"\",9,\"\",5,\"\",10,\"\",7,\"\"],\n[\"8540\",\"\",9,\"\"],\n[\"8580\",\"\",4,\"\",6,\"\",4,\"\",4,\"\",7,\"\"],\n[\"8640\",\"\",4,\"\",5,\"\",4,\"\",5,\"\"],\n[\"8680\",\"\",4,\"\",4,\"\",5,\"\",6,\"\",8,\"\",4,\"\",4,\"\",4,\"\"],\n[\"8740\",\"\",7,\"\",11,\"\",4,\"\",4],\n[\"8780\",\"\",7,\"\",6,\"\",14,\"\",10,\"\",6,\"\",12,\"\",8,\"\",5,\"\",6],\n[\"8840\",\"\",9,\"\",4,\"\",4,\"\"],\n[\"8880\",\"\",4,\"\",6,\"\",8,\"\",6,\"\",7,\"\",4,\"\",4,\"\",7],\n[\"8940\",\"\",5,\"\",6,\"\",4,\"\",5,\"\",4,\"\",16,\"\"],\n[\"8980\",\"\",4,\"\",4,\"\",7,\"\",17,\"\",10,\"\",13,\"\",5,\"\",7,\"\",4,\"\"],\n[\"8a40\",\"\",4,\"\",12,\"\"],\n[\"8a80\",\"\",5,\"\",6,\"\",4,\"\",11,\"\",6,\"\",4,\"\",4,\"\",9,\"\",5],\n[\"8b40\",\"\",8,\"\",17,\"\",6,\"\",13,\"\"],\n[\"8b80\",\"\",4,\"\",4,\"\",5,\"\",4,\"\",4,\"\",22,\"\",11,\"\",25,\"\",7,\"\",6],\n[\"8c40\",\"\",7,\"\"],\n[\"8c80\",\"\",8,\"\",4,\"\",6,\"\",6,\"\",6,\"\",4,\"\",4,\"\",4],\n[\"8d40\",\"\",5,\"\",5,\"\",5,\"\",6,\"\",9,\"\",4],\n[\"8d80\",\"\",5,\"\",4,\"\",4,\"\",4,\"\",7,\"\",7,\"\",10,\"\",10,\"\",12,\"\",21,\"\"],\n[\"8e40\",\"\",21,\"\",12,\"\",6,\"\",12,\"\"],\n[\"8e80\",\"\",4,\"\",7,\"\",4,\"\",4,\"\",5,\"\",6,\"\",4,\"\",14,\"\",4,\"\",4,\"\",6],\n[\"8f40\",\"\",5,\"\",11,\"\",8,\"\"],\n[\"8f80\",\"\",6,\"\",14,\"\",5,\"\",5,\"\",4,\"\"],\n[\"9040\",\"\",4,\"\",4,\"\",6,\"\"],\n[\"9080\",\"\",7,\"\",4,\"\",4,\"\",4,\"\",4,\"\",18,\"\",6],\n[\"9140\",\"\",6,\"\",6,\"\",18,\"\",4,\"\"],\n[\"9180\",\"\",6,\"\",8,\"\",9,\"\",5,\"\",4,\"\",4,\"\",16,\"\",13,\"\",8,\"\",5,\"\",4,\"\"],\n[\"9240\",\"\",6,\"\",5,\"\"],\n[\"9280\",\"\",5,\"\",7,\"\",6,\"\"],\n[\"9340\",\"\",6,\"\",4,\"\",4,\"\",5,\"\"],\n[\"9380\",\"\",5,\"\",4,\"\",6,\"\",4,\"\",7,\"\",9,\"\",6,\"\",8,\"\",4,\"\",6,\"\"],\n[\"9440\",\"\",24,\"\",7,\"\",7,\"\",4,\"\",8],\n[\"9480\",\"\",4,\"\",4,\"\",14,\"\",7,\"\",7,\"\"],\n[\"9540\",\"\",4,\"\",4,\"\",6,\"\"],\n[\"9580\",\"\",4,\"\",4,\"\",8,\"\",4,\"\",4,\"\",25,\"\",7,\"\",5,\"\"],\n[\"9640\",\"\",5,\"\",4,\"\"],\n[\"9680\",\"\",7,\"\",9,\"\",7,\"\",4,\"\",6,\"\",6,\"\",5],\n[\"9740\",\"\",7,\"\",8,\"\",7,\"\",9,\"\"],\n[\"9780\",\"\",6,\"\",5,\"\",4,\"\",9,\"\",4,\"\",11,\"\",7,\"\",16,\"\"],\n[\"9840\",\"\",4,\"\",5,\"\",9,\"\"],\n[\"9880\",\"\",7,\"\",5,\"\",11,\"\",9,\"\",9,\"\",11,\"\",5,\"\",5,\"\",6,\"\",4,\"\",7,\"\",6,\"\"],\n[\"9940\",\"\",4,\"\",10,\"\",6,\"\",8,\"\",4,\"\",7,\"\",5],\n[\"9980\",\"\",114,\"\",6],\n[\"9a40\",\"\",11,\"\",7,\"\",13,\"\"],\n[\"9a80\",\"\",4,\"\",7,\"\",7,\"\",6,\"\",4,\"\",4,\"\",7,\"\",6,\"\",4,\"\",4,\"\"],\n[\"9b40\",\"\",4,\"\"],\n[\"9b80\",\"\",5,\"\",4,\"\",4,\"\",5,\"\"],\n[\"9c40\",\"\",7,\"\"],\n[\"9c80\",\"\",7,\"\",7,\"\",10,\"\",14,\"\",4,\"\",6,\"\",5],\n[\"9d40\",\"\",7,\"\",4,\"\",9,\"\",6,\"\"],\n[\"9d80\",\"\",9,\"\",5,\"\",6,\"\",12,\"\",4,\"\",10,\"\",5,\"\",5,\"\",6,\"\",10,\"\"],\n[\"9e40\",\"\",7,\"\",32,\"\",7,\"\",6,\"\",6],\n[\"9e80\",\"\",9,\"\",17,\"\",13,\"\",11,\"\",12,\"\",12,\"\"],\n[\"9f40\",\"\",6,\"\",10,\"\",4,\"\",10,\"\",7,\"\"],\n[\"9f80\",\"\",13,\"\",12,\"\",4,\"\",4,\"\",5,\"\",4,\"\",4,\"\",6,\"\",5,\"\",8,\"\",9,\"\",4],\n[\"a040\",\"\",9,\"\",5,\"\",9,\"\",11,\"\",19],\n[\"a080\",\"\",9,\"\",6,\"\",4,\"\",11,\"\",11,\"\",6,\"\"],\n[\"a1a1\",\"\",7,\"\"],\n[\"a2a1\",\"\",9],\n[\"a2b1\",\"\",19,\"\",19,\"\",9],\n[\"a2e5\",\"\",9],\n[\"a2f1\",\"\",11],\n[\"a3a1\",\"\",88,\"\"],\n[\"a4a1\",\"\",82],\n[\"a5a1\",\"\",85],\n[\"a6a1\",\"\",16,\"\",6],\n[\"a6c1\",\"\",16,\"\",6],\n[\"a6e0\",\"\"],\n[\"a6ee\",\"\"],\n[\"a6f4\",\"\"],\n[\"a7a1\",\"\",5,\"\",25],\n[\"a7d1\",\"\",5,\"\",25],\n[\"a840\",\"\",35,\"\",6],\n[\"a880\",\"\",7,\"\"],\n[\"a8a1\",\"\"],\n[\"a8bd\",\"\"],\n[\"a8c0\",\"\"],\n[\"a8c5\",\"\",36],\n[\"a940\",\"\",8,\"\"],\n[\"a959\",\"\"],\n[\"a95c\",\"\"],\n[\"a960\",\"\",9,\"\",8],\n[\"a980\",\"\",4,\"\"],\n[\"a996\",\"\"],\n[\"a9a4\",\"\",75],\n[\"aa40\",\"\",5,\"\",5,\"\",8],\n[\"aa80\",\"\",7,\"\",10,\"\"],\n[\"ab40\",\"\",11,\"\",4,\"\",5,\"\",4],\n[\"ab80\",\"\",6,\"\",4],\n[\"ac40\",\"\",10,\"\",8,\"\",5,\"\",4,\"\",11],\n[\"ac80\",\"\",6,\"\",12,\"\",4,\"\"],\n[\"ad40\",\"\",10,\"\",7,\"\",15,\"\",12],\n[\"ad80\",\"\",9,\"\",8,\"\",6,\"\"],\n[\"ae40\",\"\",6,\"\",7,\"\",4,\"\"],\n[\"ae80\",\"\",7,\"\",6,\"\",4,\"\"],\n[\"af40\",\"\",4,\"\"],\n[\"af80\",\"\"],\n[\"b040\",\"\",6,\"\",5,\"\",4,\"\",6,\"\",7,\"\"],\n[\"b080\",\"\",7,\"\",8,\"\",9,\"\"],\n[\"b140\",\"\",4,\"\",7,\"\",10,\"\"],\n[\"b180\",\"\",4,\"\",7,\"\",7,\"\"],\n[\"b240\",\"\",11,\"\",5,\"\",11,\"\",4],\n[\"b280\",\"\",12,\"\",8,\"\",4,\"\"],\n[\"b340\",\"\",5,\"\"],\n[\"b380\",\"\",11,\"\",7,\"\",6,\"\"],\n[\"b440\",\"\",7,\"\",9],\n[\"b480\",\"\",4,\"\",5,\"\",6,\"\"],\n[\"b540\",\"\",5,\"\",9,\"\",4,\"\",14,\"\",4,\"\",8,\"\"],\n[\"b580\",\"\",6,\"\",4,\"\"],\n[\"b640\",\"\",6,\"\",11,\"\",10,\"\",4,\"\",5,\"\"],\n[\"b680\",\"\",6,\"\",4,\"\"],\n[\"b740\",\"\",14,\"\",5,\"\",9,\"\",4,\"\",16],\n[\"b780\",\"\",6,\"\"],\n[\"b840\",\"\",4,\"\",10,\"\",10,\"\",9,\"\",5,\"\"],\n[\"b880\",\"\",4,\"\"],\n[\"b940\",\"\",5,\"\",10,\"\",6,\"\"],\n[\"b980\",\"\",7,\"\"],\n[\"ba40\",\"\",4,\"\",4,\"\",7,\"\",5,\"\"],\n[\"ba80\",\"\",4,\"\",5,\"\",12,\"\",5,\"\"],\n[\"bb40\",\"\",9,\"\",36,\"\",5,\"\",9],\n[\"bb80\",\"\",6,\"\",4,\"\"],\n[\"bc40\",\"\",6,\"\",6,\"\",5,\"\",7,\"\",13,\"\",5],\n[\"bc80\",\"\",14,\"\",6,\"\"],\n[\"bd40\",\"\",54,\"\",7],\n[\"bd80\",\"\",32,\"\"],\n[\"be40\",\"\",12,\"\",6,\"\",42],\n[\"be80\",\"\",32,\"\"],\n[\"bf40\",\"\",62],\n[\"bf80\",\"\",4,\"\",4,\"\",21,\"\"],\n[\"c040\",\"\",35,\"\",23,\"\"],\n[\"c080\",\"\",6,\"\",9,\"\"],\n[\"c140\",\"\",4,\"\",7,\"\",4,\"\",4,\"\",6,\"\"],\n[\"c180\",\"\",4,\"\",4,\"\",5,\"\"],\n[\"c240\",\"\",6,\"\",5,\"\"],\n[\"c280\",\"\",13,\"\",5,\"\",11,\"\"],\n[\"c340\",\"\",5,\"\",4,\"\",6,\"\"],\n[\"c380\",\"\",12,\"\",4,\"\"],\n[\"c440\",\"\",5,\"\",4,\"\",4,\"\",5,\"\",4,\"\"],\n[\"c480\",\"\",7,\"\",5,\"\",6,\"\"],\n[\"c540\",\"\",14,\"\",4,\"\",5,\"\",4,\"\",5,\"\"],\n[\"c580\",\"\",7,\"\",7,\"\"],\n[\"c640\",\"\"],\n[\"c680\",\"\",4,\"\",9,\"\"],\n[\"c740\",\"\",4,\"\",4,\"\",6,\"\",6,\"\",6,\"\"],\n[\"c780\",\"\"],\n[\"c840\",\"\",4,\"\",5,\"\",5,\"\",7,\"\",5,\"\",7,\"\"],\n[\"c880\",\"\",6,\"\",4,\"\",4,\"\"],\n[\"c940\",\"\",4,\"\",7,\"\",12,\"\"],\n[\"c980\",\"\",4,\"\",4,\"\",10,\"\"],\n[\"ca40\",\"\",8,\"\",8,\"\",9,\"\",4,\"\",10],\n[\"ca80\",\"\",4,\"\",8,\"\"],\n[\"cb40\",\"\",6,\"\",10,\"\",6,\"\",5,\"\",6,\"\",6,\"\",4,\"\"],\n[\"cb80\",\"\",5,\"\",6,\"\",14,\"\"],\n[\"cc40\",\"\",4,\"\",10,\"\",15,\"\",13,\"\"],\n[\"cc80\",\"\",11,\"\",4,\"\",7,\"\"],\n[\"cd40\",\"\",6,\"\",6,\"\",4,\"\",5,\"\",4,\"\",4,\"\"],\n[\"cd80\",\"\"],\n[\"ce40\",\"\",6,\"\",5,\"\",7,\"\"],\n[\"ce80\",\"\",4,\"\",6,\"\",4,\"\"],\n[\"cf40\",\"\",4,\"\",4,\"\",6,\"\",9],\n[\"cf80\",\"\",5,\"\",7,\"\",4,\"\"],\n[\"d040\",\"\",13,\"\",5,\"\",5,\"\",5,\"\",6,\"\"],\n[\"d080\",\"\",4,\"\",4,\"\",5,\"\"],\n[\"d140\",\"\",4,\"\",4,\"\",6,\"\",5],\n[\"d180\",\"\",4,\"\",4,\"\",4,\"\"],\n[\"d240\",\"\",8,\"\",24,\"\",5,\"\",19,\"\"],\n[\"d280\",\"\",26,\"\"],\n[\"d340\",\"\",30,\"\",6],\n[\"d380\",\"\",4,\"\",5,\"\",21,\"\"],\n[\"d440\",\"\",31,\"\",8,\"\",21],\n[\"d480\",\"\",25,\"\",6,\"\"],\n[\"d540\",\"\",7,\"\",7,\"\",46],\n[\"d580\",\"\",32,\"\"],\n[\"d640\",\"\",34,\"\",27],\n[\"d680\",\"\",30,\"\"],\n[\"d740\",\"\",31,\"\",4,\"\",25],\n[\"d780\",\"\",24,\"\"],\n[\"d840\",\"\",8,\"\",7,\"\",5,\"\",6,\"\",6,\"\",6,\"\"],\n[\"d880\",\"\",6,\"\",20,\"\"],\n[\"d940\",\"\",62],\n[\"d980\",\"\",32,\"\"],\n[\"da40\",\"\",14,\"\",8,\"\",4,\"\",9,\"\"],\n[\"da80\",\"\",12,\"\"],\n[\"db40\",\"\",6,\"\",7,\"\",4,\"\"],\n[\"db80\",\"\",4,\"\",5,\"\",11,\"\"],\n[\"dc40\",\"\",4,\"\",6,\"\",6,\"\",11,\"\",6,\"\",7],\n[\"dc80\",\"\",10,\"\",21,\"\"],\n[\"dd40\",\"\",62],\n[\"dd80\",\"\",32,\"\"],\n[\"de40\",\"\",32,\"\"],\n[\"de80\",\"\",4,\"\"],\n[\"df40\",\"\",5,\"\",4,\"\",4,\"\",5,\"\",4,\"\",6,\"\"],\n[\"df80\",\"\",4,\"\"],\n[\"e040\",\"\",19,\"\"],\n[\"e080\",\"\",10,\"\",6,\"\",8,\"\"],\n[\"e140\",\"\",4,\"\",6,\"\",5,\"\",5,\"\"],\n[\"e180\",\"\",10,\"\",9,\"\",8,\"\"],\n[\"e240\",\"\",62],\n[\"e280\",\"\",32,\"\",5,\"\"],\n[\"e340\",\"\",45,\"\",16],\n[\"e380\",\"\",7,\"\",24,\"\"],\n[\"e440\",\"\",5,\"\",24,\"\",31],\n[\"e480\",\"\",32,\"\"],\n[\"e540\",\"\",51,\"\",10],\n[\"e580\",\"\",31,\"\"],\n[\"e640\",\"\",34,\"\",27],\n[\"e680\",\"\",29,\"\"],\n[\"e740\",\"\",7,\"\",54],\n[\"e780\",\"\",32,\"\",6,\"\",4,\"\"],\n[\"e840\",\"\",14,\"\",43,\"\"],\n[\"e880\",\"\",20,\"\"],\n[\"e940\",\"\",7,\"\",42],\n[\"e980\",\"\",32,\"\"],\n[\"ea40\",\"\",27,\"\",6,\"\"],\n[\"ea80\",\"\",4,\"\",12,\"\"],\n[\"eb40\",\"\",9,\"\",7,\"\",9,\"\",6,\"\"],\n[\"eb80\",\"\",4,\"\"],\n[\"ec40\",\"\",8,\"\",4,\"\",18,\"\",7],\n[\"ec80\",\"\",4,\"\",7,\"\",4,\"\",4,\"\"],\n[\"ed40\",\"\",6,\"\",46],\n[\"ed80\",\"\",4,\"\",23,\"\"],\n[\"ee40\",\"\",62],\n[\"ee80\",\"\",32,\"\",4,\"\",6,\"\"],\n[\"ef40\",\"\",5,\"\",37,\"\",4],\n[\"ef80\",\"\",30,\"\",4,\"\",8,\"\"],\n[\"f040\",\"\",4,\"\",28,\"\",26],\n[\"f080\",\"\",9,\"\",12,\"\",4,\"\",6,\"\"],\n[\"f140\",\"\",10,\"\",47],\n[\"f180\",\"\",32,\"\"],\n[\"f240\",\"\",62],\n[\"f280\",\"\",32,\"\"],\n[\"f340\",\"\",17,\"\",6,\"\",4,\"\"],\n[\"f380\",\"\",8,\"\",6,\"\"],\n[\"f440\",\"\",5,\"\",10,\"\",10,\"\",7,\"\",5],\n[\"f480\",\"\",32,\"\"],\n[\"f540\",\"\",62],\n[\"f580\",\"\",32,\"\"],\n[\"f640\",\"\",62],\n[\"f680\",\"\",32,\"\",5,\"\",5,\"\",4,\"\",7,\"\"],\n[\"f740\",\"\",62],\n[\"f780\",\"\",4,\"\",4,\"\"],\n[\"f840\",\"\",62],\n[\"f880\",\"\",32],\n[\"f940\",\"\",62],\n[\"f980\",\"\",32],\n[\"fa40\",\"\",62],\n[\"fa80\",\"\",32],\n[\"fb40\",\"\",27,\"\",9,\"\"],\n[\"fb80\",\"\",5,\"\",8,\"\",5,\"\"],\n[\"fc40\",\"\",8,\"\",4,\"\",8,\"\",6],\n[\"fc80\",\"\",4,\"\",5,\"\",8,\"\"],\n[\"fd40\",\"\",4,\"\",4,\"\",10,\"\",38],\n[\"fd80\",\"\",5,\"\",11,\"\",4,\"\"],\n[\"fe40\",\"\"]\n]\n","[\n[\"a140\",\"\",62],\n[\"a180\",\"\",32],\n[\"a240\",\"\",62],\n[\"a280\",\"\",32],\n[\"a2ab\",\"\",5],\n[\"a2e3\",\"\"],\n[\"a2ef\",\"\"],\n[\"a2fd\",\"\"],\n[\"a340\",\"\",62],\n[\"a380\",\"\",31,\"\"],\n[\"a440\",\"\",62],\n[\"a480\",\"\",32],\n[\"a4f4\",\"\",10],\n[\"a540\",\"\",62],\n[\"a580\",\"\",32],\n[\"a5f7\",\"\",7],\n[\"a640\",\"\",62],\n[\"a680\",\"\",32],\n[\"a6b9\",\"\",7],\n[\"a6d9\",\"\",6],\n[\"a6ec\",\"\"],\n[\"a6f3\",\"\"],\n[\"a6f6\",\"\",8],\n[\"a740\",\"\",62],\n[\"a780\",\"\",32],\n[\"a7c2\",\"\",14],\n[\"a7f2\",\"\",12],\n[\"a896\",\"\",10],\n[\"a8bc\",\"\"],\n[\"a8bf\",\"\"],\n[\"a8c1\",\"\"],\n[\"a8ea\",\"\",20],\n[\"a958\",\"\"],\n[\"a95b\",\"\"],\n[\"a95d\",\"\"],\n[\"a989\",\"\",11],\n[\"a997\",\"\",12],\n[\"a9f0\",\"\",14],\n[\"aaa1\",\"\",93],\n[\"aba1\",\"\",93],\n[\"aca1\",\"\",93],\n[\"ada1\",\"\",93],\n[\"aea1\",\"\",93],\n[\"afa1\",\"\",93],\n[\"d7fa\",\"\",4],\n[\"f8a1\",\"\",93],\n[\"f9a1\",\"\",93],\n[\"faa1\",\"\",93],\n[\"fba1\",\"\",93],\n[\"fca1\",\"\",93],\n[\"fda1\",\"\",93],\n[\"fe50\",\"\"],\n[\"fe80\",\"\",6,\"\",93],\n[\"8135f437\",\"\"]\n]\n","{\"uChars\":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],\"gbChars\":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}","[\n[\"0\",\"\\u0000\",127],\n[\"8141\",\"\",4,\"\",6,\"\"],\n[\"8161\",\"\",9,\"\",5,\"\"],\n[\"8181\",\"\",18,\"\",4,\"\",6,\"\",5,\"\",6,\"\",7,\"\",7,\"\",4,\"\",4,\"\"],\n[\"8241\",\"\",7,\"\",5],\n[\"8261\",\"\",6,\"\",5,\"\"],\n[\"8281\",\"\",7,\"\",7,\"\",4,\"\",10,\"\",5,\"\",17,\"\",7,\"\",6,\"\",7,\"\",18],\n[\"8341\",\"\",5,\"\",5,\"\",7],\n[\"8361\",\"\",18,\"\"],\n[\"8381\",\"\",4,\"\",6,\"\",5,\"\",5,\"\",46,\"\",6,\"\",5,\"\",8],\n[\"8441\",\"\",5,\"\",8],\n[\"8461\",\"\",18],\n[\"8481\",\"\",7,\"\",6,\"\",5,\"\",10,\"\",5,\"\",18,\"\",5,\"\",6,\"\",5,\"\",26,\"\"],\n[\"8541\",\"\",5,\"\",4,\"\",6,\"\",4],\n[\"8561\",\"\",5,\"\",5,\"\",6,\"\"],\n[\"8581\",\"\",6,\"\",6,\"\",9,\"\",26,\"\",29,\"\",6,\"\",5,\"\"],\n[\"8641\",\"\",6,\"\",5,\"\"],\n[\"8661\",\"\",6,\"\",10],\n[\"8681\",\"\",22,\"\",4,\"\",6,\"\",5,\"\",6,\"\",22,\"\",4,\"\"],\n[\"8741\",\"\",9,\"\",15],\n[\"8761\",\"\",18,\"\"],\n[\"8781\",\"\",5,\"\",7,\"\",7,\"\",5,\"\",6,\"\",5,\"\",18,\"\",6,\"\",26,\"\",6,\"\",4],\n[\"8841\",\"\",4,\"\",5,\"\",6,\"\",4],\n[\"8861\",\"\",4,\"\"],\n[\"8881\",\"\",15,\"\",4,\"\",6,\"\",5,\"\",54,\"\"],\n[\"8941\",\"\",6,\"\",5,\"\"],\n[\"8961\",\"\",10,\"\",5,\"\"],\n[\"8981\",\"\",21,\"\",18,\"\",18,\"\",6,\"\",6,\"\",7,\"\",15],\n[\"8a41\",\"\",10,\"\",6,\"\"],\n[\"8a61\",\"\",4,\"\",18,\"\"],\n[\"8a81\",\"\",4,\"\",19,\"\",5,\"\",7,\"\",5,\"\",6,\"\",5,\"\",4,\"\",5,\"\",26,\"\"],\n[\"8b41\",\"\",5,\"\",4,\"\",6,\"\"],\n[\"8b61\",\"\",6,\"\",8],\n[\"8b81\",\"\",52,\"\",4,\"\",6,\"\",5,\"\",18,\"\",18],\n[\"8c41\",\"\",15,\"\",4],\n[\"8c61\",\"\",6,\"\",5,\"\",6,\"\",5],\n[\"8c81\",\"\",12,\"\",26,\"\",50,\"\",5,\"\",16],\n[\"8d41\",\"\",16,\"\",8],\n[\"8d61\",\"\",17,\"\"],\n[\"8d81\",\"\",4,\"\",33,\"\",6,\"\",7,\"\",6,\"\",9,\"\",6,\"\",5,\"\",6,\"\"],\n[\"8e41\",\"\",6,\"\",5,\"\",8],\n[\"8e61\",\"\",4,\"\",19],\n[\"8e81\",\"\",13,\"\",6,\"\",4,\"\",6,\"\",5,\"\",6,\"\",5,\"\",11,\"\",7,\"\",6,\"\",5,\"\",7],\n[\"8f41\",\"\",7,\"\",17],\n[\"8f61\",\"\",7,\"\",6,\"\",4],\n[\"8f81\",\"\",5,\"\",7,\"\",5,\"\",6,\"\",5,\"\",18,\"\",6,\"\",26,\"\",6,\"\",5],\n[\"9041\",\"\",6,\"\",5,\"\"],\n[\"9061\",\"\",5,\"\",15],\n[\"9081\",\"\",12,\"\",6,\"\",5,\"\",4,\"\",6,\"\",4,\"\",5,\"\",11,\"\",33,\"\"],\n[\"9141\",\"\",6,\"\",5],\n[\"9161\",\"\",9,\"\",5],\n[\"9181\",\"\",20,\"\",4,\"\",5,\"\",14,\"\",33,\"\",7,\"\",5,\"\",6],\n[\"9241\",\"\",7,\"\",4,\"\"],\n[\"9261\",\"\",7,\"\",7,\"\",4],\n[\"9281\",\"\",21,\"\",18,\"\",6,\"\",7,\"\",6,\"\",35,\"\"],\n[\"9341\",\"\",4,\"\"],\n[\"9361\",\"\",6,\"\",8],\n[\"9381\",\"\",37,\"\",4,\"\",4,\"\",6,\"\",5,\"\",7,\"\",22,\"\"],\n[\"9441\",\"\",5,\"\",5,\"\",8],\n[\"9461\",\"\",5,\"\",6,\"\",12],\n[\"9481\",\"\",5,\"\",6,\"\",6,\"\",9,\"\",22,\"\",4,\"\",6,\"\",10,\"\",6,\"\",24],\n[\"9541\",\"\",11,\"\",5,\"\"],\n[\"9561\",\"\",6,\"\",5,\"\"],\n[\"9581\",\"\",6,\"\",35,\"\",4,\"\",4,\"\",4,\"\",6,\"\",5,\"\",13,\"\",14],\n[\"9641\",\"\",23,\"\"],\n[\"9661\",\"\",6,\"\",5,\"\",8],\n[\"9681\",\"\",10,\"\",5,\"\",13,\"\",33,\"\",6,\"\",44],\n[\"9741\",\"\",16,\"\",8],\n[\"9761\",\"\",17,\"\",7],\n[\"9781\",\"\",11,\"\",5,\"\",6,\"\",89,\"\"],\n[\"9841\",\"\",16,\"\",5,\"\"],\n[\"9861\",\"\",6,\"\",15],\n[\"9881\",\"\",21,\"\",6,\"\",5,\"\",4,\"\",6,\"\",5,\"\",6,\"\",5,\"\",6,\"\",5,\"\"],\n[\"9941\",\"\",6,\"\",5,\"\"],\n[\"9961\",\"\",6,\"\",5,\"\"],\n[\"9981\",\"\",8,\"\",5,\"\",4,\"\",11,\"\",5,\"\",6,\"\",6,\"\",6,\"\",7,\"\",6,\"\",5,\"\"],\n[\"9a41\",\"\",16],\n[\"9a61\",\"\",6,\"\",6,\"\"],\n[\"9a81\",\"\",4,\"\",6,\"\",5,\"\",5,\"\",6,\"\",5,\"\",5,\"\",33,\"\",5,\"\",6,\"\"],\n[\"9b41\",\"\",6,\"\",8],\n[\"9b61\",\"\",17,\"\",7],\n[\"9b81\",\"\",25,\"\",4,\"\",5,\"\",50,\"\",22,\"\"],\n[\"9c41\",\"\",4,\"\",5,\"\",5],\n[\"9c61\",\"\",8,\"\",6,\"\",9],\n[\"9c81\",\"\",8,\"\",6,\"\",6,\"\",9,\"\",26,\"\",6,\"\",5,\"\",18,\"\",6,\"\",12],\n[\"9d41\",\"\",13,\"\",8],\n[\"9d61\",\"\",25],\n[\"9d81\",\"\",8,\"\",5,\"\",9,\"\",6,\"\",10,\"\",6,\"\",5,\"\",6,\"\",5,\"\"],\n[\"9e41\",\"\",7,\"\",9,\"\"],\n[\"9e61\",\"\",4,\"\",6,\"\"],\n[\"9e81\",\"\",6,\"\",6,\"\",6,\"\",5,\"\",10,\"\",5,\"\",6,\"\",5,\"\",6,\"\"],\n[\"9f41\",\"\",5,\"\",4,\"\",5,\"\"],\n[\"9f61\",\"\",6,\"\",5,\"\"],\n[\"9f81\",\"\",4,\"\",5,\"\",6,\"\",5,\"\",6,\"\",4,\"\",6,\"\",7,\"\",4,\"\",4,\"\"],\n[\"a041\",\"\",5,\"\",6,\"\"],\n[\"a061\",\"\",5,\"\",13],\n[\"a081\",\"\",4,\"\",4,\"\",4,\"\",6,\"\",5,\"\",6,\"\",5,\"\",26,\"\",4,\"\",5,\"\",7,\"\"],\n[\"a141\",\"\",18,\"\"],\n[\"a161\",\"\",6,\"\",5,\"\"],\n[\"a181\",\"\",14,\"\",5,\"\",4,\"\",9,\"\"],\n[\"a241\",\"\",5,\"\",18],\n[\"a261\",\"\",6,\"\",18],\n[\"a281\",\"\",7,\"\",6,\"\",7,\"\"],\n[\"a341\",\"\",6,\"\",10,\"\"],\n[\"a361\",\"\",6,\"\",16],\n[\"a381\",\"\",16,\"\",4,\"\",58,\"\",32,\"\"],\n[\"a441\",\"\",5,\"\"],\n[\"a461\",\"\",5,\"\",12],\n[\"a481\",\"\",28,\"\",93],\n[\"a541\",\"\",4,\"\",6,\"\",5,\"\"],\n[\"a561\",\"\",17,\"\",5,\"\"],\n[\"a581\",\"\",16,\"\",14,\"\",9],\n[\"a5b0\",\"\",9],\n[\"a5c1\",\"\",16,\"\",6],\n[\"a5e1\",\"\",16,\"\",6],\n[\"a641\",\"\",19,\"\"],\n[\"a661\",\"\",5,\"\",5,\"\",6],\n[\"a681\",\"\",6,\"\",18,\"\",7],\n[\"a741\",\"\",4,\"\",6,\"\",7],\n[\"a761\",\"\",22,\"\"],\n[\"a781\",\"\",6,\"\",5,\"\",7,\"\",9,\"\",9,\"\",4,\"\",5,\"\",4,\"\"],\n[\"a841\",\"\",10,\"\",14],\n[\"a861\",\"\",18,\"\",6],\n[\"a881\",\"\",19,\"\",11,\"\"],\n[\"a8a6\",\"\"],\n[\"a8a8\",\"\"],\n[\"a8b1\",\"\",27,\"\",25,\"\",14,\"\"],\n[\"a941\",\"\",14,\"\",10],\n[\"a961\",\"\",18],\n[\"a981\",\"\",14,\"\",6,\"\",27,\"\",25,\"\",14,\"\"],\n[\"aa41\",\"\",6,\"\",4,\"\"],\n[\"aa61\",\"\",4,\"\",5,\"\",6,\"\"],\n[\"aa81\",\"\",29,\"\",82],\n[\"ab41\",\"\",6,\"\",5,\"\"],\n[\"ab61\",\"\",6,\"\",5,\"\",5],\n[\"ab81\",\"\",8,\"\",6,\"\",12,\"\",85],\n[\"ac41\",\"\",5,\"\",6,\"\"],\n[\"ac61\",\"\",11,\"\",4],\n[\"ac81\",\"\",28,\"\",5,\"\",25],\n[\"acd1\",\"\",5,\"\",25],\n[\"ad41\",\"\",6,\"\",5,\"\",7],\n[\"ad61\",\"\",6,\"\",10,\"\"],\n[\"ad81\",\"\",5,\"\",18,\"\"],\n[\"ae41\",\"\",5,\"\",16],\n[\"ae61\",\"\",5,\"\",6,\"\",4],\n[\"ae81\",\"\",6,\"\",5,\"\"],\n[\"af41\",\"\",19],\n[\"af61\",\"\",13,\"\",5,\"\"],\n[\"af81\",\"\",5,\"\",6,\"\",5,\"\"],\n[\"b041\",\"\",5,\"\",5,\"\",12],\n[\"b061\",\"\",5,\"\",19],\n[\"b081\",\"\",13,\"\",6,\"\",5,\"\",7,\"\",4,\"\"],\n[\"b141\",\"\",6,\"\",5,\"\"],\n[\"b161\",\"\",6,\"\",5,\"\",11],\n[\"b181\",\"\",14,\"\",6,\"\"],\n[\"b241\",\"\",6,\"\",5,\"\"],\n[\"b261\",\"\",18,\"\",5,\"\"],\n[\"b281\",\"\",5,\"\",18,\"\",6,\"\"],\n[\"b341\",\"\",19,\"\"],\n[\"b361\",\"\",5,\"\",5,\"\",5],\n[\"b381\",\"\",5,\"\",5,\"\",19,\"\",4,\"\"],\n[\"b441\",\"\",5,\"\",6,\"\",5],\n[\"b461\",\"\",6,\"\",10,\"\"],\n[\"b481\",\"\",6,\"\",18,\"\",4,\"\",4,\"\"],\n[\"b541\",\"\",14,\"\",5],\n[\"b561\",\"\",5,\"\",5,\"\",4],\n[\"b581\",\"\",6,\"\",5,\"\",11,\"\"],\n[\"b641\",\"\",7,\"\",17],\n[\"b661\",\"\",15,\"\"],\n[\"b681\",\"\",5,\"\",6,\"\",5,\"\"],\n[\"b741\",\"\",13,\"\",6,\"\"],\n[\"b761\",\"\",20,\"\"],\n[\"b781\",\"\",6,\"\",14,\"\"],\n[\"b841\",\"\",7,\"\",17],\n[\"b861\",\"\",8,\"\",13],\n[\"b881\",\"\",5,\"\",24,\"\",4,\"\"],\n[\"b941\",\"\",6,\"\",5,\"\"],\n[\"b961\",\"\",14,\"\",6,\"\"],\n[\"b981\",\"\",22,\"\",4,\"\",4,\"\"],\n[\"ba41\",\"\",5,\"\",6,\"\"],\n[\"ba61\",\"\",5,\"\",4,\"\",5],\n[\"ba81\",\"\",6,\"\",9,\"\"],\n[\"bb41\",\"\",4,\"\",5,\"\",4,\"\"],\n[\"bb61\",\"\",6,\"\",5,\"\"],\n[\"bb81\",\"\",31,\"\"],\n[\"bc41\",\"\",17,\"\"],\n[\"bc61\",\"\",5,\"\",6,\"\"],\n[\"bc81\",\"\",4,\"\",6,\"\",5,\"\",5,\"\",4,\"\"],\n[\"bd41\",\"\",7,\"\",7,\"\"],\n[\"bd61\",\"\",5,\"\",13],\n[\"bd81\",\"\",5,\"\",25,\"\"],\n[\"be41\",\"\",7,\"\",14],\n[\"be61\",\"\",7,\"\",7,\"\"],\n[\"be81\",\"\",4,\"\",4,\"\",5,\"\",8,\"\",6,\"\"],\n[\"bf41\",\"\",10,\"\",14],\n[\"bf61\",\"\",18,\"\"],\n[\"bf81\",\"\",5,\"\",7,\"\",6,\"\",5,\"\"],\n[\"c041\",\"\",5,\"\",6,\"\",5],\n[\"c061\",\"\",25],\n[\"c081\",\"\",6,\"\",5,\"\",7,\"\"],\n[\"c141\",\"\",5,\"\",6,\"\"],\n[\"c161\",\"\",19,\"\"],\n[\"c181\",\"\",31,\"\"],\n[\"c241\",\"\",4,\"\",5,\"\"],\n[\"c261\",\"\",4,\"\",5,\"\",6,\"\"],\n[\"c281\",\"\",5,\"\",7,\"\",9,\"\"],\n[\"c341\",\"\",4],\n[\"c361\",\"\",4,\"\",5,\"\",11],\n[\"c381\",\"\",5,\"\",7,\"\",5,\"\"],\n[\"c441\",\"\",7,\"\",7,\"\"],\n[\"c461\",\"\",5,\"\",4],\n[\"c481\",\"\",5,\"\",11,\"\"],\n[\"c541\",\"\",6,\"\",5,\"\"],\n[\"c561\",\"\",6,\"\",5,\"\",4],\n[\"c581\",\"\",6,\"\",5,\"\"],\n[\"c641\",\"\",6,\"\",5],\n[\"c6a1\",\"\"],\n[\"c7a1\",\"\"],\n[\"c8a1\",\"\"],\n[\"caa1\",\"\"],\n[\"cba1\",\"\"],\n[\"cca1\",\"\"],\n[\"cda1\",\"\"],\n[\"cea1\",\"\"],\n[\"cfa1\",\"\"],\n[\"d0a1\",\"\"],\n[\"d1a1\",\"\",5,\"\",4,\"\"],\n[\"d2a1\",\"\",4,\"\",5,\"\",10,\"\",7,\"\",5,\"\"],\n[\"d3a1\",\"\"],\n[\"d4a1\",\"\"],\n[\"d5a1\",\"\"],\n[\"d6a1\",\"\"],\n[\"d7a1\",\"\"],\n[\"d8a1\",\"\"],\n[\"d9a1\",\"\"],\n[\"daa1\",\"\"],\n[\"dba1\",\"\"],\n[\"dca1\",\"\"],\n[\"dda1\",\"\"],\n[\"dea1\",\"\"],\n[\"dfa1\",\"\"],\n[\"e0a1\",\"\"],\n[\"e1a1\",\"\"],\n[\"e2a1\",\"\"],\n[\"e3a1\",\"\"],\n[\"e4a1\",\"\"],\n[\"e5a1\",\"\"],\n[\"e6a1\",\"\"],\n[\"e7a1\",\"\"],\n[\"e8a1\",\"\"],\n[\"e9a1\",\"\"],\n[\"eaa1\",\"\"],\n[\"eba1\",\"\"],\n[\"eca1\",\"\"],\n[\"eda1\",\"\"],\n[\"eea1\",\"\"],\n[\"efa1\",\"\"],\n[\"f0a1\",\"\"],\n[\"f1a1\",\"\"],\n[\"f2a1\",\"\"],\n[\"f3a1\",\"\"],\n[\"f4a1\",\"\"],\n[\"f5a1\",\"\"],\n[\"f6a1\",\"\"],\n[\"f7a1\",\"\"],\n[\"f8a1\",\"\"],\n[\"f9a1\",\"\"],\n[\"faa1\",\"\"],\n[\"fba1\",\"\"],\n[\"fca1\",\"\"],\n[\"fda1\",\"\"]\n]\n","[\n[\"0\",\"\\u0000\",127],\n[\"a140\",\"\"],\n[\"a1a1\",\"\",4,\"\"],\n[\"a240\",\"\",7,\"\"],\n[\"a2a1\",\"\",9,\"\",9,\"\",8,\"\",25,\"\",21],\n[\"a340\",\"\",16,\"\",6,\"\",16,\"\",6,\"\",10],\n[\"a3a1\",\"\",25,\"\"],\n[\"a3e1\",\"\"],\n[\"a440\",\"\"],\n[\"a4a1\",\"\"],\n[\"a540\",\"\"],\n[\"a5a1\",\"\"],\n[\"a640\",\"\"],\n[\"a6a1\",\"\"],\n[\"a740\",\"\"],\n[\"a7a1\",\"\"],\n[\"a840\",\"\"],\n[\"a8a1\",\"\"],\n[\"a940\",\"\"],\n[\"a9a1\",\"\"],\n[\"aa40\",\"\"],\n[\"aaa1\",\"\"],\n[\"ab40\",\"\"],\n[\"aba1\",\"\"],\n[\"ac40\",\"\"],\n[\"aca1\",\"\"],\n[\"ad40\",\"\"],\n[\"ada1\",\"\"],\n[\"ae40\",\"\"],\n[\"aea1\",\"\"],\n[\"af40\",\"\"],\n[\"afa1\",\"\"],\n[\"b040\",\"\"],\n[\"b0a1\",\"\"],\n[\"b140\",\"\"],\n[\"b1a1\",\"\"],\n[\"b240\",\"\"],\n[\"b2a1\",\"\"],\n[\"b340\",\"\"],\n[\"b3a1\",\"\"],\n[\"b440\",\"\"],\n[\"b4a1\",\"\"],\n[\"b540\",\"\"],\n[\"b5a1\",\"\"],\n[\"b640\",\"\"],\n[\"b6a1\",\"\"],\n[\"b740\",\"\"],\n[\"b7a1\",\"\"],\n[\"b840\",\"\"],\n[\"b8a1\",\"\"],\n[\"b940\",\"\"],\n[\"b9a1\",\"\"],\n[\"ba40\",\"\"],\n[\"baa1\",\"\"],\n[\"bb40\",\"\"],\n[\"bba1\",\"\"],\n[\"bc40\",\"\"],\n[\"bca1\",\"\"],\n[\"bd40\",\"\"],\n[\"bda1\",\"\"],\n[\"be40\",\"\"],\n[\"bea1\",\"\"],\n[\"bf40\",\"\"],\n[\"bfa1\",\"\"],\n[\"c040\",\"\"],\n[\"c0a1\",\"\"],\n[\"c140\",\"\"],\n[\"c1a1\",\"\"],\n[\"c240\",\"\"],\n[\"c2a1\",\"\"],\n[\"c340\",\"\"],\n[\"c3a1\",\"\"],\n[\"c440\",\"\"],\n[\"c4a1\",\"\"],\n[\"c540\",\"\"],\n[\"c5a1\",\"\"],\n[\"c640\",\"\"],\n[\"c940\",\"\"],\n[\"c9a1\",\"\"],\n[\"ca40\",\"\"],\n[\"caa1\",\"\"],\n[\"cb40\",\"\"],\n[\"cba1\",\"\"],\n[\"cc40\",\"\"],\n[\"cca1\",\"\"],\n[\"cd40\",\"\"],\n[\"cda1\",\"\"],\n[\"ce40\",\"\"],\n[\"cea1\",\"\"],\n[\"cf40\",\"\"],\n[\"cfa1\",\"\"],\n[\"d040\",\"\"],\n[\"d0a1\",\"\"],\n[\"d140\",\"\"],\n[\"d1a1\",\"\"],\n[\"d240\",\"\"],\n[\"d2a1\",\"\"],\n[\"d340\",\"\"],\n[\"d3a1\",\"\"],\n[\"d440\",\"\"],\n[\"d4a1\",\"\"],\n[\"d540\",\"\"],\n[\"d5a1\",\"\"],\n[\"d640\",\"\"],\n[\"d6a1\",\"\"],\n[\"d740\",\"\"],\n[\"d7a1\",\"\"],\n[\"d840\",\"\"],\n[\"d8a1\",\"\"],\n[\"d940\",\"\"],\n[\"d9a1\",\"\"],\n[\"da40\",\"\"],\n[\"daa1\",\"\"],\n[\"db40\",\"\"],\n[\"dba1\",\"\"],\n[\"dc40\",\"\"],\n[\"dca1\",\"\"],\n[\"dd40\",\"\"],\n[\"dda1\",\"\"],\n[\"de40\",\"\"],\n[\"dea1\",\"\"],\n[\"df40\",\"\"],\n[\"dfa1\",\"\"],\n[\"e040\",\"\"],\n[\"e0a1\",\"\"],\n[\"e140\",\"\"],\n[\"e1a1\",\"\"],\n[\"e240\",\"\"],\n[\"e2a1\",\"\"],\n[\"e340\",\"\"],\n[\"e3a1\",\"\"],\n[\"e440\",\"\"],\n[\"e4a1\",\"\"],\n[\"e540\",\"\"],\n[\"e5a1\",\"\"],\n[\"e640\",\"\"],\n[\"e6a1\",\"\"],\n[\"e740\",\"\"],\n[\"e7a1\",\"\"],\n[\"e840\",\"\"],\n[\"e8a1\",\"\"],\n[\"e940\",\"\"],\n[\"e9a1\",\"\"],\n[\"ea40\",\"\"],\n[\"eaa1\",\"\"],\n[\"eb40\",\"\"],\n[\"eba1\",\"\"],\n[\"ec40\",\"\"],\n[\"eca1\",\"\"],\n[\"ed40\",\"\"],\n[\"eda1\",\"\"],\n[\"ee40\",\"\"],\n[\"eea1\",\"\"],\n[\"ef40\",\"\"],\n[\"efa1\",\"\"],\n[\"f040\",\"\"],\n[\"f0a1\",\"\"],\n[\"f140\",\"\"],\n[\"f1a1\",\"\"],\n[\"f240\",\"\"],\n[\"f2a1\",\"\"],\n[\"f340\",\"\"],\n[\"f3a1\",\"\"],\n[\"f440\",\"\"],\n[\"f4a1\",\"\"],\n[\"f540\",\"\"],\n[\"f5a1\",\"\"],\n[\"f640\",\"\"],\n[\"f6a1\",\"\"],\n[\"f740\",\"\"],\n[\"f7a1\",\"\"],\n[\"f840\",\"\"],\n[\"f8a1\",\"\"],\n[\"f940\",\"\"],\n[\"f9a1\",\"\"]\n]\n","[\n[\"8740\",\"\"],\n[\"8767\",\"\"],\n[\"87a1\",\"\"],\n[\"8840\",\"\",4,\"\"],\n[\"88a1\",\"\"],\n[\"8940\",\"\"],\n[\"8943\",\"\"],\n[\"8946\",\"\"],\n[\"894c\",\"\"],\n[\"89a1\",\"\"],\n[\"89ab\",\"\"],\n[\"89b0\",\"\"],\n[\"89b5\",\"\"],\n[\"89c1\",\"\"],\n[\"89c5\",\"\"],\n[\"8a40\",\"\"],\n[\"8a43\",\"\"],\n[\"8a64\",\"\"],\n[\"8a76\",\"\"],\n[\"8aa1\",\"\"],\n[\"8aac\",\"\"],\n[\"8ab2\",\"\"],\n[\"8abb\",\"\"],\n[\"8ac9\",\"\"],\n[\"8ace\",\"\"],\n[\"8adf\",\"\"],\n[\"8af6\",\"\"],\n[\"8b40\",\"\"],\n[\"8b55\",\"\"],\n[\"8ba1\",\"\"],\n[\"8bde\",\"\"],\n[\"8c40\",\"\"],\n[\"8ca1\",\"\"],\n[\"8ca7\",\"\"],\n[\"8cc9\",\"\"],\n[\"8cce\",\"\"],\n[\"8ce6\",\"\"],\n[\"8d40\",\"\"],\n[\"8d42\",\"\"],\n[\"8da1\",\"\"],\n[\"8e40\",\"\"],\n[\"8ea1\",\"\"],\n[\"8f40\",\"\"],\n[\"8fa1\",\"\"],\n[\"9040\",\"\"],\n[\"90a1\",\"\"],\n[\"9140\",\"\"],\n[\"91a1\",\"\"],\n[\"9240\",\"\"],\n[\"92a1\",\"\"],\n[\"9340\",\"\"],\n[\"93a1\",\"\"],\n[\"9440\",\"\"],\n[\"94a1\",\"\"],\n[\"9540\",\"\"],\n[\"95a1\",\"\"],\n[\"9640\",\"\"],\n[\"96a1\",\"\"],\n[\"9740\",\"\"],\n[\"97a1\",\"\"],\n[\"9840\",\"\"],\n[\"98a1\",\"\"],\n[\"9940\",\"\"],\n[\"99a1\",\"\"],\n[\"9a40\",\"\"],\n[\"9aa1\",\"\"],\n[\"9b40\",\"\"],\n[\"9b62\",\"\"],\n[\"9ba1\",\"\"],\n[\"9c40\",\"\"],\n[\"9ca1\",\"\"],\n[\"9d40\",\"\"],\n[\"9da1\",\"\"],\n[\"9e40\",\"\"],\n[\"9ea1\",\"\"],\n[\"9ead\",\"\"],\n[\"9ec5\",\"\"],\n[\"9ef5\",\"\"],\n[\"9f40\",\"\"],\n[\"9f4f\",\"\"],\n[\"9fa1\",\"\"],\n[\"9fae\",\"\"],\n[\"9fb2\",\"\"],\n[\"9fc1\",\"\"],\n[\"9fc9\",\"\"],\n[\"9fdb\",\"\"],\n[\"9fe7\",\"\"],\n[\"9feb\",\"\"],\n[\"9ff0\",\"\"],\n[\"a040\",\"\"],\n[\"a055\",\"\"],\n[\"a058\",\"\"],\n[\"a05b\",\"\"],\n[\"a063\",\"\"],\n[\"a073\",\"\"],\n[\"a0a1\",\"\"],\n[\"a0a6\",\"\"],\n[\"a0ae\",\"\"],\n[\"a0b0\",\"\"],\n[\"a0d4\",\"\"],\n[\"a0e2\",\"\"],\n[\"a3c0\",\"\",31,\"\"],\n[\"c6a1\",\"\",9,\"\",9,\"\",9,\"\",23],\n[\"c740\",\"\",58,\"\"],\n[\"c7a1\",\"\",81,\"\",5,\"\",4],\n[\"c840\",\"\",26,\"\",25,\"\"],\n[\"c8a1\",\"\"],\n[\"c8cd\",\"\"],\n[\"c8f5\",\"\"],\n[\"f9fe\",\"\"],\n[\"fa40\",\"\"],\n[\"faa1\",\"\"],\n[\"fb40\",\"\"],\n[\"fba1\",\"\"],\n[\"fc40\",\"\"],\n[\"fca1\",\"\"],\n[\"fd40\",\"\"],\n[\"fda1\",\"\"],\n[\"fe40\",\"\"],\n[\"fea1\",\"\"]\n]\n","\"use strict\"\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n\n  // == Japanese/ShiftJIS ====================================================\n  // All japanese encodings are based on JIS X set of standards:\n  // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n  // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes.\n  //              Has several variations in 1978, 1983, 1990 and 1997.\n  // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n  // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n  //              2 planes, first is superset of 0208, second - revised 0212.\n  //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n  // Byte encodings are:\n  //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n  //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n  //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n  //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n  //               0x00-0x7F       - lower part of 0201\n  //               0x8E, 0xA1-0xDF - upper part of 0201\n  //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n  //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n  //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n  //               Used as-is in ISO2022 family.\n  //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII,\n  //                0201-1976 Roman, 0208-1978, 0208-1983.\n  //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n  //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n  //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n  //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n  //\n  // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n  //\n  // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n  shiftjis: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/shiftjis.json\") },\n    encodeAdd: { \"\\u00a5\": 0x5C, \"\\u203E\": 0x7E },\n    encodeSkipVals: [{ from: 0xED40, to: 0xF940 }]\n  },\n  csshiftjis: \"shiftjis\",\n  mskanji: \"shiftjis\",\n  sjis: \"shiftjis\",\n  windows31j: \"shiftjis\",\n  ms31j: \"shiftjis\",\n  xsjis: \"shiftjis\",\n  windows932: \"shiftjis\",\n  ms932: \"shiftjis\",\n  932: \"shiftjis\",\n  cp932: \"shiftjis\",\n\n  eucjp: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/eucjp.json\") },\n    encodeAdd: { \"\\u00a5\": 0x5C, \"\\u203E\": 0x7E }\n  },\n\n  // TODO: KDDI extension to Shift_JIS\n  // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n  // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n  // == Chinese/GBK ==========================================================\n  // http://en.wikipedia.org/wiki/GBK\n  // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n  // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n  gb2312: \"cp936\",\n  gb231280: \"cp936\",\n  gb23121980: \"cp936\",\n  csgb2312: \"cp936\",\n  csiso58gb231280: \"cp936\",\n  euccn: \"cp936\",\n\n  // Microsoft's CP936 is a subset and approximation of GBK.\n  windows936: \"cp936\",\n  ms936: \"cp936\",\n  936: \"cp936\",\n  cp936: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/cp936.json\") }\n  },\n\n  // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n  gbk: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/cp936.json\").concat(require(\"./tables/gbk-added.json\")) }\n  },\n  xgbk: \"gbk\",\n  isoir58: \"gbk\",\n\n  // GB18030 is an algorithmic extension of GBK.\n  // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n  // http://icu-project.org/docs/papers/gb18030.html\n  // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n  // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n  gb18030: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/cp936.json\").concat(require(\"./tables/gbk-added.json\")) },\n    gb18030: function () { return require(\"./tables/gb18030-ranges.json\") },\n    encodeSkipVals: [0x80],\n    encodeAdd: { \"\": 0xA2E3 }\n  },\n\n  chinese: \"gb18030\",\n\n  // == Korean ===============================================================\n  // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n  windows949: \"cp949\",\n  ms949: \"cp949\",\n  949: \"cp949\",\n  cp949: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/cp949.json\") }\n  },\n\n  cseuckr: \"cp949\",\n  csksc56011987: \"cp949\",\n  euckr: \"cp949\",\n  isoir149: \"cp949\",\n  korean: \"cp949\",\n  ksc56011987: \"cp949\",\n  ksc56011989: \"cp949\",\n  ksc5601: \"cp949\",\n\n  // == Big5/Taiwan/Hong Kong ================================================\n  // There are lots of tables for Big5 and cp950. Please see the following links for history:\n  // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n  // Variations, in roughly number of defined chars:\n  //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n  //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n  //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n  //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n  //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard.\n  //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n  //    Plus, it has 4 combining sequences.\n  //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n  //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n  //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n  //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n  //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n  //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n  //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n  //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n  //\n  // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n  // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n  windows950: \"cp950\",\n  ms950: \"cp950\",\n  950: \"cp950\",\n  cp950: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/cp950.json\") }\n  },\n\n  // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n  big5: \"big5hkscs\",\n  big5hkscs: {\n    type: \"_dbcs\",\n    table: function () { return require(\"./tables/cp950.json\").concat(require(\"./tables/big5-added.json\")) },\n    encodeSkipVals: [\n      // Although Encoding Standard says we should avoid encoding to HKSCS area (See Step 1 of\n      // https://encoding.spec.whatwg.org/#index-big5-pointer), we still do it to increase compatibility with ICU.\n      // But if a single unicode point can be encoded both as HKSCS and regular Big5, we prefer the latter.\n      0x8e69, 0x8e6f, 0x8e7e, 0x8eab, 0x8eb4, 0x8ecd, 0x8ed0, 0x8f57, 0x8f69, 0x8f6e, 0x8fcb, 0x8ffe,\n      0x906d, 0x907a, 0x90c4, 0x90dc, 0x90f1, 0x91bf, 0x92af, 0x92b0, 0x92b1, 0x92b2, 0x92d1, 0x9447, 0x94ca,\n      0x95d9, 0x96fc, 0x9975, 0x9b76, 0x9b78, 0x9b7b, 0x9bc6, 0x9bde, 0x9bec, 0x9bf6, 0x9c42, 0x9c53, 0x9c62,\n      0x9c68, 0x9c6b, 0x9c77, 0x9cbc, 0x9cbd, 0x9cd0, 0x9d57, 0x9d5a, 0x9dc4, 0x9def, 0x9dfb, 0x9ea9, 0x9eef,\n      0x9efd, 0x9f60, 0x9fcb, 0xa077, 0xa0dc, 0xa0df, 0x8fcc, 0x92c8, 0x9644, 0x96ed,\n\n      // Step 2 of https://encoding.spec.whatwg.org/#index-big5-pointer: Use last pointer for U+2550, U+255E, U+2561, U+256A, U+5341, or U+5345\n      0xa2a4, 0xa2a5, 0xa2a7, 0xa2a6, 0xa2cc, 0xa2ce\n    ]\n  },\n\n  cnbig5: \"big5hkscs\",\n  csbig5: \"big5hkscs\",\n  xxbig5: \"big5hkscs\"\n}\n","\"use strict\"\n\nvar mergeModules = require(\"../lib/helpers/merge-exports\")\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n  require(\"./internal\"),\n  require(\"./utf32\"),\n  require(\"./utf16\"),\n  require(\"./utf7\"),\n  require(\"./sbcs-codec\"),\n  require(\"./sbcs-data\"),\n  require(\"./sbcs-data-generated\"),\n  require(\"./dbcs-codec\"),\n  require(\"./dbcs-data\")\n]\n\n// Put all encoding/alias/codec definitions to single object and export it.\nfor (var i = 0; i < modules.length; i++) {\n  var module = modules[i]\n  mergeModules(exports, module)\n}\n","\"use strict\"\n\nvar Buffer = require(\"safer-buffer\").Buffer\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments),\n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function (streamModule) {\n  var Transform = streamModule.Transform\n\n  // == Encoder stream =======================================================\n\n  function IconvLiteEncoderStream (conv, options) {\n    this.conv = conv\n    options = options || {}\n    options.decodeStrings = false // We accept only strings, so we don't need to decode them.\n    Transform.call(this, options)\n  }\n\n  IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteEncoderStream }\n  })\n\n  IconvLiteEncoderStream.prototype._transform = function (chunk, encoding, done) {\n    if (typeof chunk !== \"string\") {\n      return done(new Error(\"Iconv encoding stream needs strings as its input.\"))\n    }\n\n    try {\n      var res = this.conv.write(chunk)\n      if (res && res.length) this.push(res)\n      done()\n    } catch (e) {\n      done(e)\n    }\n  }\n\n  IconvLiteEncoderStream.prototype._flush = function (done) {\n    try {\n      var res = this.conv.end()\n      if (res && res.length) this.push(res)\n      done()\n    } catch (e) {\n      done(e)\n    }\n  }\n\n  IconvLiteEncoderStream.prototype.collect = function (cb) {\n    var chunks = []\n    this.on(\"error\", cb)\n    this.on(\"data\", function (chunk) { chunks.push(chunk) })\n    this.on(\"end\", function () {\n      cb(null, Buffer.concat(chunks))\n    })\n    return this\n  }\n\n  // == Decoder stream =======================================================\n\n  function IconvLiteDecoderStream (conv, options) {\n    this.conv = conv\n    options = options || {}\n    options.encoding = this.encoding = \"utf8\" // We output strings.\n    Transform.call(this, options)\n  }\n\n  IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteDecoderStream }\n  })\n\n  IconvLiteDecoderStream.prototype._transform = function (chunk, encoding, done) {\n    if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array)) { return done(new Error(\"Iconv decoding stream needs buffers as its input.\")) }\n    try {\n      var res = this.conv.write(chunk)\n      if (res && res.length) this.push(res, this.encoding)\n      done()\n    } catch (e) {\n      done(e)\n    }\n  }\n\n  IconvLiteDecoderStream.prototype._flush = function (done) {\n    try {\n      var res = this.conv.end()\n      if (res && res.length) this.push(res, this.encoding)\n      done()\n    } catch (e) {\n      done(e)\n    }\n  }\n\n  IconvLiteDecoderStream.prototype.collect = function (cb) {\n    var res = \"\"\n    this.on(\"error\", cb)\n    this.on(\"data\", function (chunk) { res += chunk })\n    this.on(\"end\", function () {\n      cb(null, res)\n    })\n    return this\n  }\n\n  return {\n    IconvLiteEncoderStream: IconvLiteEncoderStream,\n    IconvLiteDecoderStream: IconvLiteDecoderStream\n  }\n}\n","\"use strict\"\n\nvar Buffer = require(\"safer-buffer\").Buffer\n\nvar bomHandling = require(\"./bom-handling\")\nvar mergeModules = require(\"./helpers/merge-exports\")\nvar iconv = module.exports\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\n// Cannot initialize with { __proto__: null } because Boolean({ __proto__: null }) === true\niconv.encodings = null\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = \"\"\niconv.defaultCharSingleByte = \"?\"\n\n// Public API.\niconv.encode = function encode (str, encoding, options) {\n  str = \"\" + (str || \"\") // Ensure string.\n\n  var encoder = iconv.getEncoder(encoding, options)\n\n  var res = encoder.write(str)\n  var trail = encoder.end()\n\n  return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res\n}\n\niconv.decode = function decode (buf, encoding, options) {\n  if (typeof buf === \"string\") {\n    if (!iconv.skipDecodeWarning) {\n      console.error(\"Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding\")\n      iconv.skipDecodeWarning = true\n    }\n\n    buf = Buffer.from(\"\" + (buf || \"\"), \"binary\") // Ensure buffer.\n  }\n\n  var decoder = iconv.getDecoder(encoding, options)\n\n  var res = decoder.write(buf)\n  var trail = decoder.end()\n\n  return trail ? (res + trail) : res\n}\n\niconv.encodingExists = function encodingExists (enc) {\n  try {\n    iconv.getCodec(enc)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode\niconv.fromEncoding = iconv.decode\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = { __proto__: null }\n\niconv.getCodec = function getCodec (encoding) {\n  if (!iconv.encodings) {\n    var raw = require(\"../encodings\")\n    // TODO: In future versions when old nodejs support is removed can use object.assign\n    iconv.encodings = { __proto__: null } // Initialize as empty object.\n    mergeModules(iconv.encodings, raw)\n  }\n\n  // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n  var enc = iconv._canonicalizeEncoding(encoding)\n\n  // Traverse iconv.encodings to find actual codec.\n  var codecOptions = {}\n  while (true) {\n    var codec = iconv._codecDataCache[enc]\n\n    if (codec) { return codec }\n\n    var codecDef = iconv.encodings[enc]\n\n    switch (typeof codecDef) {\n      case \"string\": // Direct alias to other encoding.\n        enc = codecDef\n        break\n\n      case \"object\": // Alias with options. Can be layered.\n        for (var key in codecDef) { codecOptions[key] = codecDef[key] }\n\n        if (!codecOptions.encodingName) { codecOptions.encodingName = enc }\n\n        enc = codecDef.type\n        break\n\n      case \"function\": // Codec itself.\n        if (!codecOptions.encodingName) { codecOptions.encodingName = enc }\n\n        // The codec function must load all tables and return object with .encoder and .decoder methods.\n        // It'll be called only once (for each different options object).\n        //\n        codec = new codecDef(codecOptions, iconv)\n\n        iconv._codecDataCache[codecOptions.encodingName] = codec // Save it to be reused later.\n        return codec\n\n      default:\n        throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\" + enc + \"')\")\n    }\n  }\n}\n\niconv._canonicalizeEncoding = function (encoding) {\n  // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n  return (\"\" + encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\")\n}\n\niconv.getEncoder = function getEncoder (encoding, options) {\n  var codec = iconv.getCodec(encoding)\n  var encoder = new codec.encoder(options, codec)\n\n  if (codec.bomAware && options && options.addBOM) { encoder = new bomHandling.PrependBOM(encoder, options) }\n\n  return encoder\n}\n\niconv.getDecoder = function getDecoder (encoding, options) {\n  var codec = iconv.getCodec(encoding)\n  var decoder = new codec.decoder(options, codec)\n\n  if (codec.bomAware && !(options && options.stripBOM === false)) { decoder = new bomHandling.StripBOM(decoder, options) }\n\n  return decoder\n}\n\n// Streaming API\n// NOTE: Streaming API naturally depends on 'stream' module from Node.js. Unfortunately in browser environments this module can add\n// up to 100Kb to the output bundle. To avoid unnecessary code bloat, we don't enable Streaming API in browser by default.\n// If you would like to enable it explicitly, please add the following code to your app:\n// > iconv.enableStreamingAPI(require('stream'));\niconv.enableStreamingAPI = function enableStreamingAPI (streamModule) {\n  if (iconv.supportsStreams) { return }\n\n  // Dependency-inject stream module to create IconvLite stream classes.\n  var streams = require(\"./streams\")(streamModule)\n\n  // Not public API yet, but expose the stream classes.\n  iconv.IconvLiteEncoderStream = streams.IconvLiteEncoderStream\n  iconv.IconvLiteDecoderStream = streams.IconvLiteDecoderStream\n\n  // Streaming API.\n  iconv.encodeStream = function encodeStream (encoding, options) {\n    return new iconv.IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options)\n  }\n\n  iconv.decodeStream = function decodeStream (encoding, options) {\n    return new iconv.IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options)\n  }\n\n  iconv.supportsStreams = true\n}\n\n// Enable Streaming API automatically if 'stream' module is available and non-empty (the majority of environments).\nvar streamModule\ntry {\n  streamModule = require(\"stream\")\n} catch (e) {}\n\nif (streamModule && streamModule.Transform) {\n  iconv.enableStreamingAPI(streamModule)\n} else {\n  // In rare cases where 'stream' module is not available by default, throw a helpful exception.\n  iconv.encodeStream = iconv.decodeStream = function () {\n    throw new Error(\"iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.\")\n  }\n}\n\n// Some environments, such as browsers, may not load JavaScript files as UTF-8\n// eslint-disable-next-line no-constant-condition\nif (\"\" !== \"\\u0100\") {\n  console.error(\"iconv-lite warning: js files use non-utf8 encoding. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\")\n}\n","/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = unpipe\n\n/**\n * Determine if there are Node.js pipe-like data listeners.\n * @private\n */\n\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data')\n\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Unpipe a stream from all destinations.\n *\n * @param {object} stream\n * @public\n */\n\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required')\n  }\n\n  if (typeof stream.unpipe === 'function') {\n    // new-style\n    stream.unpipe()\n    return\n  }\n\n  // Node.js 0.8 hack\n  if (!hasPipeDataListeners(stream)) {\n    return\n  }\n\n  var listener\n  var listeners = stream.listeners('close')\n\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i]\n\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue\n    }\n\n    // invoke the listener\n    listener.call(stream)\n  }\n}\n","/*!\n * raw-body\n * Copyright(c) 2013-2014 Jonathan Ong\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar bytes = require('bytes')\nvar createError = require('http-errors')\nvar iconv = require('iconv-lite')\nvar unpipe = require('unpipe')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getRawBody\n\n/**\n * Module variables.\n * @private\n */\n\nvar ICONV_ENCODING_MESSAGE_REGEXP = /^Encoding not recognized: /\n\n/**\n * Get the decoder for a given encoding.\n *\n * @param {string} encoding\n * @private\n */\n\nfunction getDecoder (encoding) {\n  if (!encoding) return null\n\n  try {\n    return iconv.getDecoder(encoding)\n  } catch (e) {\n    // error getting decoder\n    if (!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message)) throw e\n\n    // the encoding was not found\n    throw createError(415, 'specified encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n}\n\n/**\n * Get the raw body of a stream (typically HTTP).\n *\n * @param {object} stream\n * @param {object|string|function} [options]\n * @param {function} [callback]\n * @public\n */\n\nfunction getRawBody (stream, options, callback) {\n  var done = callback\n  var opts = options || {}\n\n  // light validation\n  if (stream === undefined) {\n    throw new TypeError('argument stream is required')\n  } else if (typeof stream !== 'object' || stream === null || typeof stream.on !== 'function') {\n    throw new TypeError('argument stream must be a stream')\n  }\n\n  if (options === true || typeof options === 'string') {\n    // short cut for encoding\n    opts = {\n      encoding: options\n    }\n  }\n\n  if (typeof options === 'function') {\n    done = options\n    opts = {}\n  }\n\n  // validate callback is a function, if provided\n  if (done !== undefined && typeof done !== 'function') {\n    throw new TypeError('argument callback must be a function')\n  }\n\n  // require the callback without promises\n  if (!done && !global.Promise) {\n    throw new TypeError('argument callback is required')\n  }\n\n  // get encoding\n  var encoding = opts.encoding !== true\n    ? opts.encoding\n    : 'utf-8'\n\n  // convert the limit to an integer\n  var limit = bytes.parse(opts.limit)\n\n  // convert the expected length to an integer\n  var length = opts.length != null && !isNaN(opts.length)\n    ? parseInt(opts.length, 10)\n    : null\n\n  if (done) {\n    // classic callback style\n    return readStream(stream, encoding, length, limit, wrap(done))\n  }\n\n  return new Promise(function executor (resolve, reject) {\n    readStream(stream, encoding, length, limit, function onRead (err, buf) {\n      if (err) return reject(err)\n      resolve(buf)\n    })\n  })\n}\n\n/**\n * Halt a stream.\n *\n * @param {Object} stream\n * @private\n */\n\nfunction halt (stream) {\n  // unpipe everything from the stream\n  unpipe(stream)\n\n  // pause stream\n  if (typeof stream.pause === 'function') {\n    stream.pause()\n  }\n}\n\n/**\n * Read the data from the stream.\n *\n * @param {object} stream\n * @param {string} encoding\n * @param {number} length\n * @param {number} limit\n * @param {function} callback\n * @public\n */\n\nfunction readStream (stream, encoding, length, limit, callback) {\n  var complete = false\n  var sync = true\n\n  // check the length and limit options.\n  // note: we intentionally leave the stream paused,\n  // so users should handle the stream themselves.\n  if (limit !== null && length !== null && length > limit) {\n    return done(createError(413, 'request entity too large', {\n      expected: length,\n      length: length,\n      limit: limit,\n      type: 'entity.too.large'\n    }))\n  }\n\n  // streams1: assert request encoding is buffer.\n  // streams2+: assert the stream encoding is buffer.\n  //   stream._decoder: streams1\n  //   state.encoding: streams2\n  //   state.decoder: streams2, specifically < 0.10.6\n  var state = stream._readableState\n  if (stream._decoder || (state && (state.encoding || state.decoder))) {\n    // developer error\n    return done(createError(500, 'stream encoding should not be set', {\n      type: 'stream.encoding.set'\n    }))\n  }\n\n  if (typeof stream.readable !== 'undefined' && !stream.readable) {\n    return done(createError(500, 'stream is not readable', {\n      type: 'stream.not.readable'\n    }))\n  }\n\n  var received = 0\n  var decoder\n\n  try {\n    decoder = getDecoder(encoding)\n  } catch (err) {\n    return done(err)\n  }\n\n  var buffer = decoder\n    ? ''\n    : []\n\n  // attach listeners\n  stream.on('aborted', onAborted)\n  stream.on('close', cleanup)\n  stream.on('data', onData)\n  stream.on('end', onEnd)\n  stream.on('error', onEnd)\n\n  // mark sync section complete\n  sync = false\n\n  function done () {\n    var args = new Array(arguments.length)\n\n    // copy arguments\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    // mark complete\n    complete = true\n\n    if (sync) {\n      process.nextTick(invokeCallback)\n    } else {\n      invokeCallback()\n    }\n\n    function invokeCallback () {\n      cleanup()\n\n      if (args[0]) {\n        // halt the stream on error\n        halt(stream)\n      }\n\n      callback.apply(null, args)\n    }\n  }\n\n  function onAborted () {\n    if (complete) return\n\n    done(createError(400, 'request aborted', {\n      code: 'ECONNABORTED',\n      expected: length,\n      length: length,\n      received: received,\n      type: 'request.aborted'\n    }))\n  }\n\n  function onData (chunk) {\n    if (complete) return\n\n    received += chunk.length\n\n    if (limit !== null && received > limit) {\n      done(createError(413, 'request entity too large', {\n        limit: limit,\n        received: received,\n        type: 'entity.too.large'\n      }))\n    } else if (decoder) {\n      buffer += decoder.write(chunk)\n    } else {\n      buffer.push(chunk)\n    }\n  }\n\n  function onEnd (err) {\n    if (complete) return\n    if (err) return done(err)\n\n    if (length !== null && received !== length) {\n      done(createError(400, 'request size did not match content length', {\n        expected: length,\n        length: length,\n        received: received,\n        type: 'request.size.invalid'\n      }))\n    } else {\n      var string = decoder\n        ? buffer + (decoder.end() || '')\n        : Buffer.concat(buffer)\n      done(null, string)\n    }\n  }\n\n  function cleanup () {\n    buffer = null\n\n    stream.removeListener('aborted', onAborted)\n    stream.removeListener('data', onData)\n    stream.removeListener('end', onEnd)\n    stream.removeListener('error', onEnd)\n    stream.removeListener('close', cleanup)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/ // eslint-disable-line no-control-regex\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.slice(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value.charCodeAt(0) === 0x22 /* \" */) {\n        // remove quotes\n        value = value.slice(1, -1)\n\n        // remove escapes\n        if (value.indexOf('\\\\') !== -1) {\n          value = value.replace(QESC_REGEXP, '$1')\n        }\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","import { randomUUID } from 'node:crypto';\nimport { JSONRPCMessageSchema } from '../types.js';\nimport getRawBody from 'raw-body';\nimport contentType from 'content-type';\nimport { URL } from 'node:url';\nconst MAXIMUM_MESSAGE_SIZE = '4mb';\n/**\n * Server transport for SSE: this will send messages over an SSE connection and receive messages from HTTP POST requests.\n *\n * This transport is only available in Node.js environments.\n * @deprecated SSEServerTransport is deprecated. Use StreamableHTTPServerTransport instead.\n */\nexport class SSEServerTransport {\n    /**\n     * Creates a new SSE server transport, which will direct the client to POST messages to the relative or absolute URL identified by `_endpoint`.\n     */\n    constructor(_endpoint, res, options) {\n        this._endpoint = _endpoint;\n        this.res = res;\n        this._sessionId = randomUUID();\n        this._options = options || { enableDnsRebindingProtection: false };\n    }\n    /**\n     * Validates request headers for DNS rebinding protection.\n     * @returns Error message if validation fails, undefined if validation passes.\n     */\n    validateRequestHeaders(req) {\n        // Skip validation if protection is not enabled\n        if (!this._options.enableDnsRebindingProtection) {\n            return undefined;\n        }\n        // Validate Host header if allowedHosts is configured\n        if (this._options.allowedHosts && this._options.allowedHosts.length > 0) {\n            const hostHeader = req.headers.host;\n            if (!hostHeader || !this._options.allowedHosts.includes(hostHeader)) {\n                return `Invalid Host header: ${hostHeader}`;\n            }\n        }\n        // Validate Origin header if allowedOrigins is configured\n        if (this._options.allowedOrigins && this._options.allowedOrigins.length > 0) {\n            const originHeader = req.headers.origin;\n            if (originHeader && !this._options.allowedOrigins.includes(originHeader)) {\n                return `Invalid Origin header: ${originHeader}`;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Handles the initial SSE connection request.\n     *\n     * This should be called when a GET request is made to establish the SSE stream.\n     */\n    async start() {\n        if (this._sseResponse) {\n            throw new Error('SSEServerTransport already started! If using Server class, note that connect() calls start() automatically.');\n        }\n        this.res.writeHead(200, {\n            'Content-Type': 'text/event-stream',\n            'Cache-Control': 'no-cache, no-transform',\n            Connection: 'keep-alive'\n        });\n        // Send the endpoint event\n        // Use a dummy base URL because this._endpoint is relative.\n        // This allows using URL/URLSearchParams for robust parameter handling.\n        const dummyBase = 'http://localhost'; // Any valid base works\n        const endpointUrl = new URL(this._endpoint, dummyBase);\n        endpointUrl.searchParams.set('sessionId', this._sessionId);\n        // Reconstruct the relative URL string (pathname + search + hash)\n        const relativeUrlWithSession = endpointUrl.pathname + endpointUrl.search + endpointUrl.hash;\n        this.res.write(`event: endpoint\\ndata: ${relativeUrlWithSession}\\n\\n`);\n        this._sseResponse = this.res;\n        this.res.on('close', () => {\n            var _a;\n            this._sseResponse = undefined;\n            (_a = this.onclose) === null || _a === void 0 ? void 0 : _a.call(this);\n        });\n    }\n    /**\n     * Handles incoming POST messages.\n     *\n     * This should be called when a POST request is made to send a message to the server.\n     */\n    async handlePostMessage(req, res, parsedBody) {\n        var _a, _b, _c, _d;\n        if (!this._sseResponse) {\n            const message = 'SSE connection not established';\n            res.writeHead(500).end(message);\n            throw new Error(message);\n        }\n        // Validate request headers for DNS rebinding protection\n        const validationError = this.validateRequestHeaders(req);\n        if (validationError) {\n            res.writeHead(403).end(validationError);\n            (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, new Error(validationError));\n            return;\n        }\n        const authInfo = req.auth;\n        const requestInfo = { headers: req.headers };\n        let body;\n        try {\n            const ct = contentType.parse((_b = req.headers['content-type']) !== null && _b !== void 0 ? _b : '');\n            if (ct.type !== 'application/json') {\n                throw new Error(`Unsupported content-type: ${ct.type}`);\n            }\n            body =\n                parsedBody !== null && parsedBody !== void 0 ? parsedBody : (await getRawBody(req, {\n                    limit: MAXIMUM_MESSAGE_SIZE,\n                    encoding: (_c = ct.parameters.charset) !== null && _c !== void 0 ? _c : 'utf-8'\n                }));\n        }\n        catch (error) {\n            res.writeHead(400).end(String(error));\n            (_d = this.onerror) === null || _d === void 0 ? void 0 : _d.call(this, error);\n            return;\n        }\n        try {\n            await this.handleMessage(typeof body === 'string' ? JSON.parse(body) : body, { requestInfo, authInfo });\n        }\n        catch (_e) {\n            res.writeHead(400).end(`Invalid message: ${body}`);\n            return;\n        }\n        res.writeHead(202).end('Accepted');\n    }\n    /**\n     * Handle a client message, regardless of how it arrived. This can be used to inform the server of messages that arrive via a means different than HTTP POST.\n     */\n    async handleMessage(message, extra) {\n        var _a, _b;\n        let parsedMessage;\n        try {\n            parsedMessage = JSONRPCMessageSchema.parse(message);\n        }\n        catch (error) {\n            (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);\n            throw error;\n        }\n        (_b = this.onmessage) === null || _b === void 0 ? void 0 : _b.call(this, parsedMessage, extra);\n    }\n    async close() {\n        var _a, _b;\n        (_a = this._sseResponse) === null || _a === void 0 ? void 0 : _a.end();\n        this._sseResponse = undefined;\n        (_b = this.onclose) === null || _b === void 0 ? void 0 : _b.call(this);\n    }\n    async send(message) {\n        if (!this._sseResponse) {\n            throw new Error('Not connected');\n        }\n        this._sseResponse.write(`event: message\\ndata: ${JSON.stringify(message)}\\n\\n`);\n    }\n    /**\n     * Returns the session ID for this transport.\n     *\n     * This can be used to route incoming POST requests.\n     */\n    get sessionId() {\n        return this._sessionId;\n    }\n}\n//# sourceMappingURL=sse.js.map","import { isInitializeRequest, isJSONRPCError, isJSONRPCRequest, isJSONRPCResponse, JSONRPCMessageSchema, SUPPORTED_PROTOCOL_VERSIONS, DEFAULT_NEGOTIATED_PROTOCOL_VERSION } from '../types.js';\nimport getRawBody from 'raw-body';\nimport contentType from 'content-type';\nimport { randomUUID } from 'node:crypto';\nconst MAXIMUM_MESSAGE_SIZE = '4mb';\n/**\n * Server transport for Streamable HTTP: this implements the MCP Streamable HTTP transport specification.\n * It supports both SSE streaming and direct HTTP responses.\n *\n * Usage example:\n *\n * ```typescript\n * // Stateful mode - server sets the session ID\n * const statefulTransport = new StreamableHTTPServerTransport({\n *   sessionIdGenerator: () => randomUUID(),\n * });\n *\n * // Stateless mode - explicitly set session ID to undefined\n * const statelessTransport = new StreamableHTTPServerTransport({\n *   sessionIdGenerator: undefined,\n * });\n *\n * // Using with pre-parsed request body\n * app.post('/mcp', (req, res) => {\n *   transport.handleRequest(req, res, req.body);\n * });\n * ```\n *\n * In stateful mode:\n * - Session ID is generated and included in response headers\n * - Session ID is always included in initialization responses\n * - Requests with invalid session IDs are rejected with 404 Not Found\n * - Non-initialization requests without a session ID are rejected with 400 Bad Request\n * - State is maintained in-memory (connections, message history)\n *\n * In stateless mode:\n * - No Session ID is included in any responses\n * - No session validation is performed\n */\nexport class StreamableHTTPServerTransport {\n    constructor(options) {\n        var _a, _b;\n        this._started = false;\n        this._streamMapping = new Map();\n        this._requestToStreamMapping = new Map();\n        this._requestResponseMap = new Map();\n        this._initialized = false;\n        this._enableJsonResponse = false;\n        this._standaloneSseStreamId = '_GET_stream';\n        this.sessionIdGenerator = options.sessionIdGenerator;\n        this._enableJsonResponse = (_a = options.enableJsonResponse) !== null && _a !== void 0 ? _a : false;\n        this._eventStore = options.eventStore;\n        this._onsessioninitialized = options.onsessioninitialized;\n        this._onsessionclosed = options.onsessionclosed;\n        this._allowedHosts = options.allowedHosts;\n        this._allowedOrigins = options.allowedOrigins;\n        this._enableDnsRebindingProtection = (_b = options.enableDnsRebindingProtection) !== null && _b !== void 0 ? _b : false;\n        this._retryInterval = options.retryInterval;\n    }\n    /**\n     * Starts the transport. This is required by the Transport interface but is a no-op\n     * for the Streamable HTTP transport as connections are managed per-request.\n     */\n    async start() {\n        if (this._started) {\n            throw new Error('Transport already started');\n        }\n        this._started = true;\n    }\n    /**\n     * Validates request headers for DNS rebinding protection.\n     * @returns Error message if validation fails, undefined if validation passes.\n     */\n    validateRequestHeaders(req) {\n        // Skip validation if protection is not enabled\n        if (!this._enableDnsRebindingProtection) {\n            return undefined;\n        }\n        // Validate Host header if allowedHosts is configured\n        if (this._allowedHosts && this._allowedHosts.length > 0) {\n            const hostHeader = req.headers.host;\n            if (!hostHeader || !this._allowedHosts.includes(hostHeader)) {\n                return `Invalid Host header: ${hostHeader}`;\n            }\n        }\n        // Validate Origin header if allowedOrigins is configured\n        if (this._allowedOrigins && this._allowedOrigins.length > 0) {\n            const originHeader = req.headers.origin;\n            if (originHeader && !this._allowedOrigins.includes(originHeader)) {\n                return `Invalid Origin header: ${originHeader}`;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Handles an incoming HTTP request, whether GET or POST\n     */\n    async handleRequest(req, res, parsedBody) {\n        var _a;\n        // Validate request headers for DNS rebinding protection\n        const validationError = this.validateRequestHeaders(req);\n        if (validationError) {\n            res.writeHead(403).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: validationError\n                },\n                id: null\n            }));\n            (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, new Error(validationError));\n            return;\n        }\n        if (req.method === 'POST') {\n            await this.handlePostRequest(req, res, parsedBody);\n        }\n        else if (req.method === 'GET') {\n            await this.handleGetRequest(req, res);\n        }\n        else if (req.method === 'DELETE') {\n            await this.handleDeleteRequest(req, res);\n        }\n        else {\n            await this.handleUnsupportedRequest(res);\n        }\n    }\n    /**\n     * Writes a priming event to establish resumption capability.\n     * Only sends if eventStore is configured (opt-in for resumability) and\n     * the client's protocol version supports empty SSE data (>= 2025-11-25).\n     */\n    async _maybeWritePrimingEvent(res, streamId, protocolVersion) {\n        if (!this._eventStore) {\n            return;\n        }\n        // Priming events have empty data which older clients cannot handle.\n        // Only send priming events to clients with protocol version >= 2025-11-25\n        // which includes the fix for handling empty SSE data.\n        if (protocolVersion < '2025-11-25') {\n            return;\n        }\n        const primingEventId = await this._eventStore.storeEvent(streamId, {});\n        let primingEvent = `id: ${primingEventId}\\ndata: \\n\\n`;\n        if (this._retryInterval !== undefined) {\n            primingEvent = `id: ${primingEventId}\\nretry: ${this._retryInterval}\\ndata: \\n\\n`;\n        }\n        res.write(primingEvent);\n    }\n    /**\n     * Handles GET requests for SSE stream\n     */\n    async handleGetRequest(req, res) {\n        // The client MUST include an Accept header, listing text/event-stream as a supported content type.\n        const acceptHeader = req.headers.accept;\n        if (!(acceptHeader === null || acceptHeader === void 0 ? void 0 : acceptHeader.includes('text/event-stream'))) {\n            res.writeHead(406).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: 'Not Acceptable: Client must accept text/event-stream'\n                },\n                id: null\n            }));\n            return;\n        }\n        // If an Mcp-Session-Id is returned by the server during initialization,\n        // clients using the Streamable HTTP transport MUST include it\n        // in the Mcp-Session-Id header on all of their subsequent HTTP requests.\n        if (!this.validateSession(req, res)) {\n            return;\n        }\n        if (!this.validateProtocolVersion(req, res)) {\n            return;\n        }\n        // Handle resumability: check for Last-Event-ID header\n        if (this._eventStore) {\n            const lastEventId = req.headers['last-event-id'];\n            if (lastEventId) {\n                await this.replayEvents(lastEventId, res);\n                return;\n            }\n        }\n        // The server MUST either return Content-Type: text/event-stream in response to this HTTP GET,\n        // or else return HTTP 405 Method Not Allowed\n        const headers = {\n            'Content-Type': 'text/event-stream',\n            'Cache-Control': 'no-cache, no-transform',\n            Connection: 'keep-alive'\n        };\n        // After initialization, always include the session ID if we have one\n        if (this.sessionId !== undefined) {\n            headers['mcp-session-id'] = this.sessionId;\n        }\n        // Check if there's already an active standalone SSE stream for this session\n        if (this._streamMapping.get(this._standaloneSseStreamId) !== undefined) {\n            // Only one GET SSE stream is allowed per session\n            res.writeHead(409).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: 'Conflict: Only one SSE stream is allowed per session'\n                },\n                id: null\n            }));\n            return;\n        }\n        // We need to send headers immediately as messages will arrive much later,\n        // otherwise the client will just wait for the first message\n        res.writeHead(200, headers).flushHeaders();\n        // Assign the response to the standalone SSE stream\n        this._streamMapping.set(this._standaloneSseStreamId, res);\n        // Set up close handler for client disconnects\n        res.on('close', () => {\n            this._streamMapping.delete(this._standaloneSseStreamId);\n        });\n        // Add error handler for standalone SSE stream\n        res.on('error', error => {\n            var _a;\n            (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);\n        });\n    }\n    /**\n     * Replays events that would have been sent after the specified event ID\n     * Only used when resumability is enabled\n     */\n    async replayEvents(lastEventId, res) {\n        var _a;\n        if (!this._eventStore) {\n            return;\n        }\n        try {\n            // If getStreamIdForEventId is available, use it for conflict checking\n            let streamId;\n            if (this._eventStore.getStreamIdForEventId) {\n                streamId = await this._eventStore.getStreamIdForEventId(lastEventId);\n                if (!streamId) {\n                    res.writeHead(400).end(JSON.stringify({\n                        jsonrpc: '2.0',\n                        error: {\n                            code: -32000,\n                            message: 'Invalid event ID format'\n                        },\n                        id: null\n                    }));\n                    return;\n                }\n                // Check conflict with the SAME streamId we'll use for mapping\n                if (this._streamMapping.get(streamId) !== undefined) {\n                    res.writeHead(409).end(JSON.stringify({\n                        jsonrpc: '2.0',\n                        error: {\n                            code: -32000,\n                            message: 'Conflict: Stream already has an active connection'\n                        },\n                        id: null\n                    }));\n                    return;\n                }\n            }\n            const headers = {\n                'Content-Type': 'text/event-stream',\n                'Cache-Control': 'no-cache, no-transform',\n                Connection: 'keep-alive'\n            };\n            if (this.sessionId !== undefined) {\n                headers['mcp-session-id'] = this.sessionId;\n            }\n            res.writeHead(200, headers).flushHeaders();\n            // Replay events - returns the streamId for backwards compatibility\n            const replayedStreamId = await this._eventStore.replayEventsAfter(lastEventId, {\n                send: async (eventId, message) => {\n                    var _a;\n                    if (!this.writeSSEEvent(res, message, eventId)) {\n                        (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, new Error('Failed replay events'));\n                        res.end();\n                    }\n                }\n            });\n            this._streamMapping.set(replayedStreamId, res);\n            // Set up close handler for client disconnects\n            res.on('close', () => {\n                this._streamMapping.delete(replayedStreamId);\n            });\n            // Add error handler for replay stream\n            res.on('error', error => {\n                var _a;\n                (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);\n            });\n        }\n        catch (error) {\n            (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);\n        }\n    }\n    /**\n     * Writes an event to the SSE stream with proper formatting\n     */\n    writeSSEEvent(res, message, eventId) {\n        let eventData = `event: message\\n`;\n        // Include event ID if provided - this is important for resumability\n        if (eventId) {\n            eventData += `id: ${eventId}\\n`;\n        }\n        eventData += `data: ${JSON.stringify(message)}\\n\\n`;\n        return res.write(eventData);\n    }\n    /**\n     * Handles unsupported requests (PUT, PATCH, etc.)\n     */\n    async handleUnsupportedRequest(res) {\n        res.writeHead(405, {\n            Allow: 'GET, POST, DELETE'\n        }).end(JSON.stringify({\n            jsonrpc: '2.0',\n            error: {\n                code: -32000,\n                message: 'Method not allowed.'\n            },\n            id: null\n        }));\n    }\n    /**\n     * Handles POST requests containing JSON-RPC messages\n     */\n    async handlePostRequest(req, res, parsedBody) {\n        var _a, _b, _c, _d, _e, _f;\n        try {\n            // Validate the Accept header\n            const acceptHeader = req.headers.accept;\n            // The client MUST include an Accept header, listing both application/json and text/event-stream as supported content types.\n            if (!(acceptHeader === null || acceptHeader === void 0 ? void 0 : acceptHeader.includes('application/json')) || !acceptHeader.includes('text/event-stream')) {\n                res.writeHead(406).end(JSON.stringify({\n                    jsonrpc: '2.0',\n                    error: {\n                        code: -32000,\n                        message: 'Not Acceptable: Client must accept both application/json and text/event-stream'\n                    },\n                    id: null\n                }));\n                return;\n            }\n            const ct = req.headers['content-type'];\n            if (!ct || !ct.includes('application/json')) {\n                res.writeHead(415).end(JSON.stringify({\n                    jsonrpc: '2.0',\n                    error: {\n                        code: -32000,\n                        message: 'Unsupported Media Type: Content-Type must be application/json'\n                    },\n                    id: null\n                }));\n                return;\n            }\n            const authInfo = req.auth;\n            const requestInfo = { headers: req.headers };\n            let rawMessage;\n            if (parsedBody !== undefined) {\n                rawMessage = parsedBody;\n            }\n            else {\n                const parsedCt = contentType.parse(ct);\n                const body = await getRawBody(req, {\n                    limit: MAXIMUM_MESSAGE_SIZE,\n                    encoding: (_a = parsedCt.parameters.charset) !== null && _a !== void 0 ? _a : 'utf-8'\n                });\n                rawMessage = JSON.parse(body.toString());\n            }\n            let messages;\n            // handle batch and single messages\n            if (Array.isArray(rawMessage)) {\n                messages = rawMessage.map(msg => JSONRPCMessageSchema.parse(msg));\n            }\n            else {\n                messages = [JSONRPCMessageSchema.parse(rawMessage)];\n            }\n            // Check if this is an initialization request\n            // https://spec.modelcontextprotocol.io/specification/2025-03-26/basic/lifecycle/\n            const isInitializationRequest = messages.some(isInitializeRequest);\n            if (isInitializationRequest) {\n                // If it's a server with session management and the session ID is already set we should reject the request\n                // to avoid re-initialization.\n                if (this._initialized && this.sessionId !== undefined) {\n                    res.writeHead(400).end(JSON.stringify({\n                        jsonrpc: '2.0',\n                        error: {\n                            code: -32600,\n                            message: 'Invalid Request: Server already initialized'\n                        },\n                        id: null\n                    }));\n                    return;\n                }\n                if (messages.length > 1) {\n                    res.writeHead(400).end(JSON.stringify({\n                        jsonrpc: '2.0',\n                        error: {\n                            code: -32600,\n                            message: 'Invalid Request: Only one initialization request is allowed'\n                        },\n                        id: null\n                    }));\n                    return;\n                }\n                this.sessionId = (_b = this.sessionIdGenerator) === null || _b === void 0 ? void 0 : _b.call(this);\n                this._initialized = true;\n                // If we have a session ID and an onsessioninitialized handler, call it immediately\n                // This is needed in cases where the server needs to keep track of multiple sessions\n                if (this.sessionId && this._onsessioninitialized) {\n                    await Promise.resolve(this._onsessioninitialized(this.sessionId));\n                }\n            }\n            if (!isInitializationRequest) {\n                // If an Mcp-Session-Id is returned by the server during initialization,\n                // clients using the Streamable HTTP transport MUST include it\n                // in the Mcp-Session-Id header on all of their subsequent HTTP requests.\n                if (!this.validateSession(req, res)) {\n                    return;\n                }\n                // Mcp-Protocol-Version header is required for all requests after initialization.\n                if (!this.validateProtocolVersion(req, res)) {\n                    return;\n                }\n            }\n            // check if it contains requests\n            const hasRequests = messages.some(isJSONRPCRequest);\n            if (!hasRequests) {\n                // if it only contains notifications or responses, return 202\n                res.writeHead(202).end();\n                // handle each message\n                for (const message of messages) {\n                    (_c = this.onmessage) === null || _c === void 0 ? void 0 : _c.call(this, message, { authInfo, requestInfo });\n                }\n            }\n            else if (hasRequests) {\n                // The default behavior is to use SSE streaming\n                // but in some cases server will return JSON responses\n                const streamId = randomUUID();\n                // Extract protocol version for priming event decision.\n                // For initialize requests, get from request params.\n                // For other requests, get from header (already validated).\n                const initRequest = messages.find(m => isInitializeRequest(m));\n                const clientProtocolVersion = initRequest\n                    ? initRequest.params.protocolVersion\n                    : ((_d = req.headers['mcp-protocol-version']) !== null && _d !== void 0 ? _d : DEFAULT_NEGOTIATED_PROTOCOL_VERSION);\n                if (!this._enableJsonResponse) {\n                    const headers = {\n                        'Content-Type': 'text/event-stream',\n                        'Cache-Control': 'no-cache',\n                        Connection: 'keep-alive'\n                    };\n                    // After initialization, always include the session ID if we have one\n                    if (this.sessionId !== undefined) {\n                        headers['mcp-session-id'] = this.sessionId;\n                    }\n                    res.writeHead(200, headers);\n                    await this._maybeWritePrimingEvent(res, streamId, clientProtocolVersion);\n                }\n                // Store the response for this request to send messages back through this connection\n                // We need to track by request ID to maintain the connection\n                for (const message of messages) {\n                    if (isJSONRPCRequest(message)) {\n                        this._streamMapping.set(streamId, res);\n                        this._requestToStreamMapping.set(message.id, streamId);\n                    }\n                }\n                // Set up close handler for client disconnects\n                res.on('close', () => {\n                    this._streamMapping.delete(streamId);\n                });\n                // Add error handler for stream write errors\n                res.on('error', error => {\n                    var _a;\n                    (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);\n                });\n                // handle each message\n                for (const message of messages) {\n                    // Build closeSSEStream callback for requests when eventStore is configured\n                    // AND client supports resumability (protocol version >= 2025-11-25).\n                    // Old clients can't resume if the stream is closed early because they\n                    // didn't receive a priming event with an event ID.\n                    let closeSSEStream;\n                    let closeStandaloneSSEStream;\n                    if (isJSONRPCRequest(message) && this._eventStore && clientProtocolVersion >= '2025-11-25') {\n                        closeSSEStream = () => {\n                            this.closeSSEStream(message.id);\n                        };\n                        closeStandaloneSSEStream = () => {\n                            this.closeStandaloneSSEStream();\n                        };\n                    }\n                    (_e = this.onmessage) === null || _e === void 0 ? void 0 : _e.call(this, message, { authInfo, requestInfo, closeSSEStream, closeStandaloneSSEStream });\n                }\n                // The server SHOULD NOT close the SSE stream before sending all JSON-RPC responses\n                // This will be handled by the send() method when responses are ready\n            }\n        }\n        catch (error) {\n            // return JSON-RPC formatted error\n            res.writeHead(400).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32700,\n                    message: 'Parse error',\n                    data: String(error)\n                },\n                id: null\n            }));\n            (_f = this.onerror) === null || _f === void 0 ? void 0 : _f.call(this, error);\n        }\n    }\n    /**\n     * Handles DELETE requests to terminate sessions\n     */\n    async handleDeleteRequest(req, res) {\n        var _a;\n        if (!this.validateSession(req, res)) {\n            return;\n        }\n        if (!this.validateProtocolVersion(req, res)) {\n            return;\n        }\n        await Promise.resolve((_a = this._onsessionclosed) === null || _a === void 0 ? void 0 : _a.call(this, this.sessionId));\n        await this.close();\n        res.writeHead(200).end();\n    }\n    /**\n     * Validates session ID for non-initialization requests\n     * Returns true if the session is valid, false otherwise\n     */\n    validateSession(req, res) {\n        if (this.sessionIdGenerator === undefined) {\n            // If the sessionIdGenerator ID is not set, the session management is disabled\n            // and we don't need to validate the session ID\n            return true;\n        }\n        if (!this._initialized) {\n            // If the server has not been initialized yet, reject all requests\n            res.writeHead(400).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: 'Bad Request: Server not initialized'\n                },\n                id: null\n            }));\n            return false;\n        }\n        const sessionId = req.headers['mcp-session-id'];\n        if (!sessionId) {\n            // Non-initialization requests without a session ID should return 400 Bad Request\n            res.writeHead(400).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: 'Bad Request: Mcp-Session-Id header is required'\n                },\n                id: null\n            }));\n            return false;\n        }\n        else if (Array.isArray(sessionId)) {\n            res.writeHead(400).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: 'Bad Request: Mcp-Session-Id header must be a single value'\n                },\n                id: null\n            }));\n            return false;\n        }\n        else if (sessionId !== this.sessionId) {\n            // Reject requests with invalid session ID with 404 Not Found\n            res.writeHead(404).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32001,\n                    message: 'Session not found'\n                },\n                id: null\n            }));\n            return false;\n        }\n        return true;\n    }\n    validateProtocolVersion(req, res) {\n        var _a;\n        let protocolVersion = (_a = req.headers['mcp-protocol-version']) !== null && _a !== void 0 ? _a : DEFAULT_NEGOTIATED_PROTOCOL_VERSION;\n        if (Array.isArray(protocolVersion)) {\n            protocolVersion = protocolVersion[protocolVersion.length - 1];\n        }\n        if (!SUPPORTED_PROTOCOL_VERSIONS.includes(protocolVersion)) {\n            res.writeHead(400).end(JSON.stringify({\n                jsonrpc: '2.0',\n                error: {\n                    code: -32000,\n                    message: `Bad Request: Unsupported protocol version (supported versions: ${SUPPORTED_PROTOCOL_VERSIONS.join(', ')})`\n                },\n                id: null\n            }));\n            return false;\n        }\n        return true;\n    }\n    async close() {\n        var _a;\n        // Close all SSE connections\n        this._streamMapping.forEach(response => {\n            response.end();\n        });\n        this._streamMapping.clear();\n        // Clear any pending responses\n        this._requestResponseMap.clear();\n        (_a = this.onclose) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    /**\n     * Close an SSE stream for a specific request, triggering client reconnection.\n     * Use this to implement polling behavior during long-running operations -\n     * client will reconnect after the retry interval specified in the priming event.\n     */\n    closeSSEStream(requestId) {\n        const streamId = this._requestToStreamMapping.get(requestId);\n        if (!streamId)\n            return;\n        const stream = this._streamMapping.get(streamId);\n        if (stream) {\n            stream.end();\n            this._streamMapping.delete(streamId);\n        }\n    }\n    /**\n     * Close the standalone GET SSE stream, triggering client reconnection.\n     * Use this to implement polling behavior for server-initiated notifications.\n     */\n    closeStandaloneSSEStream() {\n        const stream = this._streamMapping.get(this._standaloneSseStreamId);\n        if (stream) {\n            stream.end();\n            this._streamMapping.delete(this._standaloneSseStreamId);\n        }\n    }\n    async send(message, options) {\n        let requestId = options === null || options === void 0 ? void 0 : options.relatedRequestId;\n        if (isJSONRPCResponse(message) || isJSONRPCError(message)) {\n            // If the message is a response, use the request ID from the message\n            requestId = message.id;\n        }\n        // Check if this message should be sent on the standalone SSE stream (no request ID)\n        // Ignore notifications from tools (which have relatedRequestId set)\n        // Those will be sent via dedicated response SSE streams\n        if (requestId === undefined) {\n            // For standalone SSE streams, we can only send requests and notifications\n            if (isJSONRPCResponse(message) || isJSONRPCError(message)) {\n                throw new Error('Cannot send a response on a standalone SSE stream unless resuming a previous client request');\n            }\n            // Generate and store event ID if event store is provided\n            // Store even if stream is disconnected so events can be replayed on reconnect\n            let eventId;\n            if (this._eventStore) {\n                // Stores the event and gets the generated event ID\n                eventId = await this._eventStore.storeEvent(this._standaloneSseStreamId, message);\n            }\n            const standaloneSse = this._streamMapping.get(this._standaloneSseStreamId);\n            if (standaloneSse === undefined) {\n                // Stream is disconnected - event is stored for replay, nothing more to do\n                return;\n            }\n            // Send the message to the standalone SSE stream\n            this.writeSSEEvent(standaloneSse, message, eventId);\n            return;\n        }\n        // Get the response for this request\n        const streamId = this._requestToStreamMapping.get(requestId);\n        const response = this._streamMapping.get(streamId);\n        if (!streamId) {\n            throw new Error(`No connection established for request ID: ${String(requestId)}`);\n        }\n        if (!this._enableJsonResponse) {\n            // For SSE responses, generate event ID if event store is provided\n            let eventId;\n            if (this._eventStore) {\n                eventId = await this._eventStore.storeEvent(streamId, message);\n            }\n            if (response) {\n                // Write the event to the response stream\n                this.writeSSEEvent(response, message, eventId);\n            }\n        }\n        if (isJSONRPCResponse(message) || isJSONRPCError(message)) {\n            this._requestResponseMap.set(requestId, message);\n            const relatedIds = Array.from(this._requestToStreamMapping.entries())\n                .filter(([_, streamId]) => this._streamMapping.get(streamId) === response)\n                .map(([id]) => id);\n            // Check if we have responses for all requests using this connection\n            const allResponsesReady = relatedIds.every(id => this._requestResponseMap.has(id));\n            if (allResponsesReady) {\n                if (!response) {\n                    throw new Error(`No connection established for request ID: ${String(requestId)}`);\n                }\n                if (this._enableJsonResponse) {\n                    // All responses ready, send as JSON\n                    const headers = {\n                        'Content-Type': 'application/json'\n                    };\n                    if (this.sessionId !== undefined) {\n                        headers['mcp-session-id'] = this.sessionId;\n                    }\n                    const responses = relatedIds.map(id => this._requestResponseMap.get(id));\n                    response.writeHead(200, headers);\n                    if (responses.length === 1) {\n                        response.end(JSON.stringify(responses[0]));\n                    }\n                    else {\n                        response.end(JSON.stringify(responses));\n                    }\n                }\n                else {\n                    // End the SSE stream\n                    response.end();\n                }\n                // Clean up\n                for (const id of relatedIds) {\n                    this._requestResponseMap.delete(id);\n                    this._requestToStreamMapping.delete(id);\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=streamableHttp.js.map","import { Server } from \"@modelcontextprotocol/sdk/server/index.js\";\nimport { SSEServerTransport } from \"@modelcontextprotocol/sdk/server/sse.js\";\nimport {\n  EventStore,\n  StreamableHTTPServerTransport,\n} from \"@modelcontextprotocol/sdk/server/streamableHttp.js\";\nimport { isInitializeRequest } from \"@modelcontextprotocol/sdk/types.js\";\nimport http from \"http\";\nimport { randomUUID } from \"node:crypto\";\n\nimport { AuthConfig, AuthenticationMiddleware } from \"./authentication.js\";\nimport { InMemoryEventStore } from \"./InMemoryEventStore.js\";\n\nexport interface CorsOptions {\n  allowedHeaders?: string | string[]; // Allow string[] or '*' for wildcard\n  credentials?: boolean;\n  exposedHeaders?: string[];\n  maxAge?: number;\n  methods?: string[];\n  origin?: ((origin: string) => boolean) | string | string[];\n}\n\nexport type SSEServer = {\n  close: () => Promise<void>;\n};\n\ntype ServerLike = {\n  close: Server[\"close\"];\n  connect: Server[\"connect\"];\n};\n\nconst getBody = (request: http.IncomingMessage) => {\n  return new Promise((resolve) => {\n    const bodyParts: Buffer[] = [];\n    let body: string;\n    request\n      .on(\"data\", (chunk) => {\n        bodyParts.push(chunk);\n      })\n      .on(\"end\", () => {\n        body = Buffer.concat(bodyParts).toString();\n        try {\n          resolve(JSON.parse(body));\n        } catch (error) {\n          console.error(\"[mcp-proxy] error parsing body\", error);\n          resolve(null);\n        }\n      });\n  });\n};\n\n// Helper function to create JSON RPC error responses\nconst createJsonRpcErrorResponse = (code: number, message: string) => {\n  return JSON.stringify({\n    error: { code, message },\n    id: null,\n    jsonrpc: \"2.0\",\n  });\n};\n\n// Helper function to get WWW-Authenticate header value\nconst getWWWAuthenticateHeader = (\n  oauth?: AuthConfig[\"oauth\"],\n  options?: {\n    error?: string;\n    error_description?: string;\n    error_uri?: string;\n    scope?: string;\n  },\n): string | undefined => {\n  if (!oauth) {\n    return undefined;\n  }\n\n  const params: string[] = [];\n\n  // Add realm if configured\n  if (oauth.realm) {\n    params.push(`realm=\"${oauth.realm}\"`);\n  }\n\n  // Add resource_metadata if configured\n  if (oauth.protectedResource?.resource) {\n    params.push(\n      `resource_metadata=\"${oauth.protectedResource.resource}/.well-known/oauth-protected-resource\"`,\n    );\n  }\n\n  // Add error from options or config (options takes precedence)\n  const error = options?.error || oauth.error;\n  if (error) {\n    params.push(`error=\"${error}\"`);\n  }\n\n  // Add error_description from options or config (options takes precedence)\n  const error_description =\n    options?.error_description || oauth.error_description;\n  if (error_description) {\n    // Escape quotes in error description\n    const escaped = error_description.replace(/\"/g, '\\\\\"');\n    params.push(`error_description=\"${escaped}\"`);\n  }\n\n  // Add error_uri from options or config (options takes precedence)\n  const error_uri = options?.error_uri || oauth.error_uri;\n  if (error_uri) {\n    params.push(`error_uri=\"${error_uri}\"`);\n  }\n\n  // Add scope from options or config (options takes precedence)\n  const scope = options?.scope || oauth.scope;\n  if (scope) {\n    params.push(`scope=\"${scope}\"`);\n  }\n\n  // Return undefined if no parameters were added\n  if (params.length === 0) {\n    return undefined;\n  }\n\n  return `Bearer ${params.join(\", \")}`;\n};\n\n// Helper function to detect scope challenge errors\nconst isScopeChallengeError = (\n  error: unknown,\n): error is {\n  data: {\n    error: string;\n    errorDescription?: string;\n    requiredScopes: string[];\n  };\n  name: string;\n} => {\n  return (\n    typeof error === \"object\" &&\n    error !== null &&\n    \"name\" in error &&\n    error.name === \"InsufficientScopeError\" &&\n    \"data\" in error &&\n    typeof error.data === \"object\" &&\n    error.data !== null &&\n    \"error\" in error.data &&\n    error.data.error === \"insufficient_scope\"\n  );\n};\n\n// Helper function to handle Response errors and send appropriate HTTP response\nconst handleResponseError = async (\n  error: unknown,\n  res: http.ServerResponse,\n): Promise<boolean> => {\n  // Check if it's a Response-like object (duck typing)\n  // The instanceof check may fail due to different Response implementations across module boundaries\n  const isResponseLike =\n    error &&\n    typeof error === \"object\" &&\n    \"status\" in error &&\n    \"headers\" in error &&\n    \"statusText\" in error;\n\n  if (isResponseLike || error instanceof Response) {\n    const responseError = error as Response;\n\n    // Convert Headers to http.OutgoingHttpHeaders format\n    const fixedHeaders: http.OutgoingHttpHeaders = {};\n    responseError.headers.forEach((value, key) => {\n      if (fixedHeaders[key]) {\n        if (Array.isArray(fixedHeaders[key])) {\n          (fixedHeaders[key] as string[]).push(value);\n        } else {\n          fixedHeaders[key] = [fixedHeaders[key] as string, value];\n        }\n      } else {\n        fixedHeaders[key] = value;\n      }\n    });\n\n    // Read the body from the Response object\n    const body = await responseError.text();\n\n    res.writeHead(responseError.status, responseError.statusText, fixedHeaders);\n    res.end(body);\n\n    return true;\n  }\n\n  return false;\n};\n\n// Helper function to clean up server resources\nconst cleanupServer = async <T extends ServerLike>(\n  server: T,\n  onClose?: (server: T) => Promise<void>,\n) => {\n  if (onClose) {\n    await onClose(server);\n  }\n\n  try {\n    await server.close();\n  } catch (error) {\n    console.error(\"[mcp-proxy] error closing server\", error);\n  }\n};\n\n// Helper function to apply CORS headers\nconst applyCorsHeaders = (\n  req: http.IncomingMessage,\n  res: http.ServerResponse,\n  corsOptions?: boolean | CorsOptions,\n) => {\n  if (!req.headers.origin) {\n    return;\n  }\n\n  // Default CORS configuration for backward compatibility\n  const defaultCorsOptions: CorsOptions = {\n    allowedHeaders:\n      \"Content-Type, Authorization, Accept, Mcp-Session-Id, Last-Event-Id\",\n    credentials: true,\n    exposedHeaders: [\"Mcp-Session-Id\"],\n    methods: [\"GET\", \"POST\", \"OPTIONS\"],\n    origin: \"*\",\n  };\n\n  let finalCorsOptions: CorsOptions;\n\n  if (corsOptions === false) {\n    // CORS disabled\n    return;\n  } else if (corsOptions === true || corsOptions === undefined) {\n    // Use default CORS settings\n    finalCorsOptions = defaultCorsOptions;\n  } else {\n    // Merge user options with defaults\n    finalCorsOptions = {\n      ...defaultCorsOptions,\n      ...corsOptions,\n    };\n  }\n\n  try {\n    const origin = new URL(req.headers.origin);\n\n    // Handle origin\n    let allowedOrigin = \"*\";\n    if (finalCorsOptions.origin) {\n      if (typeof finalCorsOptions.origin === \"string\") {\n        allowedOrigin = finalCorsOptions.origin;\n      } else if (Array.isArray(finalCorsOptions.origin)) {\n        allowedOrigin = finalCorsOptions.origin.includes(origin.origin)\n          ? origin.origin\n          : \"false\";\n      } else if (typeof finalCorsOptions.origin === \"function\") {\n        allowedOrigin = finalCorsOptions.origin(origin.origin)\n          ? origin.origin\n          : \"false\";\n      }\n    }\n\n    if (allowedOrigin !== \"false\") {\n      res.setHeader(\"Access-Control-Allow-Origin\", allowedOrigin);\n    }\n\n    // Handle credentials\n    if (finalCorsOptions.credentials !== undefined) {\n      res.setHeader(\n        \"Access-Control-Allow-Credentials\",\n        finalCorsOptions.credentials.toString(),\n      );\n    }\n\n    // Handle methods\n    if (finalCorsOptions.methods) {\n      res.setHeader(\n        \"Access-Control-Allow-Methods\",\n        finalCorsOptions.methods.join(\", \"),\n      );\n    }\n\n    // Handle allowed headers\n    if (finalCorsOptions.allowedHeaders) {\n      const allowedHeaders =\n        typeof finalCorsOptions.allowedHeaders === \"string\"\n          ? finalCorsOptions.allowedHeaders\n          : finalCorsOptions.allowedHeaders.join(\", \");\n      res.setHeader(\"Access-Control-Allow-Headers\", allowedHeaders);\n    }\n\n    // Handle exposed headers\n    if (finalCorsOptions.exposedHeaders) {\n      res.setHeader(\n        \"Access-Control-Expose-Headers\",\n        finalCorsOptions.exposedHeaders.join(\", \"),\n      );\n    }\n\n    // Handle max age\n    if (finalCorsOptions.maxAge !== undefined) {\n      res.setHeader(\n        \"Access-Control-Max-Age\",\n        finalCorsOptions.maxAge.toString(),\n      );\n    }\n  } catch (error) {\n    console.error(\"[mcp-proxy] error parsing origin\", error);\n  }\n};\n\nconst handleStreamRequest = async <T extends ServerLike>({\n  activeTransports,\n  authenticate,\n  authMiddleware,\n  createServer,\n  enableJsonResponse,\n  endpoint,\n  eventStore,\n  oauth,\n  onClose,\n  onConnect,\n  req,\n  res,\n  stateless,\n}: {\n  activeTransports: Record<\n    string,\n    { server: T; transport: StreamableHTTPServerTransport }\n  >;\n  authenticate?: (request: http.IncomingMessage) => Promise<unknown>;\n  authMiddleware: AuthenticationMiddleware;\n  createServer: (request: http.IncomingMessage) => Promise<T>;\n  enableJsonResponse?: boolean;\n  endpoint: string;\n  eventStore?: EventStore;\n  oauth?: AuthConfig[\"oauth\"];\n  onClose?: (server: T) => Promise<void>;\n  onConnect?: (server: T) => Promise<void>;\n  req: http.IncomingMessage;\n  res: http.ServerResponse;\n  stateless?: boolean;\n}) => {\n  if (\n    req.method === \"POST\" &&\n    new URL(req.url!, \"http://localhost\").pathname === endpoint\n  ) {\n    let body: unknown;\n    try {\n      const sessionId = Array.isArray(req.headers[\"mcp-session-id\"])\n        ? req.headers[\"mcp-session-id\"][0]\n        : req.headers[\"mcp-session-id\"];\n\n      let transport: StreamableHTTPServerTransport;\n\n      let server: T;\n\n      body = await getBody(req);\n\n      // Per-request authentication in stateless mode\n      if (stateless && authenticate) {\n        try {\n          const authResult = await authenticate(req);\n\n          // Check for both falsy AND { authenticated: false } pattern\n          if (\n            !authResult ||\n            (typeof authResult === \"object\" &&\n              \"authenticated\" in authResult &&\n              !authResult.authenticated)\n          ) {\n            // Extract error message if available\n            const errorMessage =\n              authResult &&\n              typeof authResult === \"object\" &&\n              \"error\" in authResult &&\n              typeof authResult.error === \"string\"\n                ? authResult.error\n                : \"Unauthorized: Authentication failed\";\n\n            res.setHeader(\"Content-Type\", \"application/json\");\n\n            // Add WWW-Authenticate header if OAuth config is available\n            const wwwAuthHeader = getWWWAuthenticateHeader(oauth, {\n              error: \"invalid_token\",\n              error_description: errorMessage,\n            });\n            if (wwwAuthHeader) {\n              res.setHeader(\"WWW-Authenticate\", wwwAuthHeader);\n            }\n\n            res.writeHead(401).end(\n              JSON.stringify({\n                error: {\n                  code: -32000,\n                  message: errorMessage,\n                },\n                id: (body as { id?: unknown })?.id ?? null,\n                jsonrpc: \"2.0\",\n              }),\n            );\n            return true;\n          }\n        } catch (error) {\n          // Check if error is a Response object with headers already set\n          if (await handleResponseError(error, res)) {\n            return true;\n          }\n\n          // Extract error details from thrown errors\n          const errorMessage =\n            error instanceof Error\n              ? error.message\n              : \"Unauthorized: Authentication error\";\n          console.error(\"Authentication error:\", error);\n          res.setHeader(\"Content-Type\", \"application/json\");\n\n          // Add WWW-Authenticate header if OAuth config is available\n          const wwwAuthHeader = getWWWAuthenticateHeader(oauth, {\n            error: \"invalid_token\",\n            error_description: errorMessage,\n          });\n          if (wwwAuthHeader) {\n            res.setHeader(\"WWW-Authenticate\", wwwAuthHeader);\n          }\n\n          res.writeHead(401).end(\n            JSON.stringify({\n              error: {\n                code: -32000,\n                message: errorMessage,\n              },\n              id: (body as { id?: unknown })?.id ?? null,\n              jsonrpc: \"2.0\",\n            }),\n          );\n          return true;\n        }\n      }\n\n      if (sessionId) {\n        const activeTransport = activeTransports[sessionId];\n        if (!activeTransport) {\n          res.setHeader(\"Content-Type\", \"application/json\");\n          res\n            .writeHead(404)\n            .end(createJsonRpcErrorResponse(-32001, \"Session not found\"));\n\n          return true;\n        }\n\n        transport = activeTransport.transport;\n        server = activeTransport.server;\n      } else if (!sessionId && isInitializeRequest(body)) {\n        // Create a new transport for the session\n        transport = new StreamableHTTPServerTransport({\n          enableJsonResponse,\n          eventStore: eventStore || new InMemoryEventStore(),\n          onsessioninitialized: (_sessionId) => {\n            // add only when the id Session id is generated (skip in stateless mode)\n            if (!stateless && _sessionId) {\n              activeTransports[_sessionId] = {\n                server,\n                transport,\n              };\n            }\n          },\n          sessionIdGenerator: stateless ? undefined : randomUUID,\n        });\n\n        // Handle the server close event\n        let isCleaningUp = false;\n\n        transport.onclose = async () => {\n          const sid = transport.sessionId;\n\n          if (isCleaningUp) {\n            return;\n          }\n\n          isCleaningUp = true;\n\n          if (!stateless && sid && activeTransports[sid]) {\n            await cleanupServer(server, onClose);\n            delete activeTransports[sid];\n          } else if (stateless) {\n            // In stateless mode, always call onClose when transport closes\n            await cleanupServer(server, onClose);\n          }\n        };\n\n        try {\n          server = await createServer(req);\n        } catch (error) {\n          // Check if error is a Response object with headers already set\n          if (await handleResponseError(error, res)) {\n            return true;\n          }\n\n          // Detect authentication errors and return HTTP 401\n          const errorMessage =\n            error instanceof Error ? error.message : String(error);\n          const isAuthError =\n            errorMessage.includes(\"Authentication\") ||\n            errorMessage.includes(\"Invalid JWT\") ||\n            errorMessage.includes(\"Token\") ||\n            errorMessage.includes(\"Unauthorized\");\n\n          if (isAuthError) {\n            res.setHeader(\"Content-Type\", \"application/json\");\n\n            // Add WWW-Authenticate header if OAuth config is available\n            const wwwAuthHeader = getWWWAuthenticateHeader(oauth, {\n              error: \"invalid_token\",\n              error_description: errorMessage,\n            });\n            if (wwwAuthHeader) {\n              res.setHeader(\"WWW-Authenticate\", wwwAuthHeader);\n            }\n\n            res.writeHead(401).end(\n              JSON.stringify({\n                error: {\n                  code: -32000,\n                  message: errorMessage,\n                },\n                id: (body as { id?: unknown })?.id ?? null,\n                jsonrpc: \"2.0\",\n              }),\n            );\n            return true;\n          }\n\n          res.writeHead(500).end(\"Error creating server\");\n\n          return true;\n        }\n\n        server.connect(transport);\n\n        if (onConnect) {\n          await onConnect(server);\n        }\n\n        await transport.handleRequest(req, res, body);\n\n        return true;\n      } else if (stateless && !sessionId && !isInitializeRequest(body)) {\n        // In stateless mode, handle non-initialize requests by creating a new transport\n        transport = new StreamableHTTPServerTransport({\n          enableJsonResponse,\n          eventStore: eventStore || new InMemoryEventStore(),\n          onsessioninitialized: () => {\n            // No session tracking in stateless mode\n          },\n          sessionIdGenerator: undefined,\n        });\n\n        try {\n          server = await createServer(req);\n        } catch (error) {\n          // Check if error is a Response object with headers already set\n          if (await handleResponseError(error, res)) {\n            return true;\n          }\n\n          // Detect authentication errors and return HTTP 401\n          const errorMessage =\n            error instanceof Error ? error.message : String(error);\n          const isAuthError =\n            errorMessage.includes(\"Authentication\") ||\n            errorMessage.includes(\"Invalid JWT\") ||\n            errorMessage.includes(\"Token\") ||\n            errorMessage.includes(\"Unauthorized\");\n\n          if (isAuthError) {\n            res.setHeader(\"Content-Type\", \"application/json\");\n\n            // Add WWW-Authenticate header if OAuth config is available\n            const wwwAuthHeader = getWWWAuthenticateHeader(oauth, {\n              error: \"invalid_token\",\n              error_description: errorMessage,\n            });\n            if (wwwAuthHeader) {\n              res.setHeader(\"WWW-Authenticate\", wwwAuthHeader);\n            }\n\n            res.writeHead(401).end(\n              JSON.stringify({\n                error: {\n                  code: -32000,\n                  message: errorMessage,\n                },\n                id: (body as { id?: unknown })?.id ?? null,\n                jsonrpc: \"2.0\",\n              }),\n            );\n            return true;\n          }\n\n          res.writeHead(500).end(\"Error creating server\");\n\n          return true;\n        }\n\n        server.connect(transport);\n\n        if (onConnect) {\n          await onConnect(server);\n        }\n\n        await transport.handleRequest(req, res, body);\n\n        return true;\n      } else {\n        // Error if the server is not created but the request is not an initialize request\n        res.setHeader(\"Content-Type\", \"application/json\");\n\n        res\n          .writeHead(400)\n          .end(\n            createJsonRpcErrorResponse(\n              -32000,\n              \"Bad Request: No valid session ID provided\",\n            ),\n          );\n\n        return true;\n      }\n\n      // Handle the request if the server is already created\n      await transport.handleRequest(req, res, body);\n\n      return true;\n    } catch (error) {\n      // Check for scope challenge errors\n      if (isScopeChallengeError(error)) {\n        const response = authMiddleware.getScopeChallengeResponse(\n          error.data.requiredScopes,\n          error.data.errorDescription,\n          (body as { id?: unknown })?.id,\n        );\n\n        res.writeHead(response.statusCode, response.headers);\n        res.end(response.body);\n        return true;\n      }\n\n      console.error(\"[mcp-proxy] error handling request\", error);\n\n      res.setHeader(\"Content-Type\", \"application/json\");\n\n      res\n        .writeHead(500)\n        .end(createJsonRpcErrorResponse(-32603, \"Internal Server Error\"));\n    }\n    return true;\n  }\n\n  if (\n    req.method === \"GET\" &&\n    new URL(req.url!, \"http://localhost\").pathname === endpoint\n  ) {\n    const sessionId = req.headers[\"mcp-session-id\"] as string | undefined;\n    const activeTransport:\n      | {\n          server: T;\n          transport: StreamableHTTPServerTransport;\n        }\n      | undefined = sessionId ? activeTransports[sessionId] : undefined;\n\n    if (!sessionId) {\n      res.writeHead(400).end(\"No sessionId\");\n\n      return true;\n    }\n\n    if (!activeTransport) {\n      res.writeHead(400).end(\"No active transport\");\n\n      return true;\n    }\n\n    const lastEventId = req.headers[\"last-event-id\"] as string | undefined;\n\n    if (lastEventId) {\n      console.log(\n        `[mcp-proxy] client reconnecting with Last-Event-ID ${lastEventId} for session ID ${sessionId}`,\n      );\n    } else {\n      console.log(\n        `[mcp-proxy] establishing new SSE stream for session ID ${sessionId}`,\n      );\n    }\n\n    await activeTransport.transport.handleRequest(req, res);\n\n    return true;\n  }\n\n  if (\n    req.method === \"DELETE\" &&\n    new URL(req.url!, \"http://localhost\").pathname === endpoint\n  ) {\n    console.log(\"[mcp-proxy] received delete request\");\n\n    const sessionId = req.headers[\"mcp-session-id\"] as string | undefined;\n\n    if (!sessionId) {\n      res.writeHead(400).end(\"Invalid or missing sessionId\");\n\n      return true;\n    }\n\n    console.log(\"[mcp-proxy] received delete request for session\", sessionId);\n\n    const activeTransport = activeTransports[sessionId];\n\n    if (!activeTransport) {\n      res.writeHead(400).end(\"No active transport\");\n      return true;\n    }\n\n    try {\n      await activeTransport.transport.handleRequest(req, res);\n\n      await cleanupServer(activeTransport.server, onClose);\n    } catch (error) {\n      console.error(\"[mcp-proxy] error handling delete request\", error);\n\n      res.writeHead(500).end(\"Error handling delete request\");\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nconst handleSSERequest = async <T extends ServerLike>({\n  activeTransports,\n  createServer,\n  endpoint,\n  onClose,\n  onConnect,\n  req,\n  res,\n}: {\n  activeTransports: Record<string, SSEServerTransport>;\n  createServer: (request: http.IncomingMessage) => Promise<T>;\n  endpoint: string;\n  onClose?: (server: T) => Promise<void>;\n  onConnect?: (server: T) => Promise<void>;\n  req: http.IncomingMessage;\n  res: http.ServerResponse;\n}) => {\n  if (\n    req.method === \"GET\" &&\n    new URL(req.url!, \"http://localhost\").pathname === endpoint\n  ) {\n    const transport = new SSEServerTransport(\"/messages\", res);\n\n    let server: T;\n\n    try {\n      server = await createServer(req);\n    } catch (error) {\n      if (await handleResponseError(error, res)) {\n        return true;\n      }\n\n      res.writeHead(500).end(\"Error creating server\");\n\n      return true;\n    }\n\n    activeTransports[transport.sessionId] = transport;\n\n    let closed = false;\n    let isCleaningUp = false;\n\n    res.on(\"close\", async () => {\n      closed = true;\n\n      // Prevent recursive cleanup\n      if (isCleaningUp) {\n        return;\n      }\n\n      isCleaningUp = true;\n      await cleanupServer(server, onClose);\n\n      delete activeTransports[transport.sessionId];\n    });\n\n    try {\n      await server.connect(transport);\n\n      await transport.send({\n        jsonrpc: \"2.0\",\n        method: \"notifications/message\",\n        params: { data: \"SSE Connection established\", level: \"info\" },\n      });\n\n      if (onConnect) {\n        await onConnect(server);\n      }\n    } catch (error) {\n      if (!closed) {\n        console.error(\"[mcp-proxy] error connecting to server\", error);\n\n        res.writeHead(500).end(\"Error connecting to server\");\n      }\n    }\n\n    return true;\n  }\n\n  if (req.method === \"POST\" && req.url?.startsWith(\"/messages\")) {\n    const sessionId = new URL(req.url, \"https://example.com\").searchParams.get(\n      \"sessionId\",\n    );\n\n    if (!sessionId) {\n      res.writeHead(400).end(\"No sessionId\");\n\n      return true;\n    }\n\n    const activeTransport: SSEServerTransport | undefined =\n      activeTransports[sessionId];\n\n    if (!activeTransport) {\n      res.writeHead(400).end(\"No active transport\");\n\n      return true;\n    }\n\n    await activeTransport.handlePostMessage(req, res);\n\n    return true;\n  }\n\n  return false;\n};\n\nexport const startHTTPServer = async <T extends ServerLike>({\n  apiKey,\n  authenticate,\n  cors,\n  createServer,\n  enableJsonResponse,\n  eventStore,\n  host = \"::\",\n  oauth,\n  onClose,\n  onConnect,\n  onUnhandledRequest,\n  port,\n  sseEndpoint = \"/sse\",\n  stateless,\n  streamEndpoint = \"/mcp\",\n}: {\n  apiKey?: string;\n  authenticate?: (request: http.IncomingMessage) => Promise<unknown>;\n  cors?: boolean | CorsOptions;\n  createServer: (request: http.IncomingMessage) => Promise<T>;\n  enableJsonResponse?: boolean;\n  eventStore?: EventStore;\n  host?: string;\n  oauth?: AuthConfig[\"oauth\"];\n  onClose?: (server: T) => Promise<void>;\n  onConnect?: (server: T) => Promise<void>;\n  onUnhandledRequest?: (\n    req: http.IncomingMessage,\n    res: http.ServerResponse,\n  ) => Promise<void>;\n  port: number;\n  sseEndpoint?: null | string;\n  stateless?: boolean;\n  streamEndpoint?: null | string;\n}): Promise<SSEServer> => {\n  const activeSSETransports: Record<string, SSEServerTransport> = {};\n\n  const activeStreamTransports: Record<\n    string,\n    {\n      server: T;\n      transport: StreamableHTTPServerTransport;\n    }\n  > = {};\n\n  const authMiddleware = new AuthenticationMiddleware({ apiKey, oauth });\n\n  /**\n   * @author https://dev.classmethod.jp/articles/mcp-sse/\n   */\n  const httpServer = http.createServer(async (req, res) => {\n    // Apply CORS headers\n    applyCorsHeaders(req, res, cors);\n\n    if (req.method === \"OPTIONS\") {\n      res.writeHead(204);\n      res.end();\n      return;\n    }\n\n    if (req.method === \"GET\" && req.url === `/ping`) {\n      res.writeHead(200).end(\"pong\");\n      return;\n    }\n\n    // Check authentication for all other endpoints\n    if (!authMiddleware.validateRequest(req)) {\n      const authResponse = authMiddleware.getUnauthorizedResponse();\n      res.writeHead(401, authResponse.headers);\n      res.end(authResponse.body);\n      return;\n    }\n\n    if (\n      sseEndpoint &&\n      (await handleSSERequest({\n        activeTransports: activeSSETransports,\n        createServer,\n        endpoint: sseEndpoint,\n        onClose,\n        onConnect,\n        req,\n        res,\n      }))\n    ) {\n      return;\n    }\n\n    if (\n      streamEndpoint &&\n      (await handleStreamRequest({\n        activeTransports: activeStreamTransports,\n        authenticate,\n        authMiddleware,\n        createServer,\n        enableJsonResponse,\n        endpoint: streamEndpoint,\n        eventStore,\n        oauth,\n        onClose,\n        onConnect,\n        req,\n        res,\n        stateless,\n      }))\n    ) {\n      return;\n    }\n\n    if (onUnhandledRequest) {\n      await onUnhandledRequest(req, res);\n    } else {\n      res.writeHead(404).end();\n    }\n  });\n\n  await new Promise((resolve) => {\n    httpServer.listen(port, host, () => {\n      resolve(undefined);\n    });\n  });\n\n  return {\n    close: async () => {\n      for (const transport of Object.values(activeSSETransports)) {\n        await transport.close();\n      }\n\n      for (const transport of Object.values(activeStreamTransports)) {\n        await transport.transport.close();\n      }\n\n      return new Promise((resolve, reject) => {\n        httpServer.close((error) => {\n          if (error) {\n            reject(error);\n\n            return;\n          }\n\n          resolve();\n        });\n      });\n    },\n  };\n};\n","// zod-compat.ts\n// ----------------------------------------------------\n// Unified types + helpers to accept Zod v3 and v4 (Mini)\n// ----------------------------------------------------\nimport * as z3rt from 'zod/v3';\nimport * as z4mini from 'zod/v4-mini';\n// --- Runtime detection ---\nexport function isZ4Schema(s) {\n    // Present on Zod 4 (Classic & Mini) schemas; absent on Zod 3\n    const schema = s;\n    return !!schema._zod;\n}\n// --- Schema construction ---\nexport function objectFromShape(shape) {\n    const values = Object.values(shape);\n    if (values.length === 0)\n        return z4mini.object({}); // default to v4 Mini\n    const allV4 = values.every(isZ4Schema);\n    const allV3 = values.every(s => !isZ4Schema(s));\n    if (allV4)\n        return z4mini.object(shape);\n    if (allV3)\n        return z3rt.object(shape);\n    throw new Error('Mixed Zod versions detected in object shape.');\n}\n// --- Unified parsing ---\nexport function safeParse(schema, data) {\n    if (isZ4Schema(schema)) {\n        // Mini exposes top-level safeParse\n        const result = z4mini.safeParse(schema, data);\n        return result;\n    }\n    const v3Schema = schema;\n    const result = v3Schema.safeParse(data);\n    return result;\n}\nexport async function safeParseAsync(schema, data) {\n    if (isZ4Schema(schema)) {\n        // Mini exposes top-level safeParseAsync\n        const result = await z4mini.safeParseAsync(schema, data);\n        return result;\n    }\n    const v3Schema = schema;\n    const result = await v3Schema.safeParseAsync(data);\n    return result;\n}\n// --- Shape extraction ---\nexport function getObjectShape(schema) {\n    var _a, _b;\n    if (!schema)\n        return undefined;\n    // Zod v3 exposes `.shape`; Zod v4 keeps the shape on `_zod.def.shape`\n    let rawShape;\n    if (isZ4Schema(schema)) {\n        const v4Schema = schema;\n        rawShape = (_b = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def) === null || _b === void 0 ? void 0 : _b.shape;\n    }\n    else {\n        const v3Schema = schema;\n        rawShape = v3Schema.shape;\n    }\n    if (!rawShape)\n        return undefined;\n    if (typeof rawShape === 'function') {\n        try {\n            return rawShape();\n        }\n        catch (_c) {\n            return undefined;\n        }\n    }\n    return rawShape;\n}\n// --- Schema normalization ---\n/**\n * Normalizes a schema to an object schema. Handles both:\n * - Already-constructed object schemas (v3 or v4)\n * - Raw shapes that need to be wrapped into object schemas\n */\nexport function normalizeObjectSchema(schema) {\n    var _a;\n    if (!schema)\n        return undefined;\n    // First check if it's a raw shape (Record<string, AnySchema>)\n    // Raw shapes don't have _def or _zod properties and aren't schemas themselves\n    if (typeof schema === 'object') {\n        // Check if it's actually a ZodRawShapeCompat (not a schema instance)\n        // by checking if it lacks schema-like internal properties\n        const asV3 = schema;\n        const asV4 = schema;\n        // If it's not a schema instance (no _def or _zod), it might be a raw shape\n        if (!asV3._def && !asV4._zod) {\n            // Check if all values are schemas (heuristic to confirm it's a raw shape)\n            const values = Object.values(schema);\n            if (values.length > 0 &&\n                values.every(v => typeof v === 'object' &&\n                    v !== null &&\n                    (v._def !== undefined ||\n                        v._zod !== undefined ||\n                        typeof v.parse === 'function'))) {\n                return objectFromShape(schema);\n            }\n        }\n    }\n    // If we get here, it should be an AnySchema (not a raw shape)\n    // Check if it's already an object schema\n    if (isZ4Schema(schema)) {\n        // Check if it's a v4 object\n        const v4Schema = schema;\n        const def = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def;\n        if (def && (def.type === 'object' || def.shape !== undefined)) {\n            return schema;\n        }\n    }\n    else {\n        // Check if it's a v3 object\n        const v3Schema = schema;\n        if (v3Schema.shape !== undefined) {\n            return schema;\n        }\n    }\n    return undefined;\n}\n// --- Error message extraction ---\n/**\n * Safely extracts an error message from a parse result error.\n * Zod errors can have different structures, so we handle various cases.\n */\nexport function getParseErrorMessage(error) {\n    if (error && typeof error === 'object') {\n        // Try common error structures\n        if ('message' in error && typeof error.message === 'string') {\n            return error.message;\n        }\n        if ('issues' in error && Array.isArray(error.issues) && error.issues.length > 0) {\n            const firstIssue = error.issues[0];\n            if (firstIssue && typeof firstIssue === 'object' && 'message' in firstIssue) {\n                return String(firstIssue.message);\n            }\n        }\n        // Fallback: try to stringify the error\n        try {\n            return JSON.stringify(error);\n        }\n        catch (_a) {\n            return String(error);\n        }\n    }\n    return String(error);\n}\n// --- Schema metadata access ---\n/**\n * Gets the description from a schema, if available.\n * Works with both Zod v3 and v4.\n */\nexport function getSchemaDescription(schema) {\n    var _a, _b, _c, _d;\n    if (isZ4Schema(schema)) {\n        const v4Schema = schema;\n        return (_b = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def) === null || _b === void 0 ? void 0 : _b.description;\n    }\n    const v3Schema = schema;\n    // v3 may have description on the schema itself or in _def\n    return (_c = schema.description) !== null && _c !== void 0 ? _c : (_d = v3Schema._def) === null || _d === void 0 ? void 0 : _d.description;\n}\n/**\n * Checks if a schema is optional.\n * Works with both Zod v3 and v4.\n */\nexport function isSchemaOptional(schema) {\n    var _a, _b, _c;\n    if (isZ4Schema(schema)) {\n        const v4Schema = schema;\n        return ((_b = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def) === null || _b === void 0 ? void 0 : _b.type) === 'optional';\n    }\n    const v3Schema = schema;\n    // v3 has isOptional() method\n    if (typeof schema.isOptional === 'function') {\n        return schema.isOptional();\n    }\n    return ((_c = v3Schema._def) === null || _c === void 0 ? void 0 : _c.typeName) === 'ZodOptional';\n}\n/**\n * Gets the literal value from a schema, if it's a literal schema.\n * Works with both Zod v3 and v4.\n * Returns undefined if the schema is not a literal or the value cannot be determined.\n */\nexport function getLiteralValue(schema) {\n    var _a;\n    if (isZ4Schema(schema)) {\n        const v4Schema = schema;\n        const def = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def;\n        if (def) {\n            // Try various ways to get the literal value\n            if (def.value !== undefined)\n                return def.value;\n            if (Array.isArray(def.values) && def.values.length > 0) {\n                return def.values[0];\n            }\n        }\n    }\n    const v3Schema = schema;\n    const def = v3Schema._def;\n    if (def) {\n        if (def.value !== undefined)\n            return def.value;\n        if (Array.isArray(def.values) && def.values.length > 0) {\n            return def.values[0];\n        }\n    }\n    // Fallback: check for direct value property (some Zod versions)\n    const directValue = schema.value;\n    if (directValue !== undefined)\n        return directValue;\n    return undefined;\n}\n//# sourceMappingURL=zod-compat.js.map","/**\n * Experimental task interfaces for MCP SDK.\n * WARNING: These APIs are experimental and may change without notice.\n */\n/**\n * Checks if a task status represents a terminal state.\n * Terminal states are those where the task has finished and will not change.\n *\n * @param status - The task status to check\n * @returns True if the status is terminal (completed, failed, or cancelled)\n * @experimental\n */\nexport function isTerminal(status) {\n    return status === 'completed' || status === 'failed' || status === 'cancelled';\n}\n//# sourceMappingURL=interfaces.js.map","// zod-json-schema-compat.ts\n// ----------------------------------------------------\n// JSON Schema conversion for both Zod v3 and Zod v4 (Mini)\n// v3 uses your vendored converter; v4 uses Mini's toJSONSchema\n// ----------------------------------------------------\nimport * as z4mini from 'zod/v4-mini';\nimport { getObjectShape, safeParse, isZ4Schema, getLiteralValue } from './zod-compat.js';\nimport { zodToJsonSchema } from 'zod-to-json-schema';\nfunction mapMiniTarget(t) {\n    if (!t)\n        return 'draft-7';\n    if (t === 'jsonSchema7' || t === 'draft-7')\n        return 'draft-7';\n    if (t === 'jsonSchema2019-09' || t === 'draft-2020-12')\n        return 'draft-2020-12';\n    return 'draft-7'; // fallback\n}\nexport function toJsonSchemaCompat(schema, opts) {\n    var _a, _b, _c;\n    if (isZ4Schema(schema)) {\n        // v4 branch  use Mini's built-in toJSONSchema\n        return z4mini.toJSONSchema(schema, {\n            target: mapMiniTarget(opts === null || opts === void 0 ? void 0 : opts.target),\n            io: (_a = opts === null || opts === void 0 ? void 0 : opts.pipeStrategy) !== null && _a !== void 0 ? _a : 'input'\n        });\n    }\n    // v3 branch  use vendored converter\n    return zodToJsonSchema(schema, {\n        strictUnions: (_b = opts === null || opts === void 0 ? void 0 : opts.strictUnions) !== null && _b !== void 0 ? _b : true,\n        pipeStrategy: (_c = opts === null || opts === void 0 ? void 0 : opts.pipeStrategy) !== null && _c !== void 0 ? _c : 'input'\n    });\n}\nexport function getMethodLiteral(schema) {\n    const shape = getObjectShape(schema);\n    const methodSchema = shape === null || shape === void 0 ? void 0 : shape.method;\n    if (!methodSchema) {\n        throw new Error('Schema is missing a method literal');\n    }\n    const value = getLiteralValue(methodSchema);\n    if (typeof value !== 'string') {\n        throw new Error('Schema method literal must be a string');\n    }\n    return value;\n}\nexport function parseWithCompat(schema, data) {\n    const result = safeParse(schema, data);\n    if (!result.success) {\n        throw result.error;\n    }\n    return result.data;\n}\n//# sourceMappingURL=zod-json-schema-compat.js.map","import { safeParse } from '../server/zod-compat.js';\nimport { CancelledNotificationSchema, CreateTaskResultSchema, ErrorCode, GetTaskRequestSchema, GetTaskResultSchema, GetTaskPayloadRequestSchema, ListTasksRequestSchema, ListTasksResultSchema, CancelTaskRequestSchema, CancelTaskResultSchema, isJSONRPCError, isJSONRPCRequest, isJSONRPCResponse, isJSONRPCNotification, McpError, PingRequestSchema, ProgressNotificationSchema, RELATED_TASK_META_KEY, TaskStatusNotificationSchema } from '../types.js';\nimport { isTerminal } from '../experimental/tasks/interfaces.js';\nimport { getMethodLiteral, parseWithCompat } from '../server/zod-json-schema-compat.js';\n/**\n * The default request timeout, in miliseconds.\n */\nexport const DEFAULT_REQUEST_TIMEOUT_MSEC = 60000;\n/**\n * Implements MCP protocol framing on top of a pluggable transport, including\n * features like request/response linking, notifications, and progress.\n */\nexport class Protocol {\n    constructor(_options) {\n        this._options = _options;\n        this._requestMessageId = 0;\n        this._requestHandlers = new Map();\n        this._requestHandlerAbortControllers = new Map();\n        this._notificationHandlers = new Map();\n        this._responseHandlers = new Map();\n        this._progressHandlers = new Map();\n        this._timeoutInfo = new Map();\n        this._pendingDebouncedNotifications = new Set();\n        // Maps task IDs to progress tokens to keep handlers alive after CreateTaskResult\n        this._taskProgressTokens = new Map();\n        this._requestResolvers = new Map();\n        this.setNotificationHandler(CancelledNotificationSchema, notification => {\n            this._oncancel(notification);\n        });\n        this.setNotificationHandler(ProgressNotificationSchema, notification => {\n            this._onprogress(notification);\n        });\n        this.setRequestHandler(PingRequestSchema, \n        // Automatic pong by default.\n        _request => ({}));\n        // Install task handlers if TaskStore is provided\n        this._taskStore = _options === null || _options === void 0 ? void 0 : _options.taskStore;\n        this._taskMessageQueue = _options === null || _options === void 0 ? void 0 : _options.taskMessageQueue;\n        if (this._taskStore) {\n            this.setRequestHandler(GetTaskRequestSchema, async (request, extra) => {\n                const task = await this._taskStore.getTask(request.params.taskId, extra.sessionId);\n                if (!task) {\n                    throw new McpError(ErrorCode.InvalidParams, 'Failed to retrieve task: Task not found');\n                }\n                // Per spec: tasks/get responses SHALL NOT include related-task metadata\n                // as the taskId parameter is the source of truth\n                // @ts-expect-error SendResultT cannot contain GetTaskResult, but we include it in our derived types everywhere else\n                return {\n                    ...task\n                };\n            });\n            this.setRequestHandler(GetTaskPayloadRequestSchema, async (request, extra) => {\n                const handleTaskResult = async () => {\n                    var _a;\n                    const taskId = request.params.taskId;\n                    // Deliver queued messages\n                    if (this._taskMessageQueue) {\n                        let queuedMessage;\n                        while ((queuedMessage = await this._taskMessageQueue.dequeue(taskId, extra.sessionId))) {\n                            // Handle response and error messages by routing them to the appropriate resolver\n                            if (queuedMessage.type === 'response' || queuedMessage.type === 'error') {\n                                const message = queuedMessage.message;\n                                const requestId = message.id;\n                                // Lookup resolver in _requestResolvers map\n                                const resolver = this._requestResolvers.get(requestId);\n                                if (resolver) {\n                                    // Remove resolver from map after invocation\n                                    this._requestResolvers.delete(requestId);\n                                    // Invoke resolver with response or error\n                                    if (queuedMessage.type === 'response') {\n                                        resolver(message);\n                                    }\n                                    else {\n                                        // Convert JSONRPCError to McpError\n                                        const errorMessage = message;\n                                        const error = new McpError(errorMessage.error.code, errorMessage.error.message, errorMessage.error.data);\n                                        resolver(error);\n                                    }\n                                }\n                                else {\n                                    // Handle missing resolver gracefully with error logging\n                                    const messageType = queuedMessage.type === 'response' ? 'Response' : 'Error';\n                                    this._onerror(new Error(`${messageType} handler missing for request ${requestId}`));\n                                }\n                                // Continue to next message\n                                continue;\n                            }\n                            // Send the message on the response stream by passing the relatedRequestId\n                            // This tells the transport to write the message to the tasks/result response stream\n                            await ((_a = this._transport) === null || _a === void 0 ? void 0 : _a.send(queuedMessage.message, { relatedRequestId: extra.requestId }));\n                        }\n                    }\n                    // Now check task status\n                    const task = await this._taskStore.getTask(taskId, extra.sessionId);\n                    if (!task) {\n                        throw new McpError(ErrorCode.InvalidParams, `Task not found: ${taskId}`);\n                    }\n                    // Block if task is not terminal (we've already delivered all queued messages above)\n                    if (!isTerminal(task.status)) {\n                        // Wait for status change or new messages\n                        await this._waitForTaskUpdate(taskId, extra.signal);\n                        // After waking up, recursively call to deliver any new messages or result\n                        return await handleTaskResult();\n                    }\n                    // If task is terminal, return the result\n                    if (isTerminal(task.status)) {\n                        const result = await this._taskStore.getTaskResult(taskId, extra.sessionId);\n                        this._clearTaskQueue(taskId);\n                        return {\n                            ...result,\n                            _meta: {\n                                ...result._meta,\n                                [RELATED_TASK_META_KEY]: {\n                                    taskId: taskId\n                                }\n                            }\n                        };\n                    }\n                    return await handleTaskResult();\n                };\n                return await handleTaskResult();\n            });\n            this.setRequestHandler(ListTasksRequestSchema, async (request, extra) => {\n                var _a;\n                try {\n                    const { tasks, nextCursor } = await this._taskStore.listTasks((_a = request.params) === null || _a === void 0 ? void 0 : _a.cursor, extra.sessionId);\n                    // @ts-expect-error SendResultT cannot contain ListTasksResult, but we include it in our derived types everywhere else\n                    return {\n                        tasks,\n                        nextCursor,\n                        _meta: {}\n                    };\n                }\n                catch (error) {\n                    throw new McpError(ErrorCode.InvalidParams, `Failed to list tasks: ${error instanceof Error ? error.message : String(error)}`);\n                }\n            });\n            this.setRequestHandler(CancelTaskRequestSchema, async (request, extra) => {\n                try {\n                    // Get the current task to check if it's in a terminal state, in case the implementation is not atomic\n                    const task = await this._taskStore.getTask(request.params.taskId, extra.sessionId);\n                    if (!task) {\n                        throw new McpError(ErrorCode.InvalidParams, `Task not found: ${request.params.taskId}`);\n                    }\n                    // Reject cancellation of terminal tasks\n                    if (isTerminal(task.status)) {\n                        throw new McpError(ErrorCode.InvalidParams, `Cannot cancel task in terminal status: ${task.status}`);\n                    }\n                    await this._taskStore.updateTaskStatus(request.params.taskId, 'cancelled', 'Client cancelled task execution.', extra.sessionId);\n                    this._clearTaskQueue(request.params.taskId);\n                    const cancelledTask = await this._taskStore.getTask(request.params.taskId, extra.sessionId);\n                    if (!cancelledTask) {\n                        // Task was deleted during cancellation (e.g., cleanup happened)\n                        throw new McpError(ErrorCode.InvalidParams, `Task not found after cancellation: ${request.params.taskId}`);\n                    }\n                    return {\n                        _meta: {},\n                        ...cancelledTask\n                    };\n                }\n                catch (error) {\n                    // Re-throw McpError as-is\n                    if (error instanceof McpError) {\n                        throw error;\n                    }\n                    throw new McpError(ErrorCode.InvalidRequest, `Failed to cancel task: ${error instanceof Error ? error.message : String(error)}`);\n                }\n            });\n        }\n    }\n    async _oncancel(notification) {\n        // Handle request cancellation\n        const controller = this._requestHandlerAbortControllers.get(notification.params.requestId);\n        controller === null || controller === void 0 ? void 0 : controller.abort(notification.params.reason);\n    }\n    _setupTimeout(messageId, timeout, maxTotalTimeout, onTimeout, resetTimeoutOnProgress = false) {\n        this._timeoutInfo.set(messageId, {\n            timeoutId: setTimeout(onTimeout, timeout),\n            startTime: Date.now(),\n            timeout,\n            maxTotalTimeout,\n            resetTimeoutOnProgress,\n            onTimeout\n        });\n    }\n    _resetTimeout(messageId) {\n        const info = this._timeoutInfo.get(messageId);\n        if (!info)\n            return false;\n        const totalElapsed = Date.now() - info.startTime;\n        if (info.maxTotalTimeout && totalElapsed >= info.maxTotalTimeout) {\n            this._timeoutInfo.delete(messageId);\n            throw McpError.fromError(ErrorCode.RequestTimeout, 'Maximum total timeout exceeded', {\n                maxTotalTimeout: info.maxTotalTimeout,\n                totalElapsed\n            });\n        }\n        clearTimeout(info.timeoutId);\n        info.timeoutId = setTimeout(info.onTimeout, info.timeout);\n        return true;\n    }\n    _cleanupTimeout(messageId) {\n        const info = this._timeoutInfo.get(messageId);\n        if (info) {\n            clearTimeout(info.timeoutId);\n            this._timeoutInfo.delete(messageId);\n        }\n    }\n    /**\n     * Attaches to the given transport, starts it, and starts listening for messages.\n     *\n     * The Protocol object assumes ownership of the Transport, replacing any callbacks that have already been set, and expects that it is the only user of the Transport instance going forward.\n     */\n    async connect(transport) {\n        var _a, _b, _c;\n        this._transport = transport;\n        const _onclose = (_a = this.transport) === null || _a === void 0 ? void 0 : _a.onclose;\n        this._transport.onclose = () => {\n            _onclose === null || _onclose === void 0 ? void 0 : _onclose();\n            this._onclose();\n        };\n        const _onerror = (_b = this.transport) === null || _b === void 0 ? void 0 : _b.onerror;\n        this._transport.onerror = (error) => {\n            _onerror === null || _onerror === void 0 ? void 0 : _onerror(error);\n            this._onerror(error);\n        };\n        const _onmessage = (_c = this._transport) === null || _c === void 0 ? void 0 : _c.onmessage;\n        this._transport.onmessage = (message, extra) => {\n            _onmessage === null || _onmessage === void 0 ? void 0 : _onmessage(message, extra);\n            if (isJSONRPCResponse(message) || isJSONRPCError(message)) {\n                this._onresponse(message);\n            }\n            else if (isJSONRPCRequest(message)) {\n                this._onrequest(message, extra);\n            }\n            else if (isJSONRPCNotification(message)) {\n                this._onnotification(message);\n            }\n            else {\n                this._onerror(new Error(`Unknown message type: ${JSON.stringify(message)}`));\n            }\n        };\n        await this._transport.start();\n    }\n    _onclose() {\n        var _a;\n        const responseHandlers = this._responseHandlers;\n        this._responseHandlers = new Map();\n        this._progressHandlers.clear();\n        this._taskProgressTokens.clear();\n        this._pendingDebouncedNotifications.clear();\n        const error = McpError.fromError(ErrorCode.ConnectionClosed, 'Connection closed');\n        this._transport = undefined;\n        (_a = this.onclose) === null || _a === void 0 ? void 0 : _a.call(this);\n        for (const handler of responseHandlers.values()) {\n            handler(error);\n        }\n    }\n    _onerror(error) {\n        var _a;\n        (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);\n    }\n    _onnotification(notification) {\n        var _a;\n        const handler = (_a = this._notificationHandlers.get(notification.method)) !== null && _a !== void 0 ? _a : this.fallbackNotificationHandler;\n        // Ignore notifications not being subscribed to.\n        if (handler === undefined) {\n            return;\n        }\n        // Starting with Promise.resolve() puts any synchronous errors into the monad as well.\n        Promise.resolve()\n            .then(() => handler(notification))\n            .catch(error => this._onerror(new Error(`Uncaught error in notification handler: ${error}`)));\n    }\n    _onrequest(request, extra) {\n        var _a, _b, _c, _d, _e, _f;\n        const handler = (_a = this._requestHandlers.get(request.method)) !== null && _a !== void 0 ? _a : this.fallbackRequestHandler;\n        // Capture the current transport at request time to ensure responses go to the correct client\n        const capturedTransport = this._transport;\n        // Extract taskId from request metadata if present (needed early for method not found case)\n        const relatedTaskId = (_d = (_c = (_b = request.params) === null || _b === void 0 ? void 0 : _b._meta) === null || _c === void 0 ? void 0 : _c[RELATED_TASK_META_KEY]) === null || _d === void 0 ? void 0 : _d.taskId;\n        if (handler === undefined) {\n            const errorResponse = {\n                jsonrpc: '2.0',\n                id: request.id,\n                error: {\n                    code: ErrorCode.MethodNotFound,\n                    message: 'Method not found'\n                }\n            };\n            // Queue or send the error response based on whether this is a task-related request\n            if (relatedTaskId && this._taskMessageQueue) {\n                this._enqueueTaskMessage(relatedTaskId, {\n                    type: 'error',\n                    message: errorResponse,\n                    timestamp: Date.now()\n                }, capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.sessionId).catch(error => this._onerror(new Error(`Failed to enqueue error response: ${error}`)));\n            }\n            else {\n                capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.send(errorResponse).catch(error => this._onerror(new Error(`Failed to send an error response: ${error}`)));\n            }\n            return;\n        }\n        const abortController = new AbortController();\n        this._requestHandlerAbortControllers.set(request.id, abortController);\n        const taskCreationParams = (_e = request.params) === null || _e === void 0 ? void 0 : _e.task;\n        const taskStore = this._taskStore ? this.requestTaskStore(request, capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.sessionId) : undefined;\n        const fullExtra = {\n            signal: abortController.signal,\n            sessionId: capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.sessionId,\n            _meta: (_f = request.params) === null || _f === void 0 ? void 0 : _f._meta,\n            sendNotification: async (notification) => {\n                // Include related-task metadata if this request is part of a task\n                const notificationOptions = { relatedRequestId: request.id };\n                if (relatedTaskId) {\n                    notificationOptions.relatedTask = { taskId: relatedTaskId };\n                }\n                await this.notification(notification, notificationOptions);\n            },\n            sendRequest: async (r, resultSchema, options) => {\n                var _a, _b;\n                // Include related-task metadata if this request is part of a task\n                const requestOptions = { ...options, relatedRequestId: request.id };\n                if (relatedTaskId && !requestOptions.relatedTask) {\n                    requestOptions.relatedTask = { taskId: relatedTaskId };\n                }\n                // Set task status to input_required when sending a request within a task context\n                // Use the taskId from options (explicit) or fall back to relatedTaskId (inherited)\n                const effectiveTaskId = (_b = (_a = requestOptions.relatedTask) === null || _a === void 0 ? void 0 : _a.taskId) !== null && _b !== void 0 ? _b : relatedTaskId;\n                if (effectiveTaskId && taskStore) {\n                    await taskStore.updateTaskStatus(effectiveTaskId, 'input_required');\n                }\n                return await this.request(r, resultSchema, requestOptions);\n            },\n            authInfo: extra === null || extra === void 0 ? void 0 : extra.authInfo,\n            requestId: request.id,\n            requestInfo: extra === null || extra === void 0 ? void 0 : extra.requestInfo,\n            taskId: relatedTaskId,\n            taskStore: taskStore,\n            taskRequestedTtl: taskCreationParams === null || taskCreationParams === void 0 ? void 0 : taskCreationParams.ttl,\n            closeSSEStream: extra === null || extra === void 0 ? void 0 : extra.closeSSEStream,\n            closeStandaloneSSEStream: extra === null || extra === void 0 ? void 0 : extra.closeStandaloneSSEStream\n        };\n        // Starting with Promise.resolve() puts any synchronous errors into the monad as well.\n        Promise.resolve()\n            .then(() => {\n            // If this request asked for task creation, check capability first\n            if (taskCreationParams) {\n                // Check if the request method supports task creation\n                this.assertTaskHandlerCapability(request.method);\n            }\n        })\n            .then(() => handler(request, fullExtra))\n            .then(async (result) => {\n            if (abortController.signal.aborted) {\n                // Request was cancelled\n                return;\n            }\n            const response = {\n                result,\n                jsonrpc: '2.0',\n                id: request.id\n            };\n            // Queue or send the response based on whether this is a task-related request\n            if (relatedTaskId && this._taskMessageQueue) {\n                await this._enqueueTaskMessage(relatedTaskId, {\n                    type: 'response',\n                    message: response,\n                    timestamp: Date.now()\n                }, capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.sessionId);\n            }\n            else {\n                await (capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.send(response));\n            }\n        }, async (error) => {\n            var _a;\n            if (abortController.signal.aborted) {\n                // Request was cancelled\n                return;\n            }\n            const errorResponse = {\n                jsonrpc: '2.0',\n                id: request.id,\n                error: {\n                    code: Number.isSafeInteger(error['code']) ? error['code'] : ErrorCode.InternalError,\n                    message: (_a = error.message) !== null && _a !== void 0 ? _a : 'Internal error',\n                    ...(error['data'] !== undefined && { data: error['data'] })\n                }\n            };\n            // Queue or send the error response based on whether this is a task-related request\n            if (relatedTaskId && this._taskMessageQueue) {\n                await this._enqueueTaskMessage(relatedTaskId, {\n                    type: 'error',\n                    message: errorResponse,\n                    timestamp: Date.now()\n                }, capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.sessionId);\n            }\n            else {\n                await (capturedTransport === null || capturedTransport === void 0 ? void 0 : capturedTransport.send(errorResponse));\n            }\n        })\n            .catch(error => this._onerror(new Error(`Failed to send response: ${error}`)))\n            .finally(() => {\n            this._requestHandlerAbortControllers.delete(request.id);\n        });\n    }\n    _onprogress(notification) {\n        const { progressToken, ...params } = notification.params;\n        const messageId = Number(progressToken);\n        const handler = this._progressHandlers.get(messageId);\n        if (!handler) {\n            this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(notification)}`));\n            return;\n        }\n        const responseHandler = this._responseHandlers.get(messageId);\n        const timeoutInfo = this._timeoutInfo.get(messageId);\n        if (timeoutInfo && responseHandler && timeoutInfo.resetTimeoutOnProgress) {\n            try {\n                this._resetTimeout(messageId);\n            }\n            catch (error) {\n                // Clean up if maxTotalTimeout was exceeded\n                this._responseHandlers.delete(messageId);\n                this._progressHandlers.delete(messageId);\n                this._cleanupTimeout(messageId);\n                responseHandler(error);\n                return;\n            }\n        }\n        handler(params);\n    }\n    _onresponse(response) {\n        const messageId = Number(response.id);\n        // Check if this is a response to a queued request\n        const resolver = this._requestResolvers.get(messageId);\n        if (resolver) {\n            this._requestResolvers.delete(messageId);\n            if (isJSONRPCResponse(response)) {\n                resolver(response);\n            }\n            else {\n                const error = new McpError(response.error.code, response.error.message, response.error.data);\n                resolver(error);\n            }\n            return;\n        }\n        const handler = this._responseHandlers.get(messageId);\n        if (handler === undefined) {\n            this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(response)}`));\n            return;\n        }\n        this._responseHandlers.delete(messageId);\n        this._cleanupTimeout(messageId);\n        // Keep progress handler alive for CreateTaskResult responses\n        let isTaskResponse = false;\n        if (isJSONRPCResponse(response) && response.result && typeof response.result === 'object') {\n            const result = response.result;\n            if (result.task && typeof result.task === 'object') {\n                const task = result.task;\n                if (typeof task.taskId === 'string') {\n                    isTaskResponse = true;\n                    this._taskProgressTokens.set(task.taskId, messageId);\n                }\n            }\n        }\n        if (!isTaskResponse) {\n            this._progressHandlers.delete(messageId);\n        }\n        if (isJSONRPCResponse(response)) {\n            handler(response);\n        }\n        else {\n            const error = McpError.fromError(response.error.code, response.error.message, response.error.data);\n            handler(error);\n        }\n    }\n    get transport() {\n        return this._transport;\n    }\n    /**\n     * Closes the connection.\n     */\n    async close() {\n        var _a;\n        await ((_a = this._transport) === null || _a === void 0 ? void 0 : _a.close());\n    }\n    /**\n     * Sends a request and returns an AsyncGenerator that yields response messages.\n     * The generator is guaranteed to end with either a 'result' or 'error' message.\n     *\n     * @example\n     * ```typescript\n     * const stream = protocol.requestStream(request, resultSchema, options);\n     * for await (const message of stream) {\n     *   switch (message.type) {\n     *     case 'taskCreated':\n     *       console.log('Task created:', message.task.taskId);\n     *       break;\n     *     case 'taskStatus':\n     *       console.log('Task status:', message.task.status);\n     *       break;\n     *     case 'result':\n     *       console.log('Final result:', message.result);\n     *       break;\n     *     case 'error':\n     *       console.error('Error:', message.error);\n     *       break;\n     *   }\n     * }\n     * ```\n     *\n     * @experimental Use `client.experimental.tasks.requestStream()` to access this method.\n     */\n    async *requestStream(request, resultSchema, options) {\n        var _a, _b, _c, _d;\n        const { task } = options !== null && options !== void 0 ? options : {};\n        // For non-task requests, just yield the result\n        if (!task) {\n            try {\n                const result = await this.request(request, resultSchema, options);\n                yield { type: 'result', result };\n            }\n            catch (error) {\n                yield {\n                    type: 'error',\n                    error: error instanceof McpError ? error : new McpError(ErrorCode.InternalError, String(error))\n                };\n            }\n            return;\n        }\n        // For task-augmented requests, we need to poll for status\n        // First, make the request to create the task\n        let taskId;\n        try {\n            // Send the request and get the CreateTaskResult\n            const createResult = await this.request(request, CreateTaskResultSchema, options);\n            // Extract taskId from the result\n            if (createResult.task) {\n                taskId = createResult.task.taskId;\n                yield { type: 'taskCreated', task: createResult.task };\n            }\n            else {\n                throw new McpError(ErrorCode.InternalError, 'Task creation did not return a task');\n            }\n            // Poll for task completion\n            while (true) {\n                // Get current task status\n                const task = await this.getTask({ taskId }, options);\n                yield { type: 'taskStatus', task };\n                // Check if task is terminal\n                if (isTerminal(task.status)) {\n                    if (task.status === 'completed') {\n                        // Get the final result\n                        const result = await this.getTaskResult({ taskId }, resultSchema, options);\n                        yield { type: 'result', result };\n                    }\n                    else if (task.status === 'failed') {\n                        yield {\n                            type: 'error',\n                            error: new McpError(ErrorCode.InternalError, `Task ${taskId} failed`)\n                        };\n                    }\n                    else if (task.status === 'cancelled') {\n                        yield {\n                            type: 'error',\n                            error: new McpError(ErrorCode.InternalError, `Task ${taskId} was cancelled`)\n                        };\n                    }\n                    return;\n                }\n                // When input_required, call tasks/result to deliver queued messages\n                // (elicitation, sampling) via SSE and block until terminal\n                if (task.status === 'input_required') {\n                    const result = await this.getTaskResult({ taskId }, resultSchema, options);\n                    yield { type: 'result', result };\n                    return;\n                }\n                // Wait before polling again\n                const pollInterval = (_c = (_a = task.pollInterval) !== null && _a !== void 0 ? _a : (_b = this._options) === null || _b === void 0 ? void 0 : _b.defaultTaskPollInterval) !== null && _c !== void 0 ? _c : 1000;\n                await new Promise(resolve => setTimeout(resolve, pollInterval));\n                // Check if cancelled\n                (_d = options === null || options === void 0 ? void 0 : options.signal) === null || _d === void 0 ? void 0 : _d.throwIfAborted();\n            }\n        }\n        catch (error) {\n            yield {\n                type: 'error',\n                error: error instanceof McpError ? error : new McpError(ErrorCode.InternalError, String(error))\n            };\n        }\n    }\n    /**\n     * Sends a request and waits for a response.\n     *\n     * Do not use this method to emit notifications! Use notification() instead.\n     */\n    request(request, resultSchema, options) {\n        const { relatedRequestId, resumptionToken, onresumptiontoken, task, relatedTask } = options !== null && options !== void 0 ? options : {};\n        // Send the request\n        return new Promise((resolve, reject) => {\n            var _a, _b, _c, _d, _e, _f, _g;\n            const earlyReject = (error) => {\n                reject(error);\n            };\n            if (!this._transport) {\n                earlyReject(new Error('Not connected'));\n                return;\n            }\n            if (((_a = this._options) === null || _a === void 0 ? void 0 : _a.enforceStrictCapabilities) === true) {\n                try {\n                    this.assertCapabilityForMethod(request.method);\n                    // If task creation is requested, also check task capabilities\n                    if (task) {\n                        this.assertTaskCapability(request.method);\n                    }\n                }\n                catch (e) {\n                    earlyReject(e);\n                    return;\n                }\n            }\n            (_b = options === null || options === void 0 ? void 0 : options.signal) === null || _b === void 0 ? void 0 : _b.throwIfAborted();\n            const messageId = this._requestMessageId++;\n            const jsonrpcRequest = {\n                ...request,\n                jsonrpc: '2.0',\n                id: messageId\n            };\n            if (options === null || options === void 0 ? void 0 : options.onprogress) {\n                this._progressHandlers.set(messageId, options.onprogress);\n                jsonrpcRequest.params = {\n                    ...request.params,\n                    _meta: {\n                        ...(((_c = request.params) === null || _c === void 0 ? void 0 : _c._meta) || {}),\n                        progressToken: messageId\n                    }\n                };\n            }\n            // Augment with task creation parameters if provided\n            if (task) {\n                jsonrpcRequest.params = {\n                    ...jsonrpcRequest.params,\n                    task: task\n                };\n            }\n            // Augment with related task metadata if relatedTask is provided\n            if (relatedTask) {\n                jsonrpcRequest.params = {\n                    ...jsonrpcRequest.params,\n                    _meta: {\n                        ...(((_d = jsonrpcRequest.params) === null || _d === void 0 ? void 0 : _d._meta) || {}),\n                        [RELATED_TASK_META_KEY]: relatedTask\n                    }\n                };\n            }\n            const cancel = (reason) => {\n                var _a;\n                this._responseHandlers.delete(messageId);\n                this._progressHandlers.delete(messageId);\n                this._cleanupTimeout(messageId);\n                (_a = this._transport) === null || _a === void 0 ? void 0 : _a.send({\n                    jsonrpc: '2.0',\n                    method: 'notifications/cancelled',\n                    params: {\n                        requestId: messageId,\n                        reason: String(reason)\n                    }\n                }, { relatedRequestId, resumptionToken, onresumptiontoken }).catch(error => this._onerror(new Error(`Failed to send cancellation: ${error}`)));\n                // Wrap the reason in an McpError if it isn't already\n                const error = reason instanceof McpError ? reason : new McpError(ErrorCode.RequestTimeout, String(reason));\n                reject(error);\n            };\n            this._responseHandlers.set(messageId, response => {\n                var _a;\n                if ((_a = options === null || options === void 0 ? void 0 : options.signal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                    return;\n                }\n                if (response instanceof Error) {\n                    return reject(response);\n                }\n                try {\n                    const parseResult = safeParse(resultSchema, response.result);\n                    if (!parseResult.success) {\n                        // Type guard: if success is false, error is guaranteed to exist\n                        reject(parseResult.error);\n                    }\n                    else {\n                        resolve(parseResult.data);\n                    }\n                }\n                catch (error) {\n                    reject(error);\n                }\n            });\n            (_e = options === null || options === void 0 ? void 0 : options.signal) === null || _e === void 0 ? void 0 : _e.addEventListener('abort', () => {\n                var _a;\n                cancel((_a = options === null || options === void 0 ? void 0 : options.signal) === null || _a === void 0 ? void 0 : _a.reason);\n            });\n            const timeout = (_f = options === null || options === void 0 ? void 0 : options.timeout) !== null && _f !== void 0 ? _f : DEFAULT_REQUEST_TIMEOUT_MSEC;\n            const timeoutHandler = () => cancel(McpError.fromError(ErrorCode.RequestTimeout, 'Request timed out', { timeout }));\n            this._setupTimeout(messageId, timeout, options === null || options === void 0 ? void 0 : options.maxTotalTimeout, timeoutHandler, (_g = options === null || options === void 0 ? void 0 : options.resetTimeoutOnProgress) !== null && _g !== void 0 ? _g : false);\n            // Queue request if related to a task\n            const relatedTaskId = relatedTask === null || relatedTask === void 0 ? void 0 : relatedTask.taskId;\n            if (relatedTaskId) {\n                // Store the response resolver for this request so responses can be routed back\n                const responseResolver = (response) => {\n                    const handler = this._responseHandlers.get(messageId);\n                    if (handler) {\n                        handler(response);\n                    }\n                    else {\n                        // Log error when resolver is missing, but don't fail\n                        this._onerror(new Error(`Response handler missing for side-channeled request ${messageId}`));\n                    }\n                };\n                this._requestResolvers.set(messageId, responseResolver);\n                this._enqueueTaskMessage(relatedTaskId, {\n                    type: 'request',\n                    message: jsonrpcRequest,\n                    timestamp: Date.now()\n                }).catch(error => {\n                    this._cleanupTimeout(messageId);\n                    reject(error);\n                });\n                // Don't send through transport - queued messages are delivered via tasks/result only\n                // This prevents duplicate delivery for bidirectional transports\n            }\n            else {\n                // No related task - send through transport normally\n                this._transport.send(jsonrpcRequest, { relatedRequestId, resumptionToken, onresumptiontoken }).catch(error => {\n                    this._cleanupTimeout(messageId);\n                    reject(error);\n                });\n            }\n        });\n    }\n    /**\n     * Gets the current status of a task.\n     *\n     * @experimental Use `client.experimental.tasks.getTask()` to access this method.\n     */\n    async getTask(params, options) {\n        // @ts-expect-error SendRequestT cannot directly contain GetTaskRequest, but we ensure all type instantiations contain it anyways\n        return this.request({ method: 'tasks/get', params }, GetTaskResultSchema, options);\n    }\n    /**\n     * Retrieves the result of a completed task.\n     *\n     * @experimental Use `client.experimental.tasks.getTaskResult()` to access this method.\n     */\n    async getTaskResult(params, resultSchema, options) {\n        // @ts-expect-error SendRequestT cannot directly contain GetTaskPayloadRequest, but we ensure all type instantiations contain it anyways\n        return this.request({ method: 'tasks/result', params }, resultSchema, options);\n    }\n    /**\n     * Lists tasks, optionally starting from a pagination cursor.\n     *\n     * @experimental Use `client.experimental.tasks.listTasks()` to access this method.\n     */\n    async listTasks(params, options) {\n        // @ts-expect-error SendRequestT cannot directly contain ListTasksRequest, but we ensure all type instantiations contain it anyways\n        return this.request({ method: 'tasks/list', params }, ListTasksResultSchema, options);\n    }\n    /**\n     * Cancels a specific task.\n     *\n     * @experimental Use `client.experimental.tasks.cancelTask()` to access this method.\n     */\n    async cancelTask(params, options) {\n        // @ts-expect-error SendRequestT cannot directly contain CancelTaskRequest, but we ensure all type instantiations contain it anyways\n        return this.request({ method: 'tasks/cancel', params }, CancelTaskResultSchema, options);\n    }\n    /**\n     * Emits a notification, which is a one-way message that does not expect a response.\n     */\n    async notification(notification, options) {\n        var _a, _b, _c, _d, _e;\n        if (!this._transport) {\n            throw new Error('Not connected');\n        }\n        this.assertNotificationCapability(notification.method);\n        // Queue notification if related to a task\n        const relatedTaskId = (_a = options === null || options === void 0 ? void 0 : options.relatedTask) === null || _a === void 0 ? void 0 : _a.taskId;\n        if (relatedTaskId) {\n            // Build the JSONRPC notification with metadata\n            const jsonrpcNotification = {\n                ...notification,\n                jsonrpc: '2.0',\n                params: {\n                    ...notification.params,\n                    _meta: {\n                        ...(((_b = notification.params) === null || _b === void 0 ? void 0 : _b._meta) || {}),\n                        [RELATED_TASK_META_KEY]: options.relatedTask\n                    }\n                }\n            };\n            await this._enqueueTaskMessage(relatedTaskId, {\n                type: 'notification',\n                message: jsonrpcNotification,\n                timestamp: Date.now()\n            });\n            // Don't send through transport - queued messages are delivered via tasks/result only\n            // This prevents duplicate delivery for bidirectional transports\n            return;\n        }\n        const debouncedMethods = (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.debouncedNotificationMethods) !== null && _d !== void 0 ? _d : [];\n        // A notification can only be debounced if it's in the list AND it's \"simple\"\n        // (i.e., has no parameters and no related request ID or related task that could be lost).\n        const canDebounce = debouncedMethods.includes(notification.method) && !notification.params && !(options === null || options === void 0 ? void 0 : options.relatedRequestId) && !(options === null || options === void 0 ? void 0 : options.relatedTask);\n        if (canDebounce) {\n            // If a notification of this type is already scheduled, do nothing.\n            if (this._pendingDebouncedNotifications.has(notification.method)) {\n                return;\n            }\n            // Mark this notification type as pending.\n            this._pendingDebouncedNotifications.add(notification.method);\n            // Schedule the actual send to happen in the next microtask.\n            // This allows all synchronous calls in the current event loop tick to be coalesced.\n            Promise.resolve().then(() => {\n                var _a, _b;\n                // Un-mark the notification so the next one can be scheduled.\n                this._pendingDebouncedNotifications.delete(notification.method);\n                // SAFETY CHECK: If the connection was closed while this was pending, abort.\n                if (!this._transport) {\n                    return;\n                }\n                let jsonrpcNotification = {\n                    ...notification,\n                    jsonrpc: '2.0'\n                };\n                // Augment with related task metadata if relatedTask is provided\n                if (options === null || options === void 0 ? void 0 : options.relatedTask) {\n                    jsonrpcNotification = {\n                        ...jsonrpcNotification,\n                        params: {\n                            ...jsonrpcNotification.params,\n                            _meta: {\n                                ...(((_a = jsonrpcNotification.params) === null || _a === void 0 ? void 0 : _a._meta) || {}),\n                                [RELATED_TASK_META_KEY]: options.relatedTask\n                            }\n                        }\n                    };\n                }\n                // Send the notification, but don't await it here to avoid blocking.\n                // Handle potential errors with a .catch().\n                (_b = this._transport) === null || _b === void 0 ? void 0 : _b.send(jsonrpcNotification, options).catch(error => this._onerror(error));\n            });\n            // Return immediately.\n            return;\n        }\n        let jsonrpcNotification = {\n            ...notification,\n            jsonrpc: '2.0'\n        };\n        // Augment with related task metadata if relatedTask is provided\n        if (options === null || options === void 0 ? void 0 : options.relatedTask) {\n            jsonrpcNotification = {\n                ...jsonrpcNotification,\n                params: {\n                    ...jsonrpcNotification.params,\n                    _meta: {\n                        ...(((_e = jsonrpcNotification.params) === null || _e === void 0 ? void 0 : _e._meta) || {}),\n                        [RELATED_TASK_META_KEY]: options.relatedTask\n                    }\n                }\n            };\n        }\n        await this._transport.send(jsonrpcNotification, options);\n    }\n    /**\n     * Registers a handler to invoke when this protocol object receives a request with the given method.\n     *\n     * Note that this will replace any previous request handler for the same method.\n     */\n    setRequestHandler(requestSchema, handler) {\n        const method = getMethodLiteral(requestSchema);\n        this.assertRequestHandlerCapability(method);\n        this._requestHandlers.set(method, (request, extra) => {\n            const parsed = parseWithCompat(requestSchema, request);\n            return Promise.resolve(handler(parsed, extra));\n        });\n    }\n    /**\n     * Removes the request handler for the given method.\n     */\n    removeRequestHandler(method) {\n        this._requestHandlers.delete(method);\n    }\n    /**\n     * Asserts that a request handler has not already been set for the given method, in preparation for a new one being automatically installed.\n     */\n    assertCanSetRequestHandler(method) {\n        if (this._requestHandlers.has(method)) {\n            throw new Error(`A request handler for ${method} already exists, which would be overridden`);\n        }\n    }\n    /**\n     * Registers a handler to invoke when this protocol object receives a notification with the given method.\n     *\n     * Note that this will replace any previous notification handler for the same method.\n     */\n    setNotificationHandler(notificationSchema, handler) {\n        const method = getMethodLiteral(notificationSchema);\n        this._notificationHandlers.set(method, notification => {\n            const parsed = parseWithCompat(notificationSchema, notification);\n            return Promise.resolve(handler(parsed));\n        });\n    }\n    /**\n     * Removes the notification handler for the given method.\n     */\n    removeNotificationHandler(method) {\n        this._notificationHandlers.delete(method);\n    }\n    /**\n     * Cleans up the progress handler associated with a task.\n     * This should be called when a task reaches a terminal status.\n     */\n    _cleanupTaskProgressHandler(taskId) {\n        const progressToken = this._taskProgressTokens.get(taskId);\n        if (progressToken !== undefined) {\n            this._progressHandlers.delete(progressToken);\n            this._taskProgressTokens.delete(taskId);\n        }\n    }\n    /**\n     * Enqueues a task-related message for side-channel delivery via tasks/result.\n     * @param taskId The task ID to associate the message with\n     * @param message The message to enqueue\n     * @param sessionId Optional session ID for binding the operation to a specific session\n     * @throws Error if taskStore is not configured or if enqueue fails (e.g., queue overflow)\n     *\n     * Note: If enqueue fails, it's the TaskMessageQueue implementation's responsibility to handle\n     * the error appropriately (e.g., by failing the task, logging, etc.). The Protocol layer\n     * simply propagates the error.\n     */\n    async _enqueueTaskMessage(taskId, message, sessionId) {\n        var _a;\n        // Task message queues are only used when taskStore is configured\n        if (!this._taskStore || !this._taskMessageQueue) {\n            throw new Error('Cannot enqueue task message: taskStore and taskMessageQueue are not configured');\n        }\n        const maxQueueSize = (_a = this._options) === null || _a === void 0 ? void 0 : _a.maxTaskQueueSize;\n        await this._taskMessageQueue.enqueue(taskId, message, sessionId, maxQueueSize);\n    }\n    /**\n     * Clears the message queue for a task and rejects any pending request resolvers.\n     * @param taskId The task ID whose queue should be cleared\n     * @param sessionId Optional session ID for binding the operation to a specific session\n     */\n    async _clearTaskQueue(taskId, sessionId) {\n        if (this._taskMessageQueue) {\n            // Reject any pending request resolvers\n            const messages = await this._taskMessageQueue.dequeueAll(taskId, sessionId);\n            for (const message of messages) {\n                if (message.type === 'request' && isJSONRPCRequest(message.message)) {\n                    // Extract request ID from the message\n                    const requestId = message.message.id;\n                    const resolver = this._requestResolvers.get(requestId);\n                    if (resolver) {\n                        resolver(new McpError(ErrorCode.InternalError, 'Task cancelled or completed'));\n                        this._requestResolvers.delete(requestId);\n                    }\n                    else {\n                        // Log error when resolver is missing during cleanup for better observability\n                        this._onerror(new Error(`Resolver missing for request ${requestId} during task ${taskId} cleanup`));\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Waits for a task update (new messages or status change) with abort signal support.\n     * Uses polling to check for updates at the task's configured poll interval.\n     * @param taskId The task ID to wait for\n     * @param signal Abort signal to cancel the wait\n     * @returns Promise that resolves when an update occurs or rejects if aborted\n     */\n    async _waitForTaskUpdate(taskId, signal) {\n        var _a, _b, _c;\n        // Get the task's poll interval, falling back to default\n        let interval = (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.defaultTaskPollInterval) !== null && _b !== void 0 ? _b : 1000;\n        try {\n            const task = await ((_c = this._taskStore) === null || _c === void 0 ? void 0 : _c.getTask(taskId));\n            if (task === null || task === void 0 ? void 0 : task.pollInterval) {\n                interval = task.pollInterval;\n            }\n        }\n        catch (_d) {\n            // Use default interval if task lookup fails\n        }\n        return new Promise((resolve, reject) => {\n            if (signal.aborted) {\n                reject(new McpError(ErrorCode.InvalidRequest, 'Request cancelled'));\n                return;\n            }\n            // Wait for the poll interval, then resolve so caller can check for updates\n            const timeoutId = setTimeout(resolve, interval);\n            // Clean up timeout and reject if aborted\n            signal.addEventListener('abort', () => {\n                clearTimeout(timeoutId);\n                reject(new McpError(ErrorCode.InvalidRequest, 'Request cancelled'));\n            }, { once: true });\n        });\n    }\n    requestTaskStore(request, sessionId) {\n        const taskStore = this._taskStore;\n        if (!taskStore) {\n            throw new Error('No task store configured');\n        }\n        return {\n            createTask: async (taskParams) => {\n                if (!request) {\n                    throw new Error('No request provided');\n                }\n                return await taskStore.createTask(taskParams, request.id, {\n                    method: request.method,\n                    params: request.params\n                }, sessionId);\n            },\n            getTask: async (taskId) => {\n                const task = await taskStore.getTask(taskId, sessionId);\n                if (!task) {\n                    throw new McpError(ErrorCode.InvalidParams, 'Failed to retrieve task: Task not found');\n                }\n                return task;\n            },\n            storeTaskResult: async (taskId, status, result) => {\n                await taskStore.storeTaskResult(taskId, status, result, sessionId);\n                // Get updated task state and send notification\n                const task = await taskStore.getTask(taskId, sessionId);\n                if (task) {\n                    const notification = TaskStatusNotificationSchema.parse({\n                        method: 'notifications/tasks/status',\n                        params: task\n                    });\n                    await this.notification(notification);\n                    if (isTerminal(task.status)) {\n                        this._cleanupTaskProgressHandler(taskId);\n                        // Don't clear queue here - it will be cleared after delivery via tasks/result\n                    }\n                }\n            },\n            getTaskResult: taskId => {\n                return taskStore.getTaskResult(taskId, sessionId);\n            },\n            updateTaskStatus: async (taskId, status, statusMessage) => {\n                // Check if task exists\n                const task = await taskStore.getTask(taskId, sessionId);\n                if (!task) {\n                    throw new McpError(ErrorCode.InvalidParams, `Task \"${taskId}\" not found - it may have been cleaned up`);\n                }\n                // Don't allow transitions from terminal states\n                if (isTerminal(task.status)) {\n                    throw new McpError(ErrorCode.InvalidParams, `Cannot update task \"${taskId}\" from terminal status \"${task.status}\" to \"${status}\". Terminal states (completed, failed, cancelled) cannot transition to other states.`);\n                }\n                await taskStore.updateTaskStatus(taskId, status, statusMessage, sessionId);\n                // Get updated task state and send notification\n                const updatedTask = await taskStore.getTask(taskId, sessionId);\n                if (updatedTask) {\n                    const notification = TaskStatusNotificationSchema.parse({\n                        method: 'notifications/tasks/status',\n                        params: updatedTask\n                    });\n                    await this.notification(notification);\n                    if (isTerminal(updatedTask.status)) {\n                        this._cleanupTaskProgressHandler(taskId);\n                        // Don't clear queue here - it will be cleared after delivery via tasks/result\n                    }\n                }\n            },\n            listTasks: cursor => {\n                return taskStore.listTasks(cursor, sessionId);\n            }\n        };\n    }\n}\nfunction isPlainObject(value) {\n    return value !== null && typeof value === 'object' && !Array.isArray(value);\n}\nexport function mergeCapabilities(base, additional) {\n    const result = { ...base };\n    for (const key in additional) {\n        const k = key;\n        const addValue = additional[k];\n        if (addValue === undefined)\n            continue;\n        const baseValue = result[k];\n        if (isPlainObject(baseValue) && isPlainObject(addValue)) {\n            result[k] = { ...baseValue, ...addValue };\n        }\n        else {\n            result[k] = addValue;\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=protocol.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState || (exports.UsedValueState = UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type || (exports.Type = Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"), // data passed to validation function\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"), // validation/data context - should not be used directly, it is destructured to the names below\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"), // root data - same as the data passed to the first/top validation function\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"), // used to support recursiveRef and dynamicRef\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"), // null or array of validation errors\n    errors: new codegen_1.Name(\"errors\"), // counter of validation errors\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"), // also used in JTD errors\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType || (exports.DataType = DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let innerBaseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            innerBaseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = innerBaseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(innerBaseId ? _resolve(innerBaseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil], // TODO can its length be used as dataLevel if nil is removed?\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","{\n  \"$id\": \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n  \"description\": \"Meta-schema for $data reference (JSON AnySchema extension proposal)\",\n  \"type\": \"object\",\n  \"required\": [\"$data\"],\n  \"properties\": {\n    \"$data\": {\n      \"type\": \"string\",\n      \"anyOf\": [{\"format\": \"relative-json-pointer\"}, {\"format\": \"json-pointer\"}]\n    }\n  },\n  \"additionalProperties\": false\n}\n","'use strict'\n\n/** @type {(value: string) => boolean} */\nconst isUUID = RegExp.prototype.test.bind(/^[\\da-f]{8}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{12}$/iu)\n\n/** @type {(value: string) => boolean} */\nconst isIPv4 = RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)$/u)\n\n/**\n * @param {Array<string>} input\n * @returns {string}\n */\nfunction stringArrayToHexStripped (input) {\n  let acc = ''\n  let code = 0\n  let i = 0\n\n  for (i = 0; i < input.length; i++) {\n    code = input[i].charCodeAt(0)\n    if (code === 48) {\n      continue\n    }\n    if (!((code >= 48 && code <= 57) || (code >= 65 && code <= 70) || (code >= 97 && code <= 102))) {\n      return ''\n    }\n    acc += input[i]\n    break\n  }\n\n  for (i += 1; i < input.length; i++) {\n    code = input[i].charCodeAt(0)\n    if (!((code >= 48 && code <= 57) || (code >= 65 && code <= 70) || (code >= 97 && code <= 102))) {\n      return ''\n    }\n    acc += input[i]\n  }\n  return acc\n}\n\n/**\n * @typedef {Object} GetIPV6Result\n * @property {boolean} error - Indicates if there was an error parsing the IPv6 address.\n * @property {string} address - The parsed IPv6 address.\n * @property {string} [zone] - The zone identifier, if present.\n */\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nconst nonSimpleDomain = RegExp.prototype.test.bind(/[^!\"$&'()*+,\\-.;=_`a-z{}~]/u)\n\n/**\n * @param {Array<string>} buffer\n * @returns {boolean}\n */\nfunction consumeIsZone (buffer) {\n  buffer.length = 0\n  return true\n}\n\n/**\n * @param {Array<string>} buffer\n * @param {Array<string>} address\n * @param {GetIPV6Result} output\n * @returns {boolean}\n */\nfunction consumeHextets (buffer, address, output) {\n  if (buffer.length) {\n    const hex = stringArrayToHexStripped(buffer)\n    if (hex !== '') {\n      address.push(hex)\n    } else {\n      output.error = true\n      return false\n    }\n    buffer.length = 0\n  }\n  return true\n}\n\n/**\n * @param {string} input\n * @returns {GetIPV6Result}\n */\nfunction getIPV6 (input) {\n  let tokenCount = 0\n  const output = { error: false, address: '', zone: '' }\n  /** @type {Array<string>} */\n  const address = []\n  /** @type {Array<string>} */\n  const buffer = []\n  let endipv6Encountered = false\n  let endIpv6 = false\n\n  let consume = consumeHextets\n\n  for (let i = 0; i < input.length; i++) {\n    const cursor = input[i]\n    if (cursor === '[' || cursor === ']') { continue }\n    if (cursor === ':') {\n      if (endipv6Encountered === true) {\n        endIpv6 = true\n      }\n      if (!consume(buffer, address, output)) { break }\n      if (++tokenCount > 7) {\n        // not valid\n        output.error = true\n        break\n      }\n      if (i > 0 && input[i - 1] === ':') {\n        endipv6Encountered = true\n      }\n      address.push(':')\n      continue\n    } else if (cursor === '%') {\n      if (!consume(buffer, address, output)) { break }\n      // switch to zone detection\n      consume = consumeIsZone\n    } else {\n      buffer.push(cursor)\n      continue\n    }\n  }\n  if (buffer.length) {\n    if (consume === consumeIsZone) {\n      output.zone = buffer.join('')\n    } else if (endIpv6) {\n      address.push(buffer.join(''))\n    } else {\n      address.push(stringArrayToHexStripped(buffer))\n    }\n  }\n  output.address = address.join('')\n  return output\n}\n\n/**\n * @typedef {Object} NormalizeIPv6Result\n * @property {string} host - The normalized host.\n * @property {string} [escapedHost] - The escaped host.\n * @property {boolean} isIPV6 - Indicates if the host is an IPv6 address.\n */\n\n/**\n * @param {string} host\n * @returns {NormalizeIPv6Result}\n */\nfunction normalizeIPv6 (host) {\n  if (findToken(host, ':') < 2) { return { host, isIPV6: false } }\n  const ipv6 = getIPV6(host)\n\n  if (!ipv6.error) {\n    let newHost = ipv6.address\n    let escapedHost = ipv6.address\n    if (ipv6.zone) {\n      newHost += '%' + ipv6.zone\n      escapedHost += '%25' + ipv6.zone\n    }\n    return { host: newHost, isIPV6: true, escapedHost }\n  } else {\n    return { host, isIPV6: false }\n  }\n}\n\n/**\n * @param {string} str\n * @param {string} token\n * @returns {number}\n */\nfunction findToken (str, token) {\n  let ind = 0\n  for (let i = 0; i < str.length; i++) {\n    if (str[i] === token) ind++\n  }\n  return ind\n}\n\n/**\n * @param {string} path\n * @returns {string}\n *\n * @see https://datatracker.ietf.org/doc/html/rfc3986#section-5.2.4\n */\nfunction removeDotSegments (path) {\n  let input = path\n  const output = []\n  let nextSlash = -1\n  let len = 0\n\n  // eslint-disable-next-line no-cond-assign\n  while (len = input.length) {\n    if (len === 1) {\n      if (input === '.') {\n        break\n      } else if (input === '/') {\n        output.push('/')\n        break\n      } else {\n        output.push(input)\n        break\n      }\n    } else if (len === 2) {\n      if (input[0] === '.') {\n        if (input[1] === '.') {\n          break\n        } else if (input[1] === '/') {\n          input = input.slice(2)\n          continue\n        }\n      } else if (input[0] === '/') {\n        if (input[1] === '.' || input[1] === '/') {\n          output.push('/')\n          break\n        }\n      }\n    } else if (len === 3) {\n      if (input === '/..') {\n        if (output.length !== 0) {\n          output.pop()\n        }\n        output.push('/')\n        break\n      }\n    }\n    if (input[0] === '.') {\n      if (input[1] === '.') {\n        if (input[2] === '/') {\n          input = input.slice(3)\n          continue\n        }\n      } else if (input[1] === '/') {\n        input = input.slice(2)\n        continue\n      }\n    } else if (input[0] === '/') {\n      if (input[1] === '.') {\n        if (input[2] === '/') {\n          input = input.slice(2)\n          continue\n        } else if (input[2] === '.') {\n          if (input[3] === '/') {\n            input = input.slice(3)\n            if (output.length !== 0) {\n              output.pop()\n            }\n            continue\n          }\n        }\n      }\n    }\n\n    // Rule 2E: Move normal path segment to output\n    if ((nextSlash = input.indexOf('/', 1)) === -1) {\n      output.push(input)\n      break\n    } else {\n      output.push(input.slice(0, nextSlash))\n      input = input.slice(nextSlash)\n    }\n  }\n\n  return output.join('')\n}\n\n/**\n * @param {import('../types/index').URIComponent} component\n * @param {boolean} esc\n * @returns {import('../types/index').URIComponent}\n */\nfunction normalizeComponentEncoding (component, esc) {\n  const func = esc !== true ? escape : unescape\n  if (component.scheme !== undefined) {\n    component.scheme = func(component.scheme)\n  }\n  if (component.userinfo !== undefined) {\n    component.userinfo = func(component.userinfo)\n  }\n  if (component.host !== undefined) {\n    component.host = func(component.host)\n  }\n  if (component.path !== undefined) {\n    component.path = func(component.path)\n  }\n  if (component.query !== undefined) {\n    component.query = func(component.query)\n  }\n  if (component.fragment !== undefined) {\n    component.fragment = func(component.fragment)\n  }\n  return component\n}\n\n/**\n * @param {import('../types/index').URIComponent} component\n * @returns {string|undefined}\n */\nfunction recomposeAuthority (component) {\n  const uriTokens = []\n\n  if (component.userinfo !== undefined) {\n    uriTokens.push(component.userinfo)\n    uriTokens.push('@')\n  }\n\n  if (component.host !== undefined) {\n    let host = unescape(component.host)\n    if (!isIPv4(host)) {\n      const ipV6res = normalizeIPv6(host)\n      if (ipV6res.isIPV6 === true) {\n        host = `[${ipV6res.escapedHost}]`\n      } else {\n        host = component.host\n      }\n    }\n    uriTokens.push(host)\n  }\n\n  if (typeof component.port === 'number' || typeof component.port === 'string') {\n    uriTokens.push(':')\n    uriTokens.push(String(component.port))\n  }\n\n  return uriTokens.length ? uriTokens.join('') : undefined\n};\n\nmodule.exports = {\n  nonSimpleDomain,\n  recomposeAuthority,\n  normalizeComponentEncoding,\n  removeDotSegments,\n  isIPv4,\n  isUUID,\n  normalizeIPv6,\n  stringArrayToHexStripped\n}\n","'use strict'\n\nconst { isUUID } = require('./utils')\nconst URN_REG = /([\\da-z][\\d\\-a-z]{0,31}):((?:[\\w!$'()*+,\\-.:;=@]|%[\\da-f]{2})+)/iu\n\nconst supportedSchemeNames = /** @type {const} */ (['http', 'https', 'ws',\n  'wss', 'urn', 'urn:uuid'])\n\n/** @typedef {supportedSchemeNames[number]} SchemeName */\n\n/**\n * @param {string} name\n * @returns {name is SchemeName}\n */\nfunction isValidSchemeName (name) {\n  return supportedSchemeNames.indexOf(/** @type {*} */ (name)) !== -1\n}\n\n/**\n * @callback SchemeFn\n * @param {import('../types/index').URIComponent} component\n * @param {import('../types/index').Options} options\n * @returns {import('../types/index').URIComponent}\n */\n\n/**\n * @typedef {Object} SchemeHandler\n * @property {SchemeName} scheme - The scheme name.\n * @property {boolean} [domainHost] - Indicates if the scheme supports domain hosts.\n * @property {SchemeFn} parse - Function to parse the URI component for this scheme.\n * @property {SchemeFn} serialize - Function to serialize the URI component for this scheme.\n * @property {boolean} [skipNormalize] - Indicates if normalization should be skipped for this scheme.\n * @property {boolean} [absolutePath] - Indicates if the scheme uses absolute paths.\n * @property {boolean} [unicodeSupport] - Indicates if the scheme supports Unicode.\n */\n\n/**\n * @param {import('../types/index').URIComponent} wsComponent\n * @returns {boolean}\n */\nfunction wsIsSecure (wsComponent) {\n  if (wsComponent.secure === true) {\n    return true\n  } else if (wsComponent.secure === false) {\n    return false\n  } else if (wsComponent.scheme) {\n    return (\n      wsComponent.scheme.length === 3 &&\n      (wsComponent.scheme[0] === 'w' || wsComponent.scheme[0] === 'W') &&\n      (wsComponent.scheme[1] === 's' || wsComponent.scheme[1] === 'S') &&\n      (wsComponent.scheme[2] === 's' || wsComponent.scheme[2] === 'S')\n    )\n  } else {\n    return false\n  }\n}\n\n/** @type {SchemeFn} */\nfunction httpParse (component) {\n  if (!component.host) {\n    component.error = component.error || 'HTTP URIs must have a host.'\n  }\n\n  return component\n}\n\n/** @type {SchemeFn} */\nfunction httpSerialize (component) {\n  const secure = String(component.scheme).toLowerCase() === 'https'\n\n  // normalize the default port\n  if (component.port === (secure ? 443 : 80) || component.port === '') {\n    component.port = undefined\n  }\n\n  // normalize the empty path\n  if (!component.path) {\n    component.path = '/'\n  }\n\n  // NOTE: We do not parse query strings for HTTP URIs\n  // as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n  // and not the HTTP spec.\n\n  return component\n}\n\n/** @type {SchemeFn} */\nfunction wsParse (wsComponent) {\n// indicate if the secure flag is set\n  wsComponent.secure = wsIsSecure(wsComponent)\n\n  // construct resouce name\n  wsComponent.resourceName = (wsComponent.path || '/') + (wsComponent.query ? '?' + wsComponent.query : '')\n  wsComponent.path = undefined\n  wsComponent.query = undefined\n\n  return wsComponent\n}\n\n/** @type {SchemeFn} */\nfunction wsSerialize (wsComponent) {\n// normalize the default port\n  if (wsComponent.port === (wsIsSecure(wsComponent) ? 443 : 80) || wsComponent.port === '') {\n    wsComponent.port = undefined\n  }\n\n  // ensure scheme matches secure flag\n  if (typeof wsComponent.secure === 'boolean') {\n    wsComponent.scheme = (wsComponent.secure ? 'wss' : 'ws')\n    wsComponent.secure = undefined\n  }\n\n  // reconstruct path from resource name\n  if (wsComponent.resourceName) {\n    const [path, query] = wsComponent.resourceName.split('?')\n    wsComponent.path = (path && path !== '/' ? path : undefined)\n    wsComponent.query = query\n    wsComponent.resourceName = undefined\n  }\n\n  // forbid fragment component\n  wsComponent.fragment = undefined\n\n  return wsComponent\n}\n\n/** @type {SchemeFn} */\nfunction urnParse (urnComponent, options) {\n  if (!urnComponent.path) {\n    urnComponent.error = 'URN can not be parsed'\n    return urnComponent\n  }\n  const matches = urnComponent.path.match(URN_REG)\n  if (matches) {\n    const scheme = options.scheme || urnComponent.scheme || 'urn'\n    urnComponent.nid = matches[1].toLowerCase()\n    urnComponent.nss = matches[2]\n    const urnScheme = `${scheme}:${options.nid || urnComponent.nid}`\n    const schemeHandler = getSchemeHandler(urnScheme)\n    urnComponent.path = undefined\n\n    if (schemeHandler) {\n      urnComponent = schemeHandler.parse(urnComponent, options)\n    }\n  } else {\n    urnComponent.error = urnComponent.error || 'URN can not be parsed.'\n  }\n\n  return urnComponent\n}\n\n/** @type {SchemeFn} */\nfunction urnSerialize (urnComponent, options) {\n  if (urnComponent.nid === undefined) {\n    throw new Error('URN without nid cannot be serialized')\n  }\n  const scheme = options.scheme || urnComponent.scheme || 'urn'\n  const nid = urnComponent.nid.toLowerCase()\n  const urnScheme = `${scheme}:${options.nid || nid}`\n  const schemeHandler = getSchemeHandler(urnScheme)\n\n  if (schemeHandler) {\n    urnComponent = schemeHandler.serialize(urnComponent, options)\n  }\n\n  const uriComponent = urnComponent\n  const nss = urnComponent.nss\n  uriComponent.path = `${nid || options.nid}:${nss}`\n\n  options.skipEscape = true\n  return uriComponent\n}\n\n/** @type {SchemeFn} */\nfunction urnuuidParse (urnComponent, options) {\n  const uuidComponent = urnComponent\n  uuidComponent.uuid = uuidComponent.nss\n  uuidComponent.nss = undefined\n\n  if (!options.tolerant && (!uuidComponent.uuid || !isUUID(uuidComponent.uuid))) {\n    uuidComponent.error = uuidComponent.error || 'UUID is not valid.'\n  }\n\n  return uuidComponent\n}\n\n/** @type {SchemeFn} */\nfunction urnuuidSerialize (uuidComponent) {\n  const urnComponent = uuidComponent\n  // normalize UUID\n  urnComponent.nss = (uuidComponent.uuid || '').toLowerCase()\n  return urnComponent\n}\n\nconst http = /** @type {SchemeHandler} */ ({\n  scheme: 'http',\n  domainHost: true,\n  parse: httpParse,\n  serialize: httpSerialize\n})\n\nconst https = /** @type {SchemeHandler} */ ({\n  scheme: 'https',\n  domainHost: http.domainHost,\n  parse: httpParse,\n  serialize: httpSerialize\n})\n\nconst ws = /** @type {SchemeHandler} */ ({\n  scheme: 'ws',\n  domainHost: true,\n  parse: wsParse,\n  serialize: wsSerialize\n})\n\nconst wss = /** @type {SchemeHandler} */ ({\n  scheme: 'wss',\n  domainHost: ws.domainHost,\n  parse: ws.parse,\n  serialize: ws.serialize\n})\n\nconst urn = /** @type {SchemeHandler} */ ({\n  scheme: 'urn',\n  parse: urnParse,\n  serialize: urnSerialize,\n  skipNormalize: true\n})\n\nconst urnuuid = /** @type {SchemeHandler} */ ({\n  scheme: 'urn:uuid',\n  parse: urnuuidParse,\n  serialize: urnuuidSerialize,\n  skipNormalize: true\n})\n\nconst SCHEMES = /** @type {Record<SchemeName, SchemeHandler>} */ ({\n  http,\n  https,\n  ws,\n  wss,\n  urn,\n  'urn:uuid': urnuuid\n})\n\nObject.setPrototypeOf(SCHEMES, null)\n\n/**\n * @param {string|undefined} scheme\n * @returns {SchemeHandler|undefined}\n */\nfunction getSchemeHandler (scheme) {\n  return (\n    scheme && (\n      SCHEMES[/** @type {SchemeName} */ (scheme)] ||\n      SCHEMES[/** @type {SchemeName} */(scheme.toLowerCase())])\n  ) ||\n    undefined\n}\n\nmodule.exports = {\n  wsIsSecure,\n  SCHEMES,\n  isValidSchemeName,\n  getSchemeHandler,\n}\n","'use strict'\n\nconst { normalizeIPv6, removeDotSegments, recomposeAuthority, normalizeComponentEncoding, isIPv4, nonSimpleDomain } = require('./lib/utils')\nconst { SCHEMES, getSchemeHandler } = require('./lib/schemes')\n\n/**\n * @template {import('./types/index').URIComponent|string} T\n * @param {T} uri\n * @param {import('./types/index').Options} [options]\n * @returns {T}\n */\nfunction normalize (uri, options) {\n  if (typeof uri === 'string') {\n    uri = /** @type {T} */ (serialize(parse(uri, options), options))\n  } else if (typeof uri === 'object') {\n    uri = /** @type {T} */ (parse(serialize(uri, options), options))\n  }\n  return uri\n}\n\n/**\n * @param {string} baseURI\n * @param {string} relativeURI\n * @param {import('./types/index').Options} [options]\n * @returns {string}\n */\nfunction resolve (baseURI, relativeURI, options) {\n  const schemelessOptions = options ? Object.assign({ scheme: 'null' }, options) : { scheme: 'null' }\n  const resolved = resolveComponent(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true)\n  schemelessOptions.skipEscape = true\n  return serialize(resolved, schemelessOptions)\n}\n\n/**\n * @param {import ('./types/index').URIComponent} base\n * @param {import ('./types/index').URIComponent} relative\n * @param {import('./types/index').Options} [options]\n * @param {boolean} [skipNormalization=false]\n * @returns {import ('./types/index').URIComponent}\n */\nfunction resolveComponent (base, relative, options, skipNormalization) {\n  /** @type {import('./types/index').URIComponent} */\n  const target = {}\n  if (!skipNormalization) {\n    base = parse(serialize(base, options), options) // normalize base component\n    relative = parse(serialize(relative, options), options) // normalize relative component\n  }\n  options = options || {}\n\n  if (!options.tolerant && relative.scheme) {\n    target.scheme = relative.scheme\n    // target.authority = relative.authority;\n    target.userinfo = relative.userinfo\n    target.host = relative.host\n    target.port = relative.port\n    target.path = removeDotSegments(relative.path || '')\n    target.query = relative.query\n  } else {\n    if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n      // target.authority = relative.authority;\n      target.userinfo = relative.userinfo\n      target.host = relative.host\n      target.port = relative.port\n      target.path = removeDotSegments(relative.path || '')\n      target.query = relative.query\n    } else {\n      if (!relative.path) {\n        target.path = base.path\n        if (relative.query !== undefined) {\n          target.query = relative.query\n        } else {\n          target.query = base.query\n        }\n      } else {\n        if (relative.path[0] === '/') {\n          target.path = removeDotSegments(relative.path)\n        } else {\n          if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n            target.path = '/' + relative.path\n          } else if (!base.path) {\n            target.path = relative.path\n          } else {\n            target.path = base.path.slice(0, base.path.lastIndexOf('/') + 1) + relative.path\n          }\n          target.path = removeDotSegments(target.path)\n        }\n        target.query = relative.query\n      }\n      // target.authority = base.authority;\n      target.userinfo = base.userinfo\n      target.host = base.host\n      target.port = base.port\n    }\n    target.scheme = base.scheme\n  }\n\n  target.fragment = relative.fragment\n\n  return target\n}\n\n/**\n * @param {import ('./types/index').URIComponent|string} uriA\n * @param {import ('./types/index').URIComponent|string} uriB\n * @param {import ('./types/index').Options} options\n * @returns {boolean}\n */\nfunction equal (uriA, uriB, options) {\n  if (typeof uriA === 'string') {\n    uriA = unescape(uriA)\n    uriA = serialize(normalizeComponentEncoding(parse(uriA, options), true), { ...options, skipEscape: true })\n  } else if (typeof uriA === 'object') {\n    uriA = serialize(normalizeComponentEncoding(uriA, true), { ...options, skipEscape: true })\n  }\n\n  if (typeof uriB === 'string') {\n    uriB = unescape(uriB)\n    uriB = serialize(normalizeComponentEncoding(parse(uriB, options), true), { ...options, skipEscape: true })\n  } else if (typeof uriB === 'object') {\n    uriB = serialize(normalizeComponentEncoding(uriB, true), { ...options, skipEscape: true })\n  }\n\n  return uriA.toLowerCase() === uriB.toLowerCase()\n}\n\n/**\n * @param {Readonly<import('./types/index').URIComponent>} cmpts\n * @param {import('./types/index').Options} [opts]\n * @returns {string}\n */\nfunction serialize (cmpts, opts) {\n  const component = {\n    host: cmpts.host,\n    scheme: cmpts.scheme,\n    userinfo: cmpts.userinfo,\n    port: cmpts.port,\n    path: cmpts.path,\n    query: cmpts.query,\n    nid: cmpts.nid,\n    nss: cmpts.nss,\n    uuid: cmpts.uuid,\n    fragment: cmpts.fragment,\n    reference: cmpts.reference,\n    resourceName: cmpts.resourceName,\n    secure: cmpts.secure,\n    error: ''\n  }\n  const options = Object.assign({}, opts)\n  const uriTokens = []\n\n  // find scheme handler\n  const schemeHandler = getSchemeHandler(options.scheme || component.scheme)\n\n  // perform scheme specific serialization\n  if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(component, options)\n\n  if (component.path !== undefined) {\n    if (!options.skipEscape) {\n      component.path = escape(component.path)\n\n      if (component.scheme !== undefined) {\n        component.path = component.path.split('%3A').join(':')\n      }\n    } else {\n      component.path = unescape(component.path)\n    }\n  }\n\n  if (options.reference !== 'suffix' && component.scheme) {\n    uriTokens.push(component.scheme, ':')\n  }\n\n  const authority = recomposeAuthority(component)\n  if (authority !== undefined) {\n    if (options.reference !== 'suffix') {\n      uriTokens.push('//')\n    }\n\n    uriTokens.push(authority)\n\n    if (component.path && component.path[0] !== '/') {\n      uriTokens.push('/')\n    }\n  }\n  if (component.path !== undefined) {\n    let s = component.path\n\n    if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n      s = removeDotSegments(s)\n    }\n\n    if (\n      authority === undefined &&\n      s[0] === '/' &&\n      s[1] === '/'\n    ) {\n      // don't allow the path to start with \"//\"\n      s = '/%2F' + s.slice(2)\n    }\n\n    uriTokens.push(s)\n  }\n\n  if (component.query !== undefined) {\n    uriTokens.push('?', component.query)\n  }\n\n  if (component.fragment !== undefined) {\n    uriTokens.push('#', component.fragment)\n  }\n  return uriTokens.join('')\n}\n\nconst URI_PARSE = /^(?:([^#/:?]+):)?(?:\\/\\/((?:([^#/?@]*)@)?(\\[[^#/?\\]]+\\]|[^#/:?]*)(?::(\\d*))?))?([^#?]*)(?:\\?([^#]*))?(?:#((?:.|[\\n\\r])*))?/u\n\n/**\n * @param {string} uri\n * @param {import('./types/index').Options} [opts]\n * @returns\n */\nfunction parse (uri, opts) {\n  const options = Object.assign({}, opts)\n  /** @type {import('./types/index').URIComponent} */\n  const parsed = {\n    scheme: undefined,\n    userinfo: undefined,\n    host: '',\n    port: undefined,\n    path: '',\n    query: undefined,\n    fragment: undefined\n  }\n\n  let isIP = false\n  if (options.reference === 'suffix') {\n    if (options.scheme) {\n      uri = options.scheme + ':' + uri\n    } else {\n      uri = '//' + uri\n    }\n  }\n\n  const matches = uri.match(URI_PARSE)\n\n  if (matches) {\n    // store each component\n    parsed.scheme = matches[1]\n    parsed.userinfo = matches[3]\n    parsed.host = matches[4]\n    parsed.port = parseInt(matches[5], 10)\n    parsed.path = matches[6] || ''\n    parsed.query = matches[7]\n    parsed.fragment = matches[8]\n\n    // fix port number\n    if (isNaN(parsed.port)) {\n      parsed.port = matches[5]\n    }\n    if (parsed.host) {\n      const ipv4result = isIPv4(parsed.host)\n      if (ipv4result === false) {\n        const ipv6result = normalizeIPv6(parsed.host)\n        parsed.host = ipv6result.host.toLowerCase()\n        isIP = ipv6result.isIPV6\n      } else {\n        isIP = true\n      }\n    }\n    if (parsed.scheme === undefined && parsed.userinfo === undefined && parsed.host === undefined && parsed.port === undefined && parsed.query === undefined && !parsed.path) {\n      parsed.reference = 'same-document'\n    } else if (parsed.scheme === undefined) {\n      parsed.reference = 'relative'\n    } else if (parsed.fragment === undefined) {\n      parsed.reference = 'absolute'\n    } else {\n      parsed.reference = 'uri'\n    }\n\n    // check for reference errors\n    if (options.reference && options.reference !== 'suffix' && options.reference !== parsed.reference) {\n      parsed.error = parsed.error || 'URI is not a ' + options.reference + ' reference.'\n    }\n\n    // find scheme handler\n    const schemeHandler = getSchemeHandler(options.scheme || parsed.scheme)\n\n    // check if scheme can't handle IRIs\n    if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n      // if host component is a domain name\n      if (parsed.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost)) && isIP === false && nonSimpleDomain(parsed.host)) {\n        // convert Unicode IDN -> ASCII IDN\n        try {\n          parsed.host = URL.domainToASCII(parsed.host.toLowerCase())\n        } catch (e) {\n          parsed.error = parsed.error || \"Host's domain name can not be converted to ASCII: \" + e\n        }\n      }\n      // convert IRI -> URI\n    }\n\n    if (!schemeHandler || (schemeHandler && !schemeHandler.skipNormalize)) {\n      if (uri.indexOf('%') !== -1) {\n        if (parsed.scheme !== undefined) {\n          parsed.scheme = unescape(parsed.scheme)\n        }\n        if (parsed.host !== undefined) {\n          parsed.host = unescape(parsed.host)\n        }\n      }\n      if (parsed.path) {\n        parsed.path = escape(unescape(parsed.path))\n      }\n      if (parsed.fragment) {\n        parsed.fragment = encodeURI(decodeURIComponent(parsed.fragment))\n      }\n    }\n\n    // perform scheme specific parsing\n    if (schemeHandler && schemeHandler.parse) {\n      schemeHandler.parse(parsed, options)\n    }\n  } else {\n    parsed.error = parsed.error || 'URI can not be parsed.'\n  }\n  return parsed\n}\n\nconst fastUri = {\n  SCHEMES,\n  normalize,\n  resolve,\n  resolveComponent,\n  equal,\n  serialize,\n  parse\n}\n\nmodule.exports = fastUri\nmodule.exports.default = fastUri\nmodule.exports.fastUri = fastUri\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"fast-uri\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nexports.default = Ajv;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError || (exports.DiscrError = DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    const ref = sch.$ref;\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                    if (sch === undefined)\n                        throw new ref_error_1.default(it.opts.uriResolver, it.baseId, ref);\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Core schema meta-schema\",\n  \"definitions\": {\n    \"schemaArray\": {\n      \"type\": \"array\",\n      \"minItems\": 1,\n      \"items\": {\"$ref\": \"#\"}\n    },\n    \"nonNegativeInteger\": {\n      \"type\": \"integer\",\n      \"minimum\": 0\n    },\n    \"nonNegativeIntegerDefault0\": {\n      \"allOf\": [{\"$ref\": \"#/definitions/nonNegativeInteger\"}, {\"default\": 0}]\n    },\n    \"simpleTypes\": {\n      \"enum\": [\"array\", \"boolean\", \"integer\", \"null\", \"number\", \"object\", \"string\"]\n    },\n    \"stringArray\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"uniqueItems\": true,\n      \"default\": []\n    }\n  },\n  \"type\": [\"object\", \"boolean\"],\n  \"properties\": {\n    \"$id\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$schema\": {\n      \"type\": \"string\",\n      \"format\": \"uri\"\n    },\n    \"$ref\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$comment\": {\n      \"type\": \"string\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"default\": true,\n    \"readOnly\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"examples\": {\n      \"type\": \"array\",\n      \"items\": true\n    },\n    \"multipleOf\": {\n      \"type\": \"number\",\n      \"exclusiveMinimum\": 0\n    },\n    \"maximum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMaximum\": {\n      \"type\": \"number\"\n    },\n    \"minimum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMinimum\": {\n      \"type\": \"number\"\n    },\n    \"maxLength\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minLength\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"pattern\": {\n      \"type\": \"string\",\n      \"format\": \"regex\"\n    },\n    \"additionalItems\": {\"$ref\": \"#\"},\n    \"items\": {\n      \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/schemaArray\"}],\n      \"default\": true\n    },\n    \"maxItems\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minItems\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"uniqueItems\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"contains\": {\"$ref\": \"#\"},\n    \"maxProperties\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minProperties\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"required\": {\"$ref\": \"#/definitions/stringArray\"},\n    \"additionalProperties\": {\"$ref\": \"#\"},\n    \"definitions\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"properties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"patternProperties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"propertyNames\": {\"format\": \"regex\"},\n      \"default\": {}\n    },\n    \"dependencies\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\n        \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/stringArray\"}]\n      }\n    },\n    \"propertyNames\": {\"$ref\": \"#\"},\n    \"const\": true,\n    \"enum\": {\n      \"type\": \"array\",\n      \"items\": true,\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"type\": {\n      \"anyOf\": [\n        {\"$ref\": \"#/definitions/simpleTypes\"},\n        {\n          \"type\": \"array\",\n          \"items\": {\"$ref\": \"#/definitions/simpleTypes\"},\n          \"minItems\": 1,\n          \"uniqueItems\": true\n        }\n      ]\n    },\n    \"format\": {\"type\": \"string\"},\n    \"contentMediaType\": {\"type\": \"string\"},\n    \"contentEncoding\": {\"type\": \"string\"},\n    \"if\": {\"$ref\": \"#\"},\n    \"then\": {\"$ref\": \"#\"},\n    \"else\": {\"$ref\": \"#\"},\n    \"allOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"anyOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"oneOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"not\": {\"$ref\": \"#\"}\n  },\n  \"default\": true\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = exports.Ajv = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.Ajv = Ajv;\nmodule.exports = exports = Ajv;\nmodule.exports.Ajv = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatNames = exports.fastFormats = exports.fullFormats = void 0;\nfunction fmtDef(validate, compare) {\n    return { validate, compare };\n}\nexports.fullFormats = {\n    // date: http://tools.ietf.org/html/rfc3339#section-5.6\n    date: fmtDef(date, compareDate),\n    // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n    time: fmtDef(getTime(true), compareTime),\n    \"date-time\": fmtDef(getDateTime(true), compareDateTime),\n    \"iso-time\": fmtDef(getTime(), compareIsoTime),\n    \"iso-date-time\": fmtDef(getDateTime(), compareIsoDateTime),\n    // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n    duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n    uri,\n    \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n    // uri-template: https://tools.ietf.org/html/rfc6570\n    \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n    // For the source: https://gist.github.com/dperini/729294\n    // For test cases: https://mathiasbynens.be/demo/url-regex\n    url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n    email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n    hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n    // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$/,\n    ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n    regex,\n    // uuid: http://tools.ietf.org/html/rfc4122\n    uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n    // JSON-pointer: https://tools.ietf.org/html/rfc6901\n    // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n    \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n    \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n    // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n    \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n    // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n    // byte: https://github.com/miguelmota/is-base64\n    byte,\n    // signed 32 bit integer\n    int32: { type: \"number\", validate: validateInt32 },\n    // signed 64 bit integer\n    int64: { type: \"number\", validate: validateInt64 },\n    // C-type float\n    float: { type: \"number\", validate: validateNumber },\n    // C-type double\n    double: { type: \"number\", validate: validateNumber },\n    // hint to the UI to hide input strings\n    password: true,\n    // unchecked string payload\n    binary: true,\n};\nexports.fastFormats = {\n    ...exports.fullFormats,\n    date: fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/, compareDate),\n    time: fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareTime),\n    \"date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\dt(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareDateTime),\n    \"iso-time\": fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareIsoTime),\n    \"iso-date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareIsoDateTime),\n    // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n    uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n    \"uri-reference\": /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n    // email (sources from jsen validator):\n    // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n    // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'wilful violation')\n    email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n};\nexports.formatNames = Object.keys(exports.fullFormats);\nfunction isLeapYear(year) {\n    // https://tools.ietf.org/html/rfc3339#appendix-C\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nconst DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n    // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n    const matches = DATE.exec(str);\n    if (!matches)\n        return false;\n    const year = +matches[1];\n    const month = +matches[2];\n    const day = +matches[3];\n    return (month >= 1 &&\n        month <= 12 &&\n        day >= 1 &&\n        day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]));\n}\nfunction compareDate(d1, d2) {\n    if (!(d1 && d2))\n        return undefined;\n    if (d1 > d2)\n        return 1;\n    if (d1 < d2)\n        return -1;\n    return 0;\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d(?:\\.\\d+)?)(z|([+-])(\\d\\d)(?::?(\\d\\d))?)?$/i;\nfunction getTime(strictTimeZone) {\n    return function time(str) {\n        const matches = TIME.exec(str);\n        if (!matches)\n            return false;\n        const hr = +matches[1];\n        const min = +matches[2];\n        const sec = +matches[3];\n        const tz = matches[4];\n        const tzSign = matches[5] === \"-\" ? -1 : 1;\n        const tzH = +(matches[6] || 0);\n        const tzM = +(matches[7] || 0);\n        if (tzH > 23 || tzM > 59 || (strictTimeZone && !tz))\n            return false;\n        if (hr <= 23 && min <= 59 && sec < 60)\n            return true;\n        // leap second\n        const utcMin = min - tzM * tzSign;\n        const utcHr = hr - tzH * tzSign - (utcMin < 0 ? 1 : 0);\n        return (utcHr === 23 || utcHr === -1) && (utcMin === 59 || utcMin === -1) && sec < 61;\n    };\n}\nfunction compareTime(s1, s2) {\n    if (!(s1 && s2))\n        return undefined;\n    const t1 = new Date(\"2020-01-01T\" + s1).valueOf();\n    const t2 = new Date(\"2020-01-01T\" + s2).valueOf();\n    if (!(t1 && t2))\n        return undefined;\n    return t1 - t2;\n}\nfunction compareIsoTime(t1, t2) {\n    if (!(t1 && t2))\n        return undefined;\n    const a1 = TIME.exec(t1);\n    const a2 = TIME.exec(t2);\n    if (!(a1 && a2))\n        return undefined;\n    t1 = a1[1] + a1[2] + a1[3];\n    t2 = a2[1] + a2[2] + a2[3];\n    if (t1 > t2)\n        return 1;\n    if (t1 < t2)\n        return -1;\n    return 0;\n}\nconst DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction getDateTime(strictTimeZone) {\n    const time = getTime(strictTimeZone);\n    return function date_time(str) {\n        // http://tools.ietf.org/html/rfc3339#section-5.6\n        const dateTime = str.split(DATE_TIME_SEPARATOR);\n        return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1]);\n    };\n}\nfunction compareDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const d1 = new Date(dt1).valueOf();\n    const d2 = new Date(dt2).valueOf();\n    if (!(d1 && d2))\n        return undefined;\n    return d1 - d2;\n}\nfunction compareIsoDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const [d1, t1] = dt1.split(DATE_TIME_SEPARATOR);\n    const [d2, t2] = dt2.split(DATE_TIME_SEPARATOR);\n    const res = compareDate(d1, d2);\n    if (res === undefined)\n        return undefined;\n    return res || compareTime(t1, t2);\n}\nconst NOT_URI_FRAGMENT = /\\/|:/;\nconst URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n    // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n    return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;\nfunction byte(str) {\n    BYTE.lastIndex = 0;\n    return BYTE.test(str);\n}\nconst MIN_INT32 = -(2 ** 31);\nconst MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n    return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n    // JSON and javascript max Int is 2**53, so any int that passes isInteger is valid for Int64\n    return Number.isInteger(value);\n}\nfunction validateNumber() {\n    return true;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n    if (Z_ANCHOR.test(str))\n        return false;\n    try {\n        new RegExp(str);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n//# sourceMappingURL=formats.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatLimitDefinition = void 0;\nconst ajv_1 = require(\"ajv\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    formatMaximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    formatMinimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    formatExclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    formatExclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nexports.formatLimitDefinition = {\n    keyword: Object.keys(KWDs),\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, keyword, it } = cxt;\n        const { opts, self } = it;\n        if (!opts.validateFormats)\n            return;\n        const fCxt = new ajv_1.KeywordCxt(it, self.RULES.all.format.definition, \"format\");\n        if (fCxt.$data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fmt = gen.const(\"fmt\", (0, codegen_1._) `${fmts}[${fCxt.schemaCode}]`);\n            cxt.fail$data((0, codegen_1.or)((0, codegen_1._) `typeof ${fmt} != \"object\"`, (0, codegen_1._) `${fmt} instanceof RegExp`, (0, codegen_1._) `typeof ${fmt}.compare != \"function\"`, compareCode(fmt)));\n        }\n        function validateFormat() {\n            const format = fCxt.schema;\n            const fmtDef = self.formats[format];\n            if (!fmtDef || fmtDef === true)\n                return;\n            if (typeof fmtDef != \"object\" ||\n                fmtDef instanceof RegExp ||\n                typeof fmtDef.compare != \"function\") {\n                throw new Error(`\"${keyword}\": format \"${format}\" does not define \"compare\" function`);\n            }\n            const fmt = gen.scopeValue(\"formats\", {\n                key: format,\n                ref: fmtDef,\n                code: opts.code.formats ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(format)}` : undefined,\n            });\n            cxt.fail$data(compareCode(fmt));\n        }\n        function compareCode(fmt) {\n            return (0, codegen_1._) `${fmt}.compare(${data}, ${schemaCode}) ${KWDs[keyword].fail} 0`;\n        }\n    },\n    dependencies: [\"format\"],\n};\nconst formatLimitPlugin = (ajv) => {\n    ajv.addKeyword(exports.formatLimitDefinition);\n    return ajv;\n};\nexports.default = formatLimitPlugin;\n//# sourceMappingURL=limit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst formats_1 = require(\"./formats\");\nconst limit_1 = require(\"./limit\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst fullName = new codegen_1.Name(\"fullFormats\");\nconst fastName = new codegen_1.Name(\"fastFormats\");\nconst formatsPlugin = (ajv, opts = { keywords: true }) => {\n    if (Array.isArray(opts)) {\n        addFormats(ajv, opts, formats_1.fullFormats, fullName);\n        return ajv;\n    }\n    const [formats, exportName] = opts.mode === \"fast\" ? [formats_1.fastFormats, fastName] : [formats_1.fullFormats, fullName];\n    const list = opts.formats || formats_1.formatNames;\n    addFormats(ajv, list, formats, exportName);\n    if (opts.keywords)\n        (0, limit_1.default)(ajv);\n    return ajv;\n};\nformatsPlugin.get = (name, mode = \"full\") => {\n    const formats = mode === \"fast\" ? formats_1.fastFormats : formats_1.fullFormats;\n    const f = formats[name];\n    if (!f)\n        throw new Error(`Unknown format \"${name}\"`);\n    return f;\n};\nfunction addFormats(ajv, list, fs, exportName) {\n    var _a;\n    var _b;\n    (_a = (_b = ajv.opts.code).formats) !== null && _a !== void 0 ? _a : (_b.formats = (0, codegen_1._) `require(\"ajv-formats/dist/formats\").${exportName}`);\n    for (const f of list)\n        ajv.addFormat(f, fs[f]);\n}\nmodule.exports = exports = formatsPlugin;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = formatsPlugin;\n//# sourceMappingURL=index.js.map","/**\n * AJV-based JSON Schema validator provider\n */\nimport { Ajv } from 'ajv';\nimport _addFormats from 'ajv-formats';\nfunction createDefaultAjvInstance() {\n    const ajv = new Ajv({\n        strict: false,\n        validateFormats: true,\n        validateSchema: false,\n        allErrors: true\n    });\n    const addFormats = _addFormats;\n    addFormats(ajv);\n    return ajv;\n}\n/**\n * @example\n * ```typescript\n * // Use with default AJV instance (recommended)\n * import { AjvJsonSchemaValidator } from '@modelcontextprotocol/sdk/validation/ajv';\n * const validator = new AjvJsonSchemaValidator();\n *\n * // Use with custom AJV instance\n * import { Ajv } from 'ajv';\n * const ajv = new Ajv({ strict: true, allErrors: true });\n * const validator = new AjvJsonSchemaValidator(ajv);\n * ```\n */\nexport class AjvJsonSchemaValidator {\n    /**\n     * Create an AJV validator\n     *\n     * @param ajv - Optional pre-configured AJV instance. If not provided, a default instance will be created.\n     *\n     * @example\n     * ```typescript\n     * // Use default configuration (recommended for most cases)\n     * import { AjvJsonSchemaValidator } from '@modelcontextprotocol/sdk/validation/ajv';\n     * const validator = new AjvJsonSchemaValidator();\n     *\n     * // Or provide custom AJV instance for advanced configuration\n     * import { Ajv } from 'ajv';\n     * import addFormats from 'ajv-formats';\n     *\n     * const ajv = new Ajv({ validateFormats: true });\n     * addFormats(ajv);\n     * const validator = new AjvJsonSchemaValidator(ajv);\n     * ```\n     */\n    constructor(ajv) {\n        this._ajv = ajv !== null && ajv !== void 0 ? ajv : createDefaultAjvInstance();\n    }\n    /**\n     * Create a validator for the given JSON Schema\n     *\n     * The validator is compiled once and can be reused multiple times.\n     * If the schema has an $id, it will be cached by AJV automatically.\n     *\n     * @param schema - Standard JSON Schema object\n     * @returns A validator function that validates input data\n     */\n    getValidator(schema) {\n        var _a;\n        // Check if schema has $id and is already compiled/cached\n        const ajvValidator = '$id' in schema && typeof schema.$id === 'string'\n            ? ((_a = this._ajv.getSchema(schema.$id)) !== null && _a !== void 0 ? _a : this._ajv.compile(schema))\n            : this._ajv.compile(schema);\n        return (input) => {\n            const valid = ajvValidator(input);\n            if (valid) {\n                return {\n                    valid: true,\n                    data: input,\n                    errorMessage: undefined\n                };\n            }\n            else {\n                return {\n                    valid: false,\n                    data: undefined,\n                    errorMessage: this._ajv.errorsText(ajvValidator.errors)\n                };\n            }\n        };\n    }\n}\n//# sourceMappingURL=ajv-provider.js.map","/**\n * Experimental client task features for MCP SDK.\n * WARNING: These APIs are experimental and may change without notice.\n *\n * @experimental\n */\nimport { CallToolResultSchema, McpError, ErrorCode } from '../../types.js';\n/**\n * Experimental task features for MCP clients.\n *\n * Access via `client.experimental.tasks`:\n * ```typescript\n * const stream = client.experimental.tasks.callToolStream({ name: 'tool', arguments: {} });\n * const task = await client.experimental.tasks.getTask(taskId);\n * ```\n *\n * @experimental\n */\nexport class ExperimentalClientTasks {\n    constructor(_client) {\n        this._client = _client;\n    }\n    /**\n     * Calls a tool and returns an AsyncGenerator that yields response messages.\n     * The generator is guaranteed to end with either a 'result' or 'error' message.\n     *\n     * This method provides streaming access to tool execution, allowing you to\n     * observe intermediate task status updates for long-running tool calls.\n     * Automatically validates structured output if the tool has an outputSchema.\n     *\n     * @example\n     * ```typescript\n     * const stream = client.experimental.tasks.callToolStream({ name: 'myTool', arguments: {} });\n     * for await (const message of stream) {\n     *   switch (message.type) {\n     *     case 'taskCreated':\n     *       console.log('Tool execution started:', message.task.taskId);\n     *       break;\n     *     case 'taskStatus':\n     *       console.log('Tool status:', message.task.status);\n     *       break;\n     *     case 'result':\n     *       console.log('Tool result:', message.result);\n     *       break;\n     *     case 'error':\n     *       console.error('Tool error:', message.error);\n     *       break;\n     *   }\n     * }\n     * ```\n     *\n     * @param params - Tool call parameters (name and arguments)\n     * @param resultSchema - Zod schema for validating the result (defaults to CallToolResultSchema)\n     * @param options - Optional request options (timeout, signal, task creation params, etc.)\n     * @returns AsyncGenerator that yields ResponseMessage objects\n     *\n     * @experimental\n     */\n    async *callToolStream(params, resultSchema = CallToolResultSchema, options) {\n        var _a;\n        // Access Client's internal methods\n        const clientInternal = this._client;\n        // Add task creation parameters if server supports it and not explicitly provided\n        const optionsWithTask = {\n            ...options,\n            // We check if the tool is known to be a task during auto-configuration, but assume\n            // the caller knows what they're doing if they pass this explicitly\n            task: (_a = options === null || options === void 0 ? void 0 : options.task) !== null && _a !== void 0 ? _a : (clientInternal.isToolTask(params.name) ? {} : undefined)\n        };\n        const stream = clientInternal.requestStream({ method: 'tools/call', params }, resultSchema, optionsWithTask);\n        // Get the validator for this tool (if it has an output schema)\n        const validator = clientInternal.getToolOutputValidator(params.name);\n        // Iterate through the stream and validate the final result if needed\n        for await (const message of stream) {\n            // If this is a result message and the tool has an output schema, validate it\n            if (message.type === 'result' && validator) {\n                const result = message.result;\n                // If tool has outputSchema, it MUST return structuredContent (unless it's an error)\n                if (!result.structuredContent && !result.isError) {\n                    yield {\n                        type: 'error',\n                        error: new McpError(ErrorCode.InvalidRequest, `Tool ${params.name} has an output schema but did not return structured content`)\n                    };\n                    return;\n                }\n                // Only validate structured content if present (not when there's an error)\n                if (result.structuredContent) {\n                    try {\n                        // Validate the structured content against the schema\n                        const validationResult = validator(result.structuredContent);\n                        if (!validationResult.valid) {\n                            yield {\n                                type: 'error',\n                                error: new McpError(ErrorCode.InvalidParams, `Structured content does not match the tool's output schema: ${validationResult.errorMessage}`)\n                            };\n                            return;\n                        }\n                    }\n                    catch (error) {\n                        if (error instanceof McpError) {\n                            yield { type: 'error', error };\n                            return;\n                        }\n                        yield {\n                            type: 'error',\n                            error: new McpError(ErrorCode.InvalidParams, `Failed to validate structured content: ${error instanceof Error ? error.message : String(error)}`)\n                        };\n                        return;\n                    }\n                }\n            }\n            // Yield the message (either validated result or any other message type)\n            yield message;\n        }\n    }\n    /**\n     * Gets the current status of a task.\n     *\n     * @param taskId - The task identifier\n     * @param options - Optional request options\n     * @returns The task status\n     *\n     * @experimental\n     */\n    async getTask(taskId, options) {\n        return this._client.getTask({ taskId }, options);\n    }\n    /**\n     * Retrieves the result of a completed task.\n     *\n     * @param taskId - The task identifier\n     * @param resultSchema - Zod schema for validating the result\n     * @param options - Optional request options\n     * @returns The task result\n     *\n     * @experimental\n     */\n    async getTaskResult(taskId, resultSchema, options) {\n        // Delegate to the client's underlying Protocol method\n        return this._client.getTaskResult({ taskId }, resultSchema, options);\n    }\n    /**\n     * Lists tasks with optional pagination.\n     *\n     * @param cursor - Optional pagination cursor\n     * @param options - Optional request options\n     * @returns List of tasks with optional next cursor\n     *\n     * @experimental\n     */\n    async listTasks(cursor, options) {\n        // Delegate to the client's underlying Protocol method\n        return this._client.listTasks(cursor ? { cursor } : undefined, options);\n    }\n    /**\n     * Cancels a running task.\n     *\n     * @param taskId - The task identifier\n     * @param options - Optional request options\n     *\n     * @experimental\n     */\n    async cancelTask(taskId, options) {\n        // Delegate to the client's underlying Protocol method\n        return this._client.cancelTask({ taskId }, options);\n    }\n    /**\n     * Sends a request and returns an AsyncGenerator that yields response messages.\n     * The generator is guaranteed to end with either a 'result' or 'error' message.\n     *\n     * This method provides streaming access to request processing, allowing you to\n     * observe intermediate task status updates for task-augmented requests.\n     *\n     * @param request - The request to send\n     * @param resultSchema - Zod schema for validating the result\n     * @param options - Optional request options (timeout, signal, task creation params, etc.)\n     * @returns AsyncGenerator that yields ResponseMessage objects\n     *\n     * @experimental\n     */\n    requestStream(request, resultSchema, options) {\n        return this._client.requestStream(request, resultSchema, options);\n    }\n}\n//# sourceMappingURL=client.js.map","/**\n * Experimental task capability assertion helpers.\n * WARNING: These APIs are experimental and may change without notice.\n *\n * @experimental\n */\n/**\n * Asserts that task creation is supported for tools/call.\n * Used by Client.assertTaskCapability and Server.assertTaskHandlerCapability.\n *\n * @param requests - The task requests capability object\n * @param method - The method being checked\n * @param entityName - 'Server' or 'Client' for error messages\n * @throws Error if the capability is not supported\n *\n * @experimental\n */\nexport function assertToolsCallTaskCapability(requests, method, entityName) {\n    var _a;\n    if (!requests) {\n        throw new Error(`${entityName} does not support task creation (required for ${method})`);\n    }\n    switch (method) {\n        case 'tools/call':\n            if (!((_a = requests.tools) === null || _a === void 0 ? void 0 : _a.call)) {\n                throw new Error(`${entityName} does not support task creation for tools/call (required for ${method})`);\n            }\n            break;\n        default:\n            // Method doesn't support tasks, which is fine - no error\n            break;\n    }\n}\n/**\n * Asserts that task creation is supported for sampling/createMessage or elicitation/create.\n * Used by Server.assertTaskCapability and Client.assertTaskHandlerCapability.\n *\n * @param requests - The task requests capability object\n * @param method - The method being checked\n * @param entityName - 'Server' or 'Client' for error messages\n * @throws Error if the capability is not supported\n *\n * @experimental\n */\nexport function assertClientRequestTaskCapability(requests, method, entityName) {\n    var _a, _b;\n    if (!requests) {\n        throw new Error(`${entityName} does not support task creation (required for ${method})`);\n    }\n    switch (method) {\n        case 'sampling/createMessage':\n            if (!((_a = requests.sampling) === null || _a === void 0 ? void 0 : _a.createMessage)) {\n                throw new Error(`${entityName} does not support task creation for sampling/createMessage (required for ${method})`);\n            }\n            break;\n        case 'elicitation/create':\n            if (!((_b = requests.elicitation) === null || _b === void 0 ? void 0 : _b.create)) {\n                throw new Error(`${entityName} does not support task creation for elicitation/create (required for ${method})`);\n            }\n            break;\n        default:\n            // Method doesn't support tasks, which is fine - no error\n            break;\n    }\n}\n//# sourceMappingURL=helpers.js.map","import { mergeCapabilities, Protocol } from '../shared/protocol.js';\nimport { CallToolResultSchema, CompleteResultSchema, EmptyResultSchema, ErrorCode, GetPromptResultSchema, InitializeResultSchema, LATEST_PROTOCOL_VERSION, ListPromptsResultSchema, ListResourcesResultSchema, ListResourceTemplatesResultSchema, ListToolsResultSchema, McpError, ReadResourceResultSchema, SUPPORTED_PROTOCOL_VERSIONS, ElicitResultSchema, ElicitRequestSchema, CreateTaskResultSchema, CreateMessageRequestSchema, CreateMessageResultSchema } from '../types.js';\nimport { AjvJsonSchemaValidator } from '../validation/ajv-provider.js';\nimport { getObjectShape, isZ4Schema, safeParse } from '../server/zod-compat.js';\nimport { ExperimentalClientTasks } from '../experimental/tasks/client.js';\nimport { assertToolsCallTaskCapability, assertClientRequestTaskCapability } from '../experimental/tasks/helpers.js';\n/**\n * Elicitation default application helper. Applies defaults to the data based on the schema.\n *\n * @param schema - The schema to apply defaults to.\n * @param data - The data to apply defaults to.\n */\nfunction applyElicitationDefaults(schema, data) {\n    if (!schema || data === null || typeof data !== 'object')\n        return;\n    // Handle object properties\n    if (schema.type === 'object' && schema.properties && typeof schema.properties === 'object') {\n        const obj = data;\n        const props = schema.properties;\n        for (const key of Object.keys(props)) {\n            const propSchema = props[key];\n            // If missing or explicitly undefined, apply default if present\n            if (obj[key] === undefined && Object.prototype.hasOwnProperty.call(propSchema, 'default')) {\n                obj[key] = propSchema.default;\n            }\n            // Recurse into existing nested objects/arrays\n            if (obj[key] !== undefined) {\n                applyElicitationDefaults(propSchema, obj[key]);\n            }\n        }\n    }\n    if (Array.isArray(schema.anyOf)) {\n        for (const sub of schema.anyOf) {\n            applyElicitationDefaults(sub, data);\n        }\n    }\n    // Combine schemas\n    if (Array.isArray(schema.oneOf)) {\n        for (const sub of schema.oneOf) {\n            applyElicitationDefaults(sub, data);\n        }\n    }\n}\n/**\n * Determines which elicitation modes are supported based on declared client capabilities.\n *\n * According to the spec:\n * - An empty elicitation capability object defaults to form mode support (backwards compatibility)\n * - URL mode is only supported if explicitly declared\n *\n * @param capabilities - The client's elicitation capabilities\n * @returns An object indicating which modes are supported\n */\nexport function getSupportedElicitationModes(capabilities) {\n    if (!capabilities) {\n        return { supportsFormMode: false, supportsUrlMode: false };\n    }\n    const hasFormCapability = capabilities.form !== undefined;\n    const hasUrlCapability = capabilities.url !== undefined;\n    // If neither form nor url are explicitly declared, form mode is supported (backwards compatibility)\n    const supportsFormMode = hasFormCapability || (!hasFormCapability && !hasUrlCapability);\n    const supportsUrlMode = hasUrlCapability;\n    return { supportsFormMode, supportsUrlMode };\n}\n/**\n * An MCP client on top of a pluggable transport.\n *\n * The client will automatically begin the initialization flow with the server when connect() is called.\n *\n * To use with custom types, extend the base Request/Notification/Result types and pass them as type parameters:\n *\n * ```typescript\n * // Custom schemas\n * const CustomRequestSchema = RequestSchema.extend({...})\n * const CustomNotificationSchema = NotificationSchema.extend({...})\n * const CustomResultSchema = ResultSchema.extend({...})\n *\n * // Type aliases\n * type CustomRequest = z.infer<typeof CustomRequestSchema>\n * type CustomNotification = z.infer<typeof CustomNotificationSchema>\n * type CustomResult = z.infer<typeof CustomResultSchema>\n *\n * // Create typed client\n * const client = new Client<CustomRequest, CustomNotification, CustomResult>({\n *   name: \"CustomClient\",\n *   version: \"1.0.0\"\n * })\n * ```\n */\nexport class Client extends Protocol {\n    /**\n     * Initializes this client with the given name and version information.\n     */\n    constructor(_clientInfo, options) {\n        var _a, _b;\n        super(options);\n        this._clientInfo = _clientInfo;\n        this._cachedToolOutputValidators = new Map();\n        this._cachedKnownTaskTools = new Set();\n        this._cachedRequiredTaskTools = new Set();\n        this._capabilities = (_a = options === null || options === void 0 ? void 0 : options.capabilities) !== null && _a !== void 0 ? _a : {};\n        this._jsonSchemaValidator = (_b = options === null || options === void 0 ? void 0 : options.jsonSchemaValidator) !== null && _b !== void 0 ? _b : new AjvJsonSchemaValidator();\n    }\n    /**\n     * Access experimental features.\n     *\n     * WARNING: These APIs are experimental and may change without notice.\n     *\n     * @experimental\n     */\n    get experimental() {\n        if (!this._experimental) {\n            this._experimental = {\n                tasks: new ExperimentalClientTasks(this)\n            };\n        }\n        return this._experimental;\n    }\n    /**\n     * Registers new capabilities. This can only be called before connecting to a transport.\n     *\n     * The new capabilities will be merged with any existing capabilities previously given (e.g., at initialization).\n     */\n    registerCapabilities(capabilities) {\n        if (this.transport) {\n            throw new Error('Cannot register capabilities after connecting to transport');\n        }\n        this._capabilities = mergeCapabilities(this._capabilities, capabilities);\n    }\n    /**\n     * Override request handler registration to enforce client-side validation for elicitation.\n     */\n    setRequestHandler(requestSchema, handler) {\n        var _a, _b, _c;\n        const shape = getObjectShape(requestSchema);\n        const methodSchema = shape === null || shape === void 0 ? void 0 : shape.method;\n        if (!methodSchema) {\n            throw new Error('Schema is missing a method literal');\n        }\n        // Extract literal value using type-safe property access\n        let methodValue;\n        if (isZ4Schema(methodSchema)) {\n            const v4Schema = methodSchema;\n            const v4Def = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def;\n            methodValue = (_b = v4Def === null || v4Def === void 0 ? void 0 : v4Def.value) !== null && _b !== void 0 ? _b : v4Schema.value;\n        }\n        else {\n            const v3Schema = methodSchema;\n            const legacyDef = v3Schema._def;\n            methodValue = (_c = legacyDef === null || legacyDef === void 0 ? void 0 : legacyDef.value) !== null && _c !== void 0 ? _c : v3Schema.value;\n        }\n        if (typeof methodValue !== 'string') {\n            throw new Error('Schema method literal must be a string');\n        }\n        const method = methodValue;\n        if (method === 'elicitation/create') {\n            const wrappedHandler = async (request, extra) => {\n                var _a, _b, _c;\n                const validatedRequest = safeParse(ElicitRequestSchema, request);\n                if (!validatedRequest.success) {\n                    // Type guard: if success is false, error is guaranteed to exist\n                    const errorMessage = validatedRequest.error instanceof Error ? validatedRequest.error.message : String(validatedRequest.error);\n                    throw new McpError(ErrorCode.InvalidParams, `Invalid elicitation request: ${errorMessage}`);\n                }\n                const { params } = validatedRequest.data;\n                const mode = (_a = params.mode) !== null && _a !== void 0 ? _a : 'form';\n                const { supportsFormMode, supportsUrlMode } = getSupportedElicitationModes(this._capabilities.elicitation);\n                if (mode === 'form' && !supportsFormMode) {\n                    throw new McpError(ErrorCode.InvalidParams, 'Client does not support form-mode elicitation requests');\n                }\n                if (mode === 'url' && !supportsUrlMode) {\n                    throw new McpError(ErrorCode.InvalidParams, 'Client does not support URL-mode elicitation requests');\n                }\n                const result = await Promise.resolve(handler(request, extra));\n                // When task creation is requested, validate and return CreateTaskResult\n                if (params.task) {\n                    const taskValidationResult = safeParse(CreateTaskResultSchema, result);\n                    if (!taskValidationResult.success) {\n                        const errorMessage = taskValidationResult.error instanceof Error\n                            ? taskValidationResult.error.message\n                            : String(taskValidationResult.error);\n                        throw new McpError(ErrorCode.InvalidParams, `Invalid task creation result: ${errorMessage}`);\n                    }\n                    return taskValidationResult.data;\n                }\n                // For non-task requests, validate against ElicitResultSchema\n                const validationResult = safeParse(ElicitResultSchema, result);\n                if (!validationResult.success) {\n                    // Type guard: if success is false, error is guaranteed to exist\n                    const errorMessage = validationResult.error instanceof Error ? validationResult.error.message : String(validationResult.error);\n                    throw new McpError(ErrorCode.InvalidParams, `Invalid elicitation result: ${errorMessage}`);\n                }\n                const validatedResult = validationResult.data;\n                const requestedSchema = mode === 'form' ? params.requestedSchema : undefined;\n                if (mode === 'form' && validatedResult.action === 'accept' && validatedResult.content && requestedSchema) {\n                    if ((_c = (_b = this._capabilities.elicitation) === null || _b === void 0 ? void 0 : _b.form) === null || _c === void 0 ? void 0 : _c.applyDefaults) {\n                        try {\n                            applyElicitationDefaults(requestedSchema, validatedResult.content);\n                        }\n                        catch (_d) {\n                            // gracefully ignore errors in default application\n                        }\n                    }\n                }\n                return validatedResult;\n            };\n            // Install the wrapped handler\n            return super.setRequestHandler(requestSchema, wrappedHandler);\n        }\n        if (method === 'sampling/createMessage') {\n            const wrappedHandler = async (request, extra) => {\n                const validatedRequest = safeParse(CreateMessageRequestSchema, request);\n                if (!validatedRequest.success) {\n                    const errorMessage = validatedRequest.error instanceof Error ? validatedRequest.error.message : String(validatedRequest.error);\n                    throw new McpError(ErrorCode.InvalidParams, `Invalid sampling request: ${errorMessage}`);\n                }\n                const { params } = validatedRequest.data;\n                const result = await Promise.resolve(handler(request, extra));\n                // When task creation is requested, validate and return CreateTaskResult\n                if (params.task) {\n                    const taskValidationResult = safeParse(CreateTaskResultSchema, result);\n                    if (!taskValidationResult.success) {\n                        const errorMessage = taskValidationResult.error instanceof Error\n                            ? taskValidationResult.error.message\n                            : String(taskValidationResult.error);\n                        throw new McpError(ErrorCode.InvalidParams, `Invalid task creation result: ${errorMessage}`);\n                    }\n                    return taskValidationResult.data;\n                }\n                // For non-task requests, validate against CreateMessageResultSchema\n                const validationResult = safeParse(CreateMessageResultSchema, result);\n                if (!validationResult.success) {\n                    const errorMessage = validationResult.error instanceof Error ? validationResult.error.message : String(validationResult.error);\n                    throw new McpError(ErrorCode.InvalidParams, `Invalid sampling result: ${errorMessage}`);\n                }\n                return validationResult.data;\n            };\n            // Install the wrapped handler\n            return super.setRequestHandler(requestSchema, wrappedHandler);\n        }\n        // Other handlers use default behavior\n        return super.setRequestHandler(requestSchema, handler);\n    }\n    assertCapability(capability, method) {\n        var _a;\n        if (!((_a = this._serverCapabilities) === null || _a === void 0 ? void 0 : _a[capability])) {\n            throw new Error(`Server does not support ${capability} (required for ${method})`);\n        }\n    }\n    async connect(transport, options) {\n        await super.connect(transport);\n        // When transport sessionId is already set this means we are trying to reconnect.\n        // In this case we don't need to initialize again.\n        if (transport.sessionId !== undefined) {\n            return;\n        }\n        try {\n            const result = await this.request({\n                method: 'initialize',\n                params: {\n                    protocolVersion: LATEST_PROTOCOL_VERSION,\n                    capabilities: this._capabilities,\n                    clientInfo: this._clientInfo\n                }\n            }, InitializeResultSchema, options);\n            if (result === undefined) {\n                throw new Error(`Server sent invalid initialize result: ${result}`);\n            }\n            if (!SUPPORTED_PROTOCOL_VERSIONS.includes(result.protocolVersion)) {\n                throw new Error(`Server's protocol version is not supported: ${result.protocolVersion}`);\n            }\n            this._serverCapabilities = result.capabilities;\n            this._serverVersion = result.serverInfo;\n            // HTTP transports must set the protocol version in each header after initialization.\n            if (transport.setProtocolVersion) {\n                transport.setProtocolVersion(result.protocolVersion);\n            }\n            this._instructions = result.instructions;\n            await this.notification({\n                method: 'notifications/initialized'\n            });\n        }\n        catch (error) {\n            // Disconnect if initialization fails.\n            void this.close();\n            throw error;\n        }\n    }\n    /**\n     * After initialization has completed, this will be populated with the server's reported capabilities.\n     */\n    getServerCapabilities() {\n        return this._serverCapabilities;\n    }\n    /**\n     * After initialization has completed, this will be populated with information about the server's name and version.\n     */\n    getServerVersion() {\n        return this._serverVersion;\n    }\n    /**\n     * After initialization has completed, this may be populated with information about the server's instructions.\n     */\n    getInstructions() {\n        return this._instructions;\n    }\n    assertCapabilityForMethod(method) {\n        var _a, _b, _c, _d, _e;\n        switch (method) {\n            case 'logging/setLevel':\n                if (!((_a = this._serverCapabilities) === null || _a === void 0 ? void 0 : _a.logging)) {\n                    throw new Error(`Server does not support logging (required for ${method})`);\n                }\n                break;\n            case 'prompts/get':\n            case 'prompts/list':\n                if (!((_b = this._serverCapabilities) === null || _b === void 0 ? void 0 : _b.prompts)) {\n                    throw new Error(`Server does not support prompts (required for ${method})`);\n                }\n                break;\n            case 'resources/list':\n            case 'resources/templates/list':\n            case 'resources/read':\n            case 'resources/subscribe':\n            case 'resources/unsubscribe':\n                if (!((_c = this._serverCapabilities) === null || _c === void 0 ? void 0 : _c.resources)) {\n                    throw new Error(`Server does not support resources (required for ${method})`);\n                }\n                if (method === 'resources/subscribe' && !this._serverCapabilities.resources.subscribe) {\n                    throw new Error(`Server does not support resource subscriptions (required for ${method})`);\n                }\n                break;\n            case 'tools/call':\n            case 'tools/list':\n                if (!((_d = this._serverCapabilities) === null || _d === void 0 ? void 0 : _d.tools)) {\n                    throw new Error(`Server does not support tools (required for ${method})`);\n                }\n                break;\n            case 'completion/complete':\n                if (!((_e = this._serverCapabilities) === null || _e === void 0 ? void 0 : _e.completions)) {\n                    throw new Error(`Server does not support completions (required for ${method})`);\n                }\n                break;\n            case 'initialize':\n                // No specific capability required for initialize\n                break;\n            case 'ping':\n                // No specific capability required for ping\n                break;\n        }\n    }\n    assertNotificationCapability(method) {\n        var _a;\n        switch (method) {\n            case 'notifications/roots/list_changed':\n                if (!((_a = this._capabilities.roots) === null || _a === void 0 ? void 0 : _a.listChanged)) {\n                    throw new Error(`Client does not support roots list changed notifications (required for ${method})`);\n                }\n                break;\n            case 'notifications/initialized':\n                // No specific capability required for initialized\n                break;\n            case 'notifications/cancelled':\n                // Cancellation notifications are always allowed\n                break;\n            case 'notifications/progress':\n                // Progress notifications are always allowed\n                break;\n        }\n    }\n    assertRequestHandlerCapability(method) {\n        // Task handlers are registered in Protocol constructor before _capabilities is initialized\n        // Skip capability check for task methods during initialization\n        if (!this._capabilities) {\n            return;\n        }\n        switch (method) {\n            case 'sampling/createMessage':\n                if (!this._capabilities.sampling) {\n                    throw new Error(`Client does not support sampling capability (required for ${method})`);\n                }\n                break;\n            case 'elicitation/create':\n                if (!this._capabilities.elicitation) {\n                    throw new Error(`Client does not support elicitation capability (required for ${method})`);\n                }\n                break;\n            case 'roots/list':\n                if (!this._capabilities.roots) {\n                    throw new Error(`Client does not support roots capability (required for ${method})`);\n                }\n                break;\n            case 'tasks/get':\n            case 'tasks/list':\n            case 'tasks/result':\n            case 'tasks/cancel':\n                if (!this._capabilities.tasks) {\n                    throw new Error(`Client does not support tasks capability (required for ${method})`);\n                }\n                break;\n            case 'ping':\n                // No specific capability required for ping\n                break;\n        }\n    }\n    assertTaskCapability(method) {\n        var _a, _b;\n        assertToolsCallTaskCapability((_b = (_a = this._serverCapabilities) === null || _a === void 0 ? void 0 : _a.tasks) === null || _b === void 0 ? void 0 : _b.requests, method, 'Server');\n    }\n    assertTaskHandlerCapability(method) {\n        var _a;\n        // Task handlers are registered in Protocol constructor before _capabilities is initialized\n        // Skip capability check for task methods during initialization\n        if (!this._capabilities) {\n            return;\n        }\n        assertClientRequestTaskCapability((_a = this._capabilities.tasks) === null || _a === void 0 ? void 0 : _a.requests, method, 'Client');\n    }\n    async ping(options) {\n        return this.request({ method: 'ping' }, EmptyResultSchema, options);\n    }\n    async complete(params, options) {\n        return this.request({ method: 'completion/complete', params }, CompleteResultSchema, options);\n    }\n    async setLoggingLevel(level, options) {\n        return this.request({ method: 'logging/setLevel', params: { level } }, EmptyResultSchema, options);\n    }\n    async getPrompt(params, options) {\n        return this.request({ method: 'prompts/get', params }, GetPromptResultSchema, options);\n    }\n    async listPrompts(params, options) {\n        return this.request({ method: 'prompts/list', params }, ListPromptsResultSchema, options);\n    }\n    async listResources(params, options) {\n        return this.request({ method: 'resources/list', params }, ListResourcesResultSchema, options);\n    }\n    async listResourceTemplates(params, options) {\n        return this.request({ method: 'resources/templates/list', params }, ListResourceTemplatesResultSchema, options);\n    }\n    async readResource(params, options) {\n        return this.request({ method: 'resources/read', params }, ReadResourceResultSchema, options);\n    }\n    async subscribeResource(params, options) {\n        return this.request({ method: 'resources/subscribe', params }, EmptyResultSchema, options);\n    }\n    async unsubscribeResource(params, options) {\n        return this.request({ method: 'resources/unsubscribe', params }, EmptyResultSchema, options);\n    }\n    /**\n     * Calls a tool and waits for the result. Automatically validates structured output if the tool has an outputSchema.\n     *\n     * For task-based execution with streaming behavior, use client.experimental.tasks.callToolStream() instead.\n     */\n    async callTool(params, resultSchema = CallToolResultSchema, options) {\n        // Guard: required-task tools need experimental API\n        if (this.isToolTaskRequired(params.name)) {\n            throw new McpError(ErrorCode.InvalidRequest, `Tool \"${params.name}\" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);\n        }\n        const result = await this.request({ method: 'tools/call', params }, resultSchema, options);\n        // Check if the tool has an outputSchema\n        const validator = this.getToolOutputValidator(params.name);\n        if (validator) {\n            // If tool has outputSchema, it MUST return structuredContent (unless it's an error)\n            if (!result.structuredContent && !result.isError) {\n                throw new McpError(ErrorCode.InvalidRequest, `Tool ${params.name} has an output schema but did not return structured content`);\n            }\n            // Only validate structured content if present (not when there's an error)\n            if (result.structuredContent) {\n                try {\n                    // Validate the structured content against the schema\n                    const validationResult = validator(result.structuredContent);\n                    if (!validationResult.valid) {\n                        throw new McpError(ErrorCode.InvalidParams, `Structured content does not match the tool's output schema: ${validationResult.errorMessage}`);\n                    }\n                }\n                catch (error) {\n                    if (error instanceof McpError) {\n                        throw error;\n                    }\n                    throw new McpError(ErrorCode.InvalidParams, `Failed to validate structured content: ${error instanceof Error ? error.message : String(error)}`);\n                }\n            }\n        }\n        return result;\n    }\n    isToolTask(toolName) {\n        var _a, _b, _c, _d;\n        if (!((_d = (_c = (_b = (_a = this._serverCapabilities) === null || _a === void 0 ? void 0 : _a.tasks) === null || _b === void 0 ? void 0 : _b.requests) === null || _c === void 0 ? void 0 : _c.tools) === null || _d === void 0 ? void 0 : _d.call)) {\n            return false;\n        }\n        return this._cachedKnownTaskTools.has(toolName);\n    }\n    /**\n     * Check if a tool requires task-based execution.\n     * Unlike isToolTask which includes 'optional' tools, this only checks for 'required'.\n     */\n    isToolTaskRequired(toolName) {\n        return this._cachedRequiredTaskTools.has(toolName);\n    }\n    /**\n     * Cache validators for tool output schemas.\n     * Called after listTools() to pre-compile validators for better performance.\n     */\n    cacheToolMetadata(tools) {\n        var _a;\n        this._cachedToolOutputValidators.clear();\n        this._cachedKnownTaskTools.clear();\n        this._cachedRequiredTaskTools.clear();\n        for (const tool of tools) {\n            // If the tool has an outputSchema, create and cache the validator\n            if (tool.outputSchema) {\n                const toolValidator = this._jsonSchemaValidator.getValidator(tool.outputSchema);\n                this._cachedToolOutputValidators.set(tool.name, toolValidator);\n            }\n            // If the tool supports task-based execution, cache that information\n            const taskSupport = (_a = tool.execution) === null || _a === void 0 ? void 0 : _a.taskSupport;\n            if (taskSupport === 'required' || taskSupport === 'optional') {\n                this._cachedKnownTaskTools.add(tool.name);\n            }\n            if (taskSupport === 'required') {\n                this._cachedRequiredTaskTools.add(tool.name);\n            }\n        }\n    }\n    /**\n     * Get cached validator for a tool\n     */\n    getToolOutputValidator(toolName) {\n        return this._cachedToolOutputValidators.get(toolName);\n    }\n    async listTools(params, options) {\n        const result = await this.request({ method: 'tools/list', params }, ListToolsResultSchema, options);\n        // Cache the tools and their output schemas for future validation\n        this.cacheToolMetadata(result.tools);\n        return result;\n    }\n    async sendRootsListChanged() {\n        return this.notification({ method: 'notifications/roots/list_changed' });\n    }\n}\n//# sourceMappingURL=index.js.map","/**\n * Experimental server task features for MCP SDK.\n * WARNING: These APIs are experimental and may change without notice.\n *\n * @experimental\n */\n/**\n * Experimental task features for low-level MCP servers.\n *\n * Access via `server.experimental.tasks`:\n * ```typescript\n * const stream = server.experimental.tasks.requestStream(request, schema, options);\n * ```\n *\n * For high-level server usage with task-based tools, use `McpServer.experimental.tasks` instead.\n *\n * @experimental\n */\nexport class ExperimentalServerTasks {\n    constructor(_server) {\n        this._server = _server;\n    }\n    /**\n     * Sends a request and returns an AsyncGenerator that yields response messages.\n     * The generator is guaranteed to end with either a 'result' or 'error' message.\n     *\n     * This method provides streaming access to request processing, allowing you to\n     * observe intermediate task status updates for task-augmented requests.\n     *\n     * @param request - The request to send\n     * @param resultSchema - Zod schema for validating the result\n     * @param options - Optional request options (timeout, signal, task creation params, etc.)\n     * @returns AsyncGenerator that yields ResponseMessage objects\n     *\n     * @experimental\n     */\n    requestStream(request, resultSchema, options) {\n        return this._server.requestStream(request, resultSchema, options);\n    }\n    /**\n     * Gets the current status of a task.\n     *\n     * @param taskId - The task identifier\n     * @param options - Optional request options\n     * @returns The task status\n     *\n     * @experimental\n     */\n    async getTask(taskId, options) {\n        return this._server.getTask({ taskId }, options);\n    }\n    /**\n     * Retrieves the result of a completed task.\n     *\n     * @param taskId - The task identifier\n     * @param resultSchema - Zod schema for validating the result\n     * @param options - Optional request options\n     * @returns The task result\n     *\n     * @experimental\n     */\n    async getTaskResult(taskId, resultSchema, options) {\n        return this._server.getTaskResult({ taskId }, resultSchema, options);\n    }\n    /**\n     * Lists tasks with optional pagination.\n     *\n     * @param cursor - Optional pagination cursor\n     * @param options - Optional request options\n     * @returns List of tasks with optional next cursor\n     *\n     * @experimental\n     */\n    async listTasks(cursor, options) {\n        return this._server.listTasks(cursor ? { cursor } : undefined, options);\n    }\n    /**\n     * Cancels a running task.\n     *\n     * @param taskId - The task identifier\n     * @param options - Optional request options\n     *\n     * @experimental\n     */\n    async cancelTask(taskId, options) {\n        return this._server.cancelTask({ taskId }, options);\n    }\n}\n//# sourceMappingURL=server.js.map","import { mergeCapabilities, Protocol } from '../shared/protocol.js';\nimport { CreateMessageResultSchema, CreateMessageResultWithToolsSchema, ElicitResultSchema, EmptyResultSchema, ErrorCode, InitializedNotificationSchema, InitializeRequestSchema, LATEST_PROTOCOL_VERSION, ListRootsResultSchema, LoggingLevelSchema, McpError, SetLevelRequestSchema, SUPPORTED_PROTOCOL_VERSIONS, CallToolRequestSchema, CallToolResultSchema, CreateTaskResultSchema } from '../types.js';\nimport { AjvJsonSchemaValidator } from '../validation/ajv-provider.js';\nimport { getObjectShape, isZ4Schema, safeParse } from './zod-compat.js';\nimport { ExperimentalServerTasks } from '../experimental/tasks/server.js';\nimport { assertToolsCallTaskCapability, assertClientRequestTaskCapability } from '../experimental/tasks/helpers.js';\n/**\n * An MCP server on top of a pluggable transport.\n *\n * This server will automatically respond to the initialization flow as initiated from the client.\n *\n * To use with custom types, extend the base Request/Notification/Result types and pass them as type parameters:\n *\n * ```typescript\n * // Custom schemas\n * const CustomRequestSchema = RequestSchema.extend({...})\n * const CustomNotificationSchema = NotificationSchema.extend({...})\n * const CustomResultSchema = ResultSchema.extend({...})\n *\n * // Type aliases\n * type CustomRequest = z.infer<typeof CustomRequestSchema>\n * type CustomNotification = z.infer<typeof CustomNotificationSchema>\n * type CustomResult = z.infer<typeof CustomResultSchema>\n *\n * // Create typed server\n * const server = new Server<CustomRequest, CustomNotification, CustomResult>({\n *   name: \"CustomServer\",\n *   version: \"1.0.0\"\n * })\n * ```\n * @deprecated Use `McpServer` instead for the high-level API. Only use `Server` for advanced use cases.\n */\nexport class Server extends Protocol {\n    /**\n     * Initializes this server with the given name and version information.\n     */\n    constructor(_serverInfo, options) {\n        var _a, _b;\n        super(options);\n        this._serverInfo = _serverInfo;\n        // Map log levels by session id\n        this._loggingLevels = new Map();\n        // Map LogLevelSchema to severity index\n        this.LOG_LEVEL_SEVERITY = new Map(LoggingLevelSchema.options.map((level, index) => [level, index]));\n        // Is a message with the given level ignored in the log level set for the given session id?\n        this.isMessageIgnored = (level, sessionId) => {\n            const currentLevel = this._loggingLevels.get(sessionId);\n            return currentLevel ? this.LOG_LEVEL_SEVERITY.get(level) < this.LOG_LEVEL_SEVERITY.get(currentLevel) : false;\n        };\n        this._capabilities = (_a = options === null || options === void 0 ? void 0 : options.capabilities) !== null && _a !== void 0 ? _a : {};\n        this._instructions = options === null || options === void 0 ? void 0 : options.instructions;\n        this._jsonSchemaValidator = (_b = options === null || options === void 0 ? void 0 : options.jsonSchemaValidator) !== null && _b !== void 0 ? _b : new AjvJsonSchemaValidator();\n        this.setRequestHandler(InitializeRequestSchema, request => this._oninitialize(request));\n        this.setNotificationHandler(InitializedNotificationSchema, () => { var _a; return (_a = this.oninitialized) === null || _a === void 0 ? void 0 : _a.call(this); });\n        if (this._capabilities.logging) {\n            this.setRequestHandler(SetLevelRequestSchema, async (request, extra) => {\n                var _a;\n                const transportSessionId = extra.sessionId || ((_a = extra.requestInfo) === null || _a === void 0 ? void 0 : _a.headers['mcp-session-id']) || undefined;\n                const { level } = request.params;\n                const parseResult = LoggingLevelSchema.safeParse(level);\n                if (parseResult.success) {\n                    this._loggingLevels.set(transportSessionId, parseResult.data);\n                }\n                return {};\n            });\n        }\n    }\n    /**\n     * Access experimental features.\n     *\n     * WARNING: These APIs are experimental and may change without notice.\n     *\n     * @experimental\n     */\n    get experimental() {\n        if (!this._experimental) {\n            this._experimental = {\n                tasks: new ExperimentalServerTasks(this)\n            };\n        }\n        return this._experimental;\n    }\n    /**\n     * Registers new capabilities. This can only be called before connecting to a transport.\n     *\n     * The new capabilities will be merged with any existing capabilities previously given (e.g., at initialization).\n     */\n    registerCapabilities(capabilities) {\n        if (this.transport) {\n            throw new Error('Cannot register capabilities after connecting to transport');\n        }\n        this._capabilities = mergeCapabilities(this._capabilities, capabilities);\n    }\n    /**\n     * Override request handler registration to enforce server-side validation for tools/call.\n     */\n    setRequestHandler(requestSchema, handler) {\n        var _a, _b, _c;\n        const shape = getObjectShape(requestSchema);\n        const methodSchema = shape === null || shape === void 0 ? void 0 : shape.method;\n        if (!methodSchema) {\n            throw new Error('Schema is missing a method literal');\n        }\n        // Extract literal value using type-safe property access\n        let methodValue;\n        if (isZ4Schema(methodSchema)) {\n            const v4Schema = methodSchema;\n            const v4Def = (_a = v4Schema._zod) === null || _a === void 0 ? void 0 : _a.def;\n            methodValue = (_b = v4Def === null || v4Def === void 0 ? void 0 : v4Def.value) !== null && _b !== void 0 ? _b : v4Schema.value;\n        }\n        else {\n            const v3Schema = methodSchema;\n            const legacyDef = v3Schema._def;\n            methodValue = (_c = legacyDef === null || legacyDef === void 0 ? void 0 : legacyDef.value) !== null && _c !== void 0 ? _c : v3Schema.value;\n        }\n        if (typeof methodValue !== 'string') {\n            throw new Error('Schema method literal must be a string');\n        }\n        const method = methodValue;\n        if (method === 'tools/call') {\n            const wrappedHandler = async (request, extra) => {\n                const validatedRequest = safeParse(CallToolRequestSchema, request);\n                if (!validatedRequest.success) {\n                    const errorMessage = validatedRequest.error instanceof Error ? validatedRequest.error.message : String(validatedRequest.error);\n                    throw new McpError(ErrorCode.InvalidParams, `Invalid tools/call request: ${errorMessage}`);\n                }\n                const { params } = validatedRequest.data;\n                const result = await Promise.resolve(handler(request, extra));\n                // When task creation is requested, validate and return CreateTaskResult\n                if (params.task) {\n                    const taskValidationResult = safeParse(CreateTaskResultSchema, result);\n                    if (!taskValidationResult.success) {\n                        const errorMessage = taskValidationResult.error instanceof Error\n                            ? taskValidationResult.error.message\n                            : String(taskValidationResult.error);\n                        throw new McpError(ErrorCode.InvalidParams, `Invalid task creation result: ${errorMessage}`);\n                    }\n                    return taskValidationResult.data;\n                }\n                // For non-task requests, validate against CallToolResultSchema\n                const validationResult = safeParse(CallToolResultSchema, result);\n                if (!validationResult.success) {\n                    const errorMessage = validationResult.error instanceof Error ? validationResult.error.message : String(validationResult.error);\n                    throw new McpError(ErrorCode.InvalidParams, `Invalid tools/call result: ${errorMessage}`);\n                }\n                return validationResult.data;\n            };\n            // Install the wrapped handler\n            return super.setRequestHandler(requestSchema, wrappedHandler);\n        }\n        // Other handlers use default behavior\n        return super.setRequestHandler(requestSchema, handler);\n    }\n    assertCapabilityForMethod(method) {\n        var _a, _b, _c;\n        switch (method) {\n            case 'sampling/createMessage':\n                if (!((_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.sampling)) {\n                    throw new Error(`Client does not support sampling (required for ${method})`);\n                }\n                break;\n            case 'elicitation/create':\n                if (!((_b = this._clientCapabilities) === null || _b === void 0 ? void 0 : _b.elicitation)) {\n                    throw new Error(`Client does not support elicitation (required for ${method})`);\n                }\n                break;\n            case 'roots/list':\n                if (!((_c = this._clientCapabilities) === null || _c === void 0 ? void 0 : _c.roots)) {\n                    throw new Error(`Client does not support listing roots (required for ${method})`);\n                }\n                break;\n            case 'ping':\n                // No specific capability required for ping\n                break;\n        }\n    }\n    assertNotificationCapability(method) {\n        var _a, _b;\n        switch (method) {\n            case 'notifications/message':\n                if (!this._capabilities.logging) {\n                    throw new Error(`Server does not support logging (required for ${method})`);\n                }\n                break;\n            case 'notifications/resources/updated':\n            case 'notifications/resources/list_changed':\n                if (!this._capabilities.resources) {\n                    throw new Error(`Server does not support notifying about resources (required for ${method})`);\n                }\n                break;\n            case 'notifications/tools/list_changed':\n                if (!this._capabilities.tools) {\n                    throw new Error(`Server does not support notifying of tool list changes (required for ${method})`);\n                }\n                break;\n            case 'notifications/prompts/list_changed':\n                if (!this._capabilities.prompts) {\n                    throw new Error(`Server does not support notifying of prompt list changes (required for ${method})`);\n                }\n                break;\n            case 'notifications/elicitation/complete':\n                if (!((_b = (_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.elicitation) === null || _b === void 0 ? void 0 : _b.url)) {\n                    throw new Error(`Client does not support URL elicitation (required for ${method})`);\n                }\n                break;\n            case 'notifications/cancelled':\n                // Cancellation notifications are always allowed\n                break;\n            case 'notifications/progress':\n                // Progress notifications are always allowed\n                break;\n        }\n    }\n    assertRequestHandlerCapability(method) {\n        // Task handlers are registered in Protocol constructor before _capabilities is initialized\n        // Skip capability check for task methods during initialization\n        if (!this._capabilities) {\n            return;\n        }\n        switch (method) {\n            case 'completion/complete':\n                if (!this._capabilities.completions) {\n                    throw new Error(`Server does not support completions (required for ${method})`);\n                }\n                break;\n            case 'logging/setLevel':\n                if (!this._capabilities.logging) {\n                    throw new Error(`Server does not support logging (required for ${method})`);\n                }\n                break;\n            case 'prompts/get':\n            case 'prompts/list':\n                if (!this._capabilities.prompts) {\n                    throw new Error(`Server does not support prompts (required for ${method})`);\n                }\n                break;\n            case 'resources/list':\n            case 'resources/templates/list':\n            case 'resources/read':\n                if (!this._capabilities.resources) {\n                    throw new Error(`Server does not support resources (required for ${method})`);\n                }\n                break;\n            case 'tools/call':\n            case 'tools/list':\n                if (!this._capabilities.tools) {\n                    throw new Error(`Server does not support tools (required for ${method})`);\n                }\n                break;\n            case 'tasks/get':\n            case 'tasks/list':\n            case 'tasks/result':\n            case 'tasks/cancel':\n                if (!this._capabilities.tasks) {\n                    throw new Error(`Server does not support tasks capability (required for ${method})`);\n                }\n                break;\n            case 'ping':\n            case 'initialize':\n                // No specific capability required for these methods\n                break;\n        }\n    }\n    assertTaskCapability(method) {\n        var _a, _b;\n        assertClientRequestTaskCapability((_b = (_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.tasks) === null || _b === void 0 ? void 0 : _b.requests, method, 'Client');\n    }\n    assertTaskHandlerCapability(method) {\n        var _a;\n        // Task handlers are registered in Protocol constructor before _capabilities is initialized\n        // Skip capability check for task methods during initialization\n        if (!this._capabilities) {\n            return;\n        }\n        assertToolsCallTaskCapability((_a = this._capabilities.tasks) === null || _a === void 0 ? void 0 : _a.requests, method, 'Server');\n    }\n    async _oninitialize(request) {\n        const requestedVersion = request.params.protocolVersion;\n        this._clientCapabilities = request.params.capabilities;\n        this._clientVersion = request.params.clientInfo;\n        const protocolVersion = SUPPORTED_PROTOCOL_VERSIONS.includes(requestedVersion) ? requestedVersion : LATEST_PROTOCOL_VERSION;\n        return {\n            protocolVersion,\n            capabilities: this.getCapabilities(),\n            serverInfo: this._serverInfo,\n            ...(this._instructions && { instructions: this._instructions })\n        };\n    }\n    /**\n     * After initialization has completed, this will be populated with the client's reported capabilities.\n     */\n    getClientCapabilities() {\n        return this._clientCapabilities;\n    }\n    /**\n     * After initialization has completed, this will be populated with information about the client's name and version.\n     */\n    getClientVersion() {\n        return this._clientVersion;\n    }\n    getCapabilities() {\n        return this._capabilities;\n    }\n    async ping() {\n        return this.request({ method: 'ping' }, EmptyResultSchema);\n    }\n    // Implementation\n    async createMessage(params, options) {\n        var _a, _b;\n        // Capability check - only required when tools/toolChoice are provided\n        if (params.tools || params.toolChoice) {\n            if (!((_b = (_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.sampling) === null || _b === void 0 ? void 0 : _b.tools)) {\n                throw new Error('Client does not support sampling tools capability.');\n            }\n        }\n        // Message structure validation - always validate tool_use/tool_result pairs.\n        // These may appear even without tools/toolChoice in the current request when\n        // a previous sampling request returned tool_use and this is a follow-up with results.\n        if (params.messages.length > 0) {\n            const lastMessage = params.messages[params.messages.length - 1];\n            const lastContent = Array.isArray(lastMessage.content) ? lastMessage.content : [lastMessage.content];\n            const hasToolResults = lastContent.some(c => c.type === 'tool_result');\n            const previousMessage = params.messages.length > 1 ? params.messages[params.messages.length - 2] : undefined;\n            const previousContent = previousMessage\n                ? Array.isArray(previousMessage.content)\n                    ? previousMessage.content\n                    : [previousMessage.content]\n                : [];\n            const hasPreviousToolUse = previousContent.some(c => c.type === 'tool_use');\n            if (hasToolResults) {\n                if (lastContent.some(c => c.type !== 'tool_result')) {\n                    throw new Error('The last message must contain only tool_result content if any is present');\n                }\n                if (!hasPreviousToolUse) {\n                    throw new Error('tool_result blocks are not matching any tool_use from the previous message');\n                }\n            }\n            if (hasPreviousToolUse) {\n                const toolUseIds = new Set(previousContent.filter(c => c.type === 'tool_use').map(c => c.id));\n                const toolResultIds = new Set(lastContent.filter(c => c.type === 'tool_result').map(c => c.toolUseId));\n                if (toolUseIds.size !== toolResultIds.size || ![...toolUseIds].every(id => toolResultIds.has(id))) {\n                    throw new Error('ids of tool_result blocks and tool_use blocks from previous message do not match');\n                }\n            }\n        }\n        // Use different schemas based on whether tools are provided\n        if (params.tools) {\n            return this.request({ method: 'sampling/createMessage', params }, CreateMessageResultWithToolsSchema, options);\n        }\n        return this.request({ method: 'sampling/createMessage', params }, CreateMessageResultSchema, options);\n    }\n    /**\n     * Creates an elicitation request for the given parameters.\n     * For backwards compatibility, `mode` may be omitted for form requests and will default to `'form'`.\n     * @param params The parameters for the elicitation request.\n     * @param options Optional request options.\n     * @returns The result of the elicitation request.\n     */\n    async elicitInput(params, options) {\n        var _a, _b, _c, _d, _e;\n        const mode = ((_a = params.mode) !== null && _a !== void 0 ? _a : 'form');\n        switch (mode) {\n            case 'url': {\n                if (!((_c = (_b = this._clientCapabilities) === null || _b === void 0 ? void 0 : _b.elicitation) === null || _c === void 0 ? void 0 : _c.url)) {\n                    throw new Error('Client does not support url elicitation.');\n                }\n                const urlParams = params;\n                return this.request({ method: 'elicitation/create', params: urlParams }, ElicitResultSchema, options);\n            }\n            case 'form': {\n                if (!((_e = (_d = this._clientCapabilities) === null || _d === void 0 ? void 0 : _d.elicitation) === null || _e === void 0 ? void 0 : _e.form)) {\n                    throw new Error('Client does not support form elicitation.');\n                }\n                const formParams = params.mode === 'form' ? params : { ...params, mode: 'form' };\n                const result = await this.request({ method: 'elicitation/create', params: formParams }, ElicitResultSchema, options);\n                if (result.action === 'accept' && result.content && formParams.requestedSchema) {\n                    try {\n                        const validator = this._jsonSchemaValidator.getValidator(formParams.requestedSchema);\n                        const validationResult = validator(result.content);\n                        if (!validationResult.valid) {\n                            throw new McpError(ErrorCode.InvalidParams, `Elicitation response content does not match requested schema: ${validationResult.errorMessage}`);\n                        }\n                    }\n                    catch (error) {\n                        if (error instanceof McpError) {\n                            throw error;\n                        }\n                        throw new McpError(ErrorCode.InternalError, `Error validating elicitation response: ${error instanceof Error ? error.message : String(error)}`);\n                    }\n                }\n                return result;\n            }\n        }\n    }\n    /**\n     * Creates a reusable callback that, when invoked, will send a `notifications/elicitation/complete`\n     * notification for the specified elicitation ID.\n     *\n     * @param elicitationId The ID of the elicitation to mark as complete.\n     * @param options Optional notification options. Useful when the completion notification should be related to a prior request.\n     * @returns A function that emits the completion notification when awaited.\n     */\n    createElicitationCompletionNotifier(elicitationId, options) {\n        var _a, _b;\n        if (!((_b = (_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.elicitation) === null || _b === void 0 ? void 0 : _b.url)) {\n            throw new Error('Client does not support URL elicitation (required for notifications/elicitation/complete)');\n        }\n        return () => this.notification({\n            method: 'notifications/elicitation/complete',\n            params: {\n                elicitationId\n            }\n        }, options);\n    }\n    async listRoots(params, options) {\n        return this.request({ method: 'roots/list', params }, ListRootsResultSchema, options);\n    }\n    /**\n     * Sends a logging message to the client, if connected.\n     * Note: You only need to send the parameters object, not the entire JSON RPC message\n     * @see LoggingMessageNotification\n     * @param params\n     * @param sessionId optional for stateless and backward compatibility\n     */\n    async sendLoggingMessage(params, sessionId) {\n        if (this._capabilities.logging) {\n            if (!this.isMessageIgnored(params.level, sessionId)) {\n                return this.notification({ method: 'notifications/message', params });\n            }\n        }\n    }\n    async sendResourceUpdated(params) {\n        return this.notification({\n            method: 'notifications/resources/updated',\n            params\n        });\n    }\n    async sendResourceListChanged() {\n        return this.notification({\n            method: 'notifications/resources/list_changed'\n        });\n    }\n    async sendToolListChanged() {\n        return this.notification({ method: 'notifications/tools/list_changed' });\n    }\n    async sendPromptListChanged() {\n        return this.notification({ method: 'notifications/prompts/list_changed' });\n    }\n}\n//# sourceMappingURL=index.js.map","import { JSONRPCMessageSchema } from '../types.js';\n/**\n * Buffers a continuous stdio stream into discrete JSON-RPC messages.\n */\nexport class ReadBuffer {\n    append(chunk) {\n        this._buffer = this._buffer ? Buffer.concat([this._buffer, chunk]) : chunk;\n    }\n    readMessage() {\n        if (!this._buffer) {\n            return null;\n        }\n        const index = this._buffer.indexOf('\\n');\n        if (index === -1) {\n            return null;\n        }\n        const line = this._buffer.toString('utf8', 0, index).replace(/\\r$/, '');\n        this._buffer = this._buffer.subarray(index + 1);\n        return deserializeMessage(line);\n    }\n    clear() {\n        this._buffer = undefined;\n    }\n}\nexport function deserializeMessage(line) {\n    return JSONRPCMessageSchema.parse(JSON.parse(line));\n}\nexport function serializeMessage(message) {\n    return JSON.stringify(message) + '\\n';\n}\n//# sourceMappingURL=stdio.js.map"],"x_google_ignoreList":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138],"mappings":"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QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGAAiG;EACzG,CAAC,QAAO,kEAAkE;EAC1E,CAAC,QAAO,iGA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"}