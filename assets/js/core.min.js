!function(){"use strict";class t{constructor(){this.menuButton=document.querySelector("[data-mobile-menu-button]"),this.menuPanel=document.querySelector("[data-mobile-menu-panel]"),this.menuOverlay=document.querySelector("[data-mobile-menu-overlay]"),this.closeButton=document.querySelector("[data-mobile-menu-close]"),this.isOpen=!1,this.init()}init(){this.menuButton&&(this.menuButton.addEventListener("click",()=>this.toggle()),this.closeButton&&this.closeButton.addEventListener("click",()=>this.close()),this.menuOverlay&&this.menuOverlay.addEventListener("click",()=>this.close()),document.addEventListener("keydown",t=>{"Escape"===t.key&&this.isOpen&&this.close()}),this.handleSwipeGestures())}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,document.body.style.overflow="hidden",this.menuPanel&&this.menuPanel.classList.add("active"),this.menuOverlay&&this.menuOverlay.classList.add("active"),this.trapFocus()}close(){this.isOpen=!1,document.body.style.overflow="",this.menuPanel&&this.menuPanel.classList.remove("active"),this.menuOverlay&&this.menuOverlay.classList.remove("active"),this.menuButton.focus()}trapFocus(){if(!this.menuPanel)return;const t=this.menuPanel.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])');if(0===t.length)return;const e=t[0],n=t[t.length-1];e.focus(),this.menuPanel.addEventListener("keydown",t=>{"Tab"===t.key&&(t.shiftKey?document.activeElement===e&&(t.preventDefault(),n.focus()):document.activeElement===n&&(t.preventDefault(),e.focus()))})}handleSwipeGestures(){if(!this.menuPanel)return;let t=0,e=0;this.menuPanel.addEventListener("touchstart",e=>{t=e.changedTouches[0].screenX}),this.menuPanel.addEventListener("touchend",n=>{e=n.changedTouches[0].screenX,this.handleSwipe(t,e)})}handleSwipe(t,e){t-e<-50&&this.close()}}class e{constructor(){this.progressBar=null,this.init()}init(){if(!document.querySelector("article"))return;this.createProgressBar(),this.updateProgress();let t=!1;window.addEventListener("scroll",()=>{t||(window.requestAnimationFrame(()=>{this.updateProgress(),t=!1}),t=!0)})}createProgressBar(){this.progressBar=document.createElement("div"),this.progressBar.className="reading-progress",this.progressBar.setAttribute("role","progressbar"),this.progressBar.setAttribute("aria-valuemin","0"),this.progressBar.setAttribute("aria-valuemax","100"),document.body.appendChild(this.progressBar)}updateProgress(){const t=window.scrollY,e=document.documentElement.scrollHeight-window.innerHeight,n=e>0?t/e*100:0;this.progressBar&&(this.progressBar.style.width=`${n}%`,this.progressBar.setAttribute("aria-valuenow",Math.round(n)))}}class n{constructor(){this.init()}init(){document.querySelectorAll("pre code").forEach(t=>{this.addCopyButton(t)})}addCopyButton(t){const e=t.parentElement;if(e.querySelector(".code-copy-btn"))return;const n=document.createElement("button");n.className="code-copy-btn",n.textContent="Copy",n.setAttribute("aria-label","Copy code to clipboard"),n.addEventListener("click",()=>{this.copyCode(t,n)}),e.style.position="relative",e.appendChild(n)}async copyCode(t,e){const n=t.textContent;try{await navigator.clipboard.writeText(n),e.textContent="Copied!",e.classList.add("copied"),setTimeout(()=>{e.textContent="Copy",e.classList.remove("copied")},2e3)}catch(o){const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{document.execCommand("copy"),e.textContent="Copied!",e.classList.add("copied"),setTimeout(()=>{e.textContent="Copy",e.classList.remove("copied")},2e3)}catch(o){e.textContent="Failed"}document.body.removeChild(t)}}}class o{constructor(){this.headerHeight=80,this.init()}init(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{const n=t.getAttribute("href");if("#"===n)return;e.preventDefault();const o=document.querySelector(n);o&&(this.scrollToElement(o),history.pushState(null,null,n))})}),window.location.hash&&setTimeout(()=>{const t=document.querySelector(window.location.hash);t&&this.scrollToElement(t)},100)}scrollToElement(t){const e=t.offsetTop-this.headerHeight;window.scrollTo({top:e,behavior:"smooth"})}}class s{constructor(){this.touchStartY=0,this.isPulling=!1,this.threshold=100,this.init()}init(){"ontouchstart"in window&&(this.createIndicator(),document.addEventListener("touchstart",t=>this.handleTouchStart(t)),document.addEventListener("touchmove",t=>this.handleTouchMove(t)),document.addEventListener("touchend",()=>this.handleTouchEnd()))}createIndicator(){this.indicator=document.createElement("div"),this.indicator.className="pull-to-refresh",this.indicator.innerHTML='\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M3 12a9 9 0 1 0 9-9 9 9 0 0 0-9 9"></path>\n        </svg>\n      ',document.body.appendChild(this.indicator)}handleTouchStart(t){0===window.scrollY&&(this.touchStartY=t.touches[0].clientY,this.isPulling=!0)}handleTouchMove(t){if(!this.isPulling)return;const e=t.touches[0].clientY-this.touchStartY;if(e>0&&e<2*this.threshold){const t=Math.min(e/this.threshold,1);this.indicator.style.top=e/3+"px",this.indicator.style.opacity=t,e>this.threshold?this.indicator.classList.add("active"):this.indicator.classList.remove("active")}}handleTouchEnd(){this.isPulling&&(this.indicator.classList.contains("active")&&this.refresh(),this.indicator.style.top="-60px",this.indicator.style.opacity="0",this.indicator.classList.remove("active"),this.isPulling=!1)}refresh(){window.location.reload()}}class i{constructor(){this.shortcuts={"/":()=>this.focusSearch(),"g h":()=>this.goHome(),"g p":()=>this.goPosts(),"g a":()=>this.goAbout(),"?":()=>this.showHelp()},this.lastKey="",this.init()}init(){document.addEventListener("keydown",t=>{if("INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName)return;const e=t.key,n=this.lastKey+" "+e;this.shortcuts[n]?(t.preventDefault(),this.shortcuts[n](),this.lastKey=""):this.shortcuts[e]?(t.preventDefault(),this.shortcuts[e](),this.lastKey=""):(this.lastKey=e,setTimeout(()=>{this.lastKey=""},1e3))})}focusSearch(){const t=document.querySelector("#search-input");t&&t.focus()}goHome(){window.location.href="/"}goPosts(){window.location.href="/posts/"}goAbout(){window.location.href="/about/"}showHelp(){alert("Keyboard Shortcuts:\n\n/ - Search\ng h - Go Home\ng p - Go to Posts\ng a - Go to About\n? - Show this help")}}class a{constructor(){this.init()}init(){document.querySelectorAll("table").forEach(t=>{this.makeResponsive(t)})}makeResponsive(t){const e=document.createElement("div");e.className="table-wrapper",t.parentNode.insertBefore(e,t),e.appendChild(t);const n=Array.from(t.querySelectorAll("thead th")).map(t=>t.textContent);t.querySelectorAll("tbody tr").forEach(t=>{t.querySelectorAll("td").forEach((t,e)=>{n[e]&&t.setAttribute("data-label",n[e])})}),t.classList.add("responsive-table")}}class r{constructor(){this.init()}init(){const t=document.querySelectorAll("img[data-src]");if("loading"in HTMLImageElement.prototype)t.forEach(t=>{t.loading="lazy",t.src=t.dataset.src});else{const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const n=t.target;n.src=n.dataset.src,n.removeAttribute("data-src"),e.unobserve(n)}})});t.forEach(t=>e.observe(t))}}}document.addEventListener("DOMContentLoaded",()=>{const c=window.matchMedia("(prefers-reduced-motion: reduce)").matches;new t,new e,new n,c||new o,window.innerWidth<=768&&new s,window.innerWidth>768&&new i,new a,new r,console.log("UI/UX enhancements initialized")})}(),function(){"use strict";const t=document.createElement("button");t.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">\n            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />\n        </svg>\n    ',t.setAttribute("aria-label","Back to top"),t.setAttribute("title","Back to top"),t.className="fixed bottom-8 right-8 z-50 p-3 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-all duration-300 opacity-0 invisible",t.id="back-to-top",document.body.appendChild(t);let e=!1;const n=()=>{const n=(window.pageYOffset||document.documentElement.scrollTop)>500;n&&!e?(t.classList.remove("opacity-0","invisible"),t.classList.add("opacity-100","visible"),e=!0):!n&&e&&(t.classList.remove("opacity-100","visible"),t.classList.add("opacity-0","invisible"),e=!1)};let o=!1;window.addEventListener("scroll",()=>{o||(window.requestAnimationFrame(()=>{n(),o=!1}),o=!0)},{passive:!0}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),n()}(),function(){"use strict";function t(){document.querySelectorAll(".prose pre:not([data-processed])").forEach(t=>{const e=t.querySelector("code");if(!e)return;if(t.setAttribute("data-processed","true"),e.classList.contains("language-mermaid"))return;if(t.hasAttribute("data-mermaid")||t.classList.contains("mermaid-pre"))return;if(t.parentElement&&(t.parentElement.classList.contains("mermaid")||t.parentElement.hasAttribute("data-mermaid")))return;if(t.parentElement&&t.parentElement.classList.contains("code-block-container"))return;const n=(e.textContent||"").split("\n").length;n>30&&function(t,e){const n=document.createElement("div");n.className="code-block-wrapper relative";const o=document.createElement("div");o.className="code-block-container",o.style.position="relative",t.parentNode.insertBefore(n,t),n.appendChild(o),o.appendChild(t);o.style.maxHeight="480px",o.style.overflow="hidden",o.style.transition="max-height 300ms ease-in-out";const s=document.createElement("div");s.className="code-gradient-overlay",s.style.cssText="\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      height: 60px;\n      background: linear-gradient(transparent, rgba(17, 24, 39, 0.9));\n      pointer-events: none;\n      transition: opacity 300ms ease-in-out;\n      z-index: 1;\n    ",o.appendChild(s);const i=document.createElement("button");i.className="code-toggle-btn",i.setAttribute("aria-expanded","false"),i.setAttribute("aria-label","Toggle code block"),i.style.cssText="\n      position: absolute;\n      bottom: 10px;\n      right: 10px;\n      z-index: 2;\n      background: rgba(59, 130, 246, 0.9);\n      color: white;\n      border: none;\n      border-radius: 6px;\n      padding: 6px 12px;\n      font-size: 14px;\n      font-weight: 500;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      backdrop-filter: blur(4px);\n      display: flex;\n      align-items: center;\n      gap: 6px;\n    ",i.addEventListener("mouseenter",()=>{i.style.background="rgba(37, 99, 235, 0.95)",i.style.transform="translateY(-2px)"}),i.addEventListener("mouseleave",()=>{i.style.background="rgba(59, 130, 246, 0.9)",i.style.transform="translateY(0)"});const a=t=>{const n=t?"▲":"▼",o=t?"Collapse":`Expand (${e} lines)`;i.innerHTML=`<span>${n}</span><span>${o}</span>`};a(!1),o.appendChild(i);const r=document.createElement("div");r.className="code-line-counter",r.style.cssText="\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      background: rgba(0, 0, 0, 0.5);\n      color: rgba(255, 255, 255, 0.7);\n      padding: 2px 8px;\n      border-radius: 4px;\n      font-size: 12px;\n      font-family: monospace;\n      backdrop-filter: blur(4px);\n    ",r.textContent=`${e} lines`,o.appendChild(r);let c=!1;i.addEventListener("click",()=>{if(c=!c,c){const e=t.scrollHeight+40;o.style.maxHeight=`${e}px`,s.style.opacity="0",i.setAttribute("aria-expanded","true"),setTimeout(()=>{i.style.position="sticky",i.style.bottom="10px"},300)}else i.style.position="absolute",o.style.maxHeight="480px",s.style.opacity="1",i.setAttribute("aria-expanded","false"),n.getBoundingClientRect().top<0&&n.scrollIntoView({behavior:"smooth",block:"start"});a(c)}),i.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),i.click())})}(t,n)})}function e(){document.querySelectorAll(".prose pre:not([data-copy-processed])").forEach(t=>{if(t.setAttribute("data-copy-processed","true"),t.querySelector(".code-copy-btn"))return;const e=t.querySelector("code");if(!e)return;if(e.classList.contains("language-mermaid"))return;if(t.hasAttribute("data-mermaid")||t.classList.contains("mermaid-pre"))return;if(t.parentElement&&(t.parentElement.classList.contains("mermaid")||t.parentElement.hasAttribute("data-mermaid")))return;let n=null;const o=e.className.split(" ");for(const i of o)if(i.startsWith("language-")){n=i.replace("language-","");break}if(n&&"nohighlight"!==n){const e={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",py:"Python",python:"Python",bash:"Bash",sh:"Shell",shell:"Shell",html:"HTML",css:"CSS",scss:"SCSS",json:"JSON",yaml:"YAML",yml:"YAML",xml:"XML",sql:"SQL",go:"Go",rust:"Rust",java:"Java",c:"C",cpp:"C++",csharp:"C#",php:"PHP",ruby:"Ruby",swift:"Swift",kotlin:"Kotlin",r:"R",dockerfile:"Dockerfile",makefile:"Makefile",nginx:"Nginx",apache:"Apache",toml:"TOML",ini:"INI",markdown:"Markdown",md:"Markdown",plaintext:"Text",text:"Text"}[n.toLowerCase()]||n.charAt(0).toUpperCase()+n.slice(1),o=document.createElement("div");o.className="code-language-label",o.style.cssText="\n          position: absolute;\n          top: 10px;\n          left: 10px;\n          background: rgba(99, 102, 241, 0.15);\n          color: rgba(99, 102, 241, 0.9);\n          border: 1px solid rgba(99, 102, 241, 0.3);\n          border-radius: 4px;\n          padding: 2px 8px;\n          font-size: 11px;\n          font-weight: 600;\n          font-family: monospace;\n          letter-spacing: 0.5px;\n          text-transform: uppercase;\n          z-index: 2;\n          pointer-events: none;\n        ",o.textContent=e,t.appendChild(o)}const s=document.createElement("button");s.className="code-copy-btn",s.setAttribute("aria-label","Copy code"),s.style.cssText="\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        background: rgba(75, 85, 99, 0.8);\n        color: white;\n        border: none;\n        border-radius: 4px;\n        padding: 4px 8px;\n        font-size: 12px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        z-index: 3;\n      ",s.textContent="Copy",t.style.position="relative",s.addEventListener("click",async()=>{const t=e.textContent||"";try{await navigator.clipboard.writeText(t),s.textContent="Copied!",s.style.background="rgba(34, 197, 94, 0.8)",setTimeout(()=>{s.textContent="Copy",s.style.background="rgba(75, 85, 99, 0.8)"},2e3)}catch(n){s.textContent="Failed",s.style.background="rgba(239, 68, 68, 0.8)",setTimeout(()=>{s.textContent="Copy",s.style.background="rgba(75, 85, 99, 0.8)"},2e3)}}),s.addEventListener("mouseenter",()=>{"Copy"===s.textContent&&(s.style.background="rgba(55, 65, 81, 0.9)")}),s.addEventListener("mouseleave",()=>{"Copy"===s.textContent&&(s.style.background="rgba(75, 85, 99, 0.8)")}),t.appendChild(s)})}window.initCollapsibleCodeBlocks=t,window.addCopyButtons=e,window.codeCollapseInitialized||(window.codeCollapseInitialized=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{t(),e()}):(t(),e()),window.addEventListener("codeBlocksUpdated",()=>{t(),e()}))}();